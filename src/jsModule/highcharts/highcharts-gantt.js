/**
 * Highcharts Gantt JS v9.3.1 (2021-11-05)
 * 将draggable-points的两个module直接添加到了highcharts-gantt里面，所以不需要再引入事件的js
 */
/* eslint-disable */
'use strict';(function(root,factory){if(typeof module==="object"&&module.exports){factory["default"]=factory;module.exports=root.document?factory(root):factory}else if(typeof define==="function"&&define.amd){define("highcharts/highcharts-gantt",function(){return factory(root)})}else{if(root.Highcharts){root.Highcharts.error(16,true)}root.Highcharts=factory(root)}})(typeof window!=="undefined"?window:this,function(win){var _modules={};function _registerModule(obj,path,args,fn){if(!obj.hasOwnProperty(path)){obj[path]=fn.apply(null,args)}}_registerModule(_modules,"Core/Globals.js",[],function(){var w=typeof win!=="undefined"?win:typeof window!=="undefined"?window:{};var Globals;(function(Globals){(Globals.SVG_NS="http://www.w3.org/2000/svg"),(Globals.product="Highcharts"),(Globals.version="9.3.1"),(Globals.win=w),(Globals.doc=Globals.win.document),(Globals.svg=Globals.doc&&Globals.doc.createElementNS&&!!Globals.doc.createElementNS(Globals.SVG_NS,"svg").createSVGRect),(Globals.userAgent=(Globals.win.navigator&&Globals.win.navigator.userAgent)||""),(Globals.isChrome=Globals.userAgent.indexOf("Chrome")!==-1),(Globals.isFirefox=Globals.userAgent.indexOf("Firefox")!==-1),(Globals.isMS=/(edge|msie|trident)/i.test(Globals.userAgent)&&!Globals.win.opera),(Globals.isSafari=!Globals.isChrome&&Globals.userAgent.indexOf("Safari")!==-1),(Globals.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(Globals.userAgent)),(Globals.isWebKit=Globals.userAgent.indexOf("AppleWebKit")!==-1),(Globals.deg2rad=(Math.PI*2)/360),(Globals.hasBidiBug=Globals.isFirefox&&parseInt(Globals.userAgent.split("Firefox/")[1],10)<4),(Globals.hasTouch=!!Globals.win.TouchEvent),(Globals.marginNames=["plotTop","marginRight","marginBottom","plotLeft",]),(Globals.noop=function(){}),(Globals.supportsPassiveEvents=(function(){var supportsPassive=false;if(!Globals.isMS){var opts=Object.defineProperty({},"passive",{get:function(){supportsPassive=true},});if(Globals.win.addEventListener&&Globals.win.removeEventListener){Globals.win.addEventListener("testPassive",Globals.noop,opts);Globals.win.removeEventListener("testPassive",Globals.noop,opts)}}return supportsPassive})());Globals.charts=[];Globals.dateFormats={};Globals.seriesTypes={};Globals.symbolSizes={};Globals.chartCount=0})(Globals||(Globals={}));("");return Globals});_registerModule(_modules,"Core/Utilities.js",[_modules["Core/Globals.js"]],function(H){var charts=H.charts,doc=H.doc,win=H.win;function error(code,stop,chart,params){var severity=stop?"Highcharts error":"Highcharts warning";if(code===32){code=severity+": Deprecated member"}var isCode=isNumber(code);var message=isCode?severity+" #"+code+": www.highcharts.com/errors/"+code+"/":code.toString();var defaultHandler=function(){if(stop){throw new Error(message);}if(win.console&&error.messages.indexOf(message)===-1){console.warn(message)}};if(typeof params!=="undefined"){var additionalMessages_1="";if(isCode){message+="?"}objectEach(params,function(value,key){additionalMessages_1+="\n - "+key+": "+value;if(isCode){message+=encodeURI(key)+"="+encodeURI(value)}});message+=additionalMessages_1}fireEvent(H,"displayError",{chart:chart,code:code,message:message,params:params},defaultHandler);error.messages.push(message)}(function(error){error.messages=[]})(error||(error={}));function merge(){var i,args=arguments,ret={};var doCopy=function(copy,original){if(typeof copy!=="object"){copy={}}objectEach(original,function(value,key){if(key==="__proto__"||key==="constructor"){return}if(isObject(value,true)&&!isClass(value)&&!isDOMElement(value)){copy[key]=doCopy(copy[key]||{},value)}else{copy[key]=original[key]}});return copy};if(args[0]===true){ret=args[1];args=Array.prototype.slice.call(args,2)}var len=args.length;for(i=0;i<len;i++){ret=doCopy(ret,args[i])}return ret}function clamp(value,min,max){return value>min?(value<max?value:max):min}function cleanRecursively(newer,older){var result={};objectEach(newer,function(_val,key){var ob;if(isObject(newer[key],true)&&!newer.nodeType&&older[key]){ob=cleanRecursively(newer[key],older[key]);if(Object.keys(ob).length){result[key]=ob}}else if(isObject(newer[key])||newer[key]!==older[key]){result[key]=newer[key]}});return result}function pInt(s,mag){return parseInt(s,mag||10)}function isString(s){return typeof s==="string"}function isArray(obj){var str=Object.prototype.toString.call(obj);return str==="[object Array]"||str==="[object Array Iterator]"}function isObject(obj,strict){return!!obj&&typeof obj==="object"&&(!strict||!isArray(obj))}function isDOMElement(obj){return isObject(obj)&&typeof obj.nodeType==="number"}function isClass(obj){var c=obj&&obj.constructor;return!!(isObject(obj,true)&&!isDOMElement(obj)&&c&&c.name&&c.name!=="Object")}function isNumber(n){return(typeof n==="number"&&!isNaN(n)&&n<Infinity&&n>-Infinity)}function erase(arr,item){var i=arr.length;while(i--){if(arr[i]===item){arr.splice(i,1);break}}}function defined(obj){return typeof obj!=="undefined"&&obj!==null}function attr(elem,prop,value){var ret;if(isString(prop)){if(defined(value)){elem.setAttribute(prop,value)}else if(elem&&elem.getAttribute){ret=elem.getAttribute(prop);if(!ret&&prop==="class"){ret=elem.getAttribute(prop+"Name")}}}else{objectEach(prop,function(val,key){if(defined(val)){elem.setAttribute(key,val)}else{elem.removeAttribute(key)}})}return ret}function splat(obj){return isArray(obj)?obj:[obj]}function syncTimeout(fn,delay,context){if(delay>0){return setTimeout(fn,delay,context)}fn.call(0,context);return-1}function internalClearTimeout(id){if(defined(id)){clearTimeout(id)}}function extend(a,b){var n;if(!a){a={}}for(n in b){a[n]=b[n]}return a}function pick(){var args=arguments;var length=args.length;for(var i=0;i<length;i++){var arg=args[i];if(typeof arg!=="undefined"&&arg!==null){return arg}}}function css(el,styles){if(H.isMS&&!H.svg){if(styles&&typeof styles.opacity!=="undefined"){styles.filter="alpha(opacity="+styles.opacity*100+")"}}extend(el.style,styles)}function createElement(tag,attribs,styles,parent,nopad){var el=doc.createElement(tag);if(attribs){extend(el,attribs)}if(nopad){css(el,{padding:"0",border:"none",margin:"0"})}if(styles){css(el,styles)}if(parent){parent.appendChild(el)}return el}function extendClass(parent,members){var obj=function(){};obj.prototype=new parent();extend(obj.prototype,members);return obj}function pad(number,length,padder){return(new Array((length||2)+1-String(number).replace("-","").length).join(padder||"0")+number)}function relativeLength(value,base,offset){return/%$/.test(value)?(base*parseFloat(value))/100+(offset||0):parseFloat(value)}function wrap(obj,method,func){var proceed=obj[method];obj[method]=function(){var args=Array.prototype.slice.call(arguments),outerArgs=arguments,ctx=this;ctx.proceed=function(){proceed.apply(ctx,arguments.length?arguments:outerArgs)};args.unshift(proceed);var ret=func.apply(this,args);ctx.proceed=null;return ret}}function getMagnitude(num){return Math.pow(10,Math.floor(Math.log(num)/Math.LN10))}function normalizeTickInterval(interval,multiples,magnitude,allowDecimals,hasTickAmount){var i,retInterval=interval;magnitude=pick(magnitude,1);var normalized=interval/magnitude;if(!multiples){multiples=hasTickAmount?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10];if(allowDecimals===false){if(magnitude===1){multiples=multiples.filter(function(num){return num%1===0})}else if(magnitude<=0.1){multiples=[1/magnitude]}}}for(i=0;i<multiples.length;i++){retInterval=multiples[i];if((hasTickAmount&&retInterval*magnitude>=interval)||(!hasTickAmount&&normalized<=(multiples[i]+(multiples[i+1]||multiples[i]))/2)){break}}retInterval=correctFloat(retInterval*magnitude,-Math.round(Math.log(0.001)/Math.LN10));return retInterval}function stableSort(arr,sortFunction){var length=arr.length;var sortValue,i;for(i=0;i<length;i++){arr[i].safeI=i}arr.sort(function(a,b){sortValue=sortFunction(a,b);return sortValue===0?a.safeI-b.safeI:sortValue});for(i=0;i<length;i++){delete arr[i].safeI}}function arrayMin(data){var i=data.length,min=data[0];while(i--){if(data[i]<min){min=data[i]}}return min}function arrayMax(data){var i=data.length,max=data[0];while(i--){if(data[i]>max){max=data[i]}}return max}function destroyObjectProperties(obj,except){objectEach(obj,function(val,n){if(val&&val!==except&&val.destroy){val.destroy()}delete obj[n]})}function discardElement(element){if(!garbageBin){garbageBin=createElement("div")}if(element){garbageBin.appendChild(element)}garbageBin.innerHTML=""}var garbageBin;function correctFloat(num,prec){return num>1e14?num:parseFloat(num.toPrecision(prec||14))}var timeUnits={millisecond:1,second:1000,minute:60000,hour:3600000,day:24*3600000,week:7*24*3600000,month:28*24*3600000,year:364*24*3600000,};Math.easeInOutSine=function(pos){return-0.5*(Math.cos(Math.PI*pos)-1)};function getNestedProperty(path,parent){var pathElements=path.split(".");while(pathElements.length&&defined(parent)){var pathElement=pathElements.shift();if(typeof pathElement==="undefined"||pathElement==="__proto__"){return}var child=parent[pathElement];if(!defined(child)||typeof child==="function"||typeof child.nodeType==="number"||child===win){return}parent=child}return parent}function getStyle(el,prop,toInt){var customGetStyle=H.getStyle||getStyle;var style;if(prop==="width"){var offsetWidth=Math.min(el.offsetWidth,el.scrollWidth);var boundingClientRectWidth=el.getBoundingClientRect&&el.getBoundingClientRect().width;if(boundingClientRectWidth<offsetWidth&&boundingClientRectWidth>=offsetWidth-1){offsetWidth=Math.floor(boundingClientRectWidth)}return Math.max(0,offsetWidth-(customGetStyle(el,"padding-left",true)||0)-(customGetStyle(el,"padding-right",true)||0))}if(prop==="height"){return Math.max(0,Math.min(el.offsetHeight,el.scrollHeight)-(customGetStyle(el,"padding-top",true)||0)-(customGetStyle(el,"padding-bottom",true)||0))}if(!win.getComputedStyle){error(27,true)}var css=win.getComputedStyle(el,undefined);if(css){style=css.getPropertyValue(prop);if(pick(toInt,prop!=="opacity")){style=pInt(style)}}return style}function inArray(item,arr,fromIndex){error(32,false,void 0,{"Highcharts.inArray":"use Array.indexOf"});return arr.indexOf(item,fromIndex)}var find=Array.prototype.find?function(arr,callback){return arr.find(callback)}:function(arr,callback){var i;var length=arr.length;for(i=0;i<length;i++){if(callback(arr[i],i)){return arr[i]}}};function keys(obj){error(32,false,void 0,{"Highcharts.keys":"use Object.keys"});return Object.keys(obj)}function offset(el){var docElem=doc.documentElement,box=el.parentElement||el.parentNode?el.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:box.top+(win.pageYOffset||docElem.scrollTop)-(docElem.clientTop||0),left:box.left+(win.pageXOffset||docElem.scrollLeft)-(docElem.clientLeft||0),width:box.width,height:box.height,}}function objectEach(obj,fn,ctx){for(var key in obj){if(Object.hasOwnProperty.call(obj,key)){fn.call(ctx||obj[key],obj[key],key,obj)}}}objectEach({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some",},function(val,key){H[key]=function(arr){var _a;error(32,false,void 0,((_a={}),(_a["Highcharts."+key]="use Array."+val),_a));return Array.prototype[val].apply(arr,[].slice.call(arguments,1))}});function addEvent(el,type,fn,options){if(options===void 0){options={}}var owner=(typeof el==="function"&&el.prototype)||el;if(!Object.hasOwnProperty.call(owner,"hcEvents")){owner.hcEvents={}}var events=owner.hcEvents;if(H.Point&&el instanceof H.Point&&el.series&&el.series.chart){el.series.chart.runTrackerClick=true}var addEventListener=el.addEventListener||H.addEventListenerPolyfill;if(addEventListener){addEventListener.call(el,type,fn,H.supportsPassiveEvents?{passive:options.passive===void 0?type.indexOf("touch")!==-1:options.passive,capture:false,}:false)}if(!events[type]){events[type]=[]}var eventObject={fn:fn,order:typeof options.order==="number"?options.order:Infinity,};events[type].push(eventObject);events[type].sort(function(a,b){return a.order-b.order});return function(){removeEvent(el,type,fn)}}function removeEvent(el,type,fn){function removeOneEvent(type,fn){var removeEventListener=el.removeEventListener||H.removeEventListenerPolyfill;if(removeEventListener){removeEventListener.call(el,type,fn,false)}}function removeAllEvents(eventCollection){var types,len;if(!el.nodeName){return}if(type){types={};types[type]=true}else{types=eventCollection}objectEach(types,function(_val,n){if(eventCollection[n]){len=eventCollection[n].length;while(len--){removeOneEvent(n,eventCollection[n][len].fn)}}})}var owner=(typeof el==="function"&&el.prototype)||el;if(Object.hasOwnProperty.call(owner,"hcEvents")){var events=owner.hcEvents;if(type){var typeEvents=events[type]||[];if(fn){events[type]=typeEvents.filter(function(obj){return fn!==obj.fn});removeOneEvent(type,fn)}else{removeAllEvents(events);events[type]=[]}}else{removeAllEvents(events);delete owner.hcEvents}}}function fireEvent(el,type,eventArguments,defaultFunction){var e,i;eventArguments=eventArguments||{};if(doc.createEvent&&(el.dispatchEvent||(el.fireEvent&&el!==H))){e=doc.createEvent("Events");e.initEvent(type,true,true);eventArguments=extend(e,eventArguments);if(el.dispatchEvent){el.dispatchEvent(eventArguments)}else{el.fireEvent(type,eventArguments)}}else if(el.hcEvents){if(!eventArguments.target){extend(eventArguments,{preventDefault:function(){eventArguments.defaultPrevented=true},target:el,type:type,})}var events=[];var object=el;var multilevel=false;while(object.hcEvents){if(Object.hasOwnProperty.call(object,"hcEvents")&&object.hcEvents[type]){if(events.length){multilevel=true}events.unshift.apply(events,object.hcEvents[type])}object=Object.getPrototypeOf(object)}if(multilevel){events.sort(function(a,b){return a.order-b.order})}events.forEach(function(obj){if(obj.fn.call(el,eventArguments)===false){eventArguments.preventDefault()}})}if(defaultFunction&&!eventArguments.defaultPrevented){defaultFunction.call(el,eventArguments)}}var serialMode;var uniqueKey=(function(){var hash=Math.random().toString(36).substring(2,9)+"-";var id=0;return function(){return"highcharts-"+(serialMode?"":hash)+id++}})();function useSerialIds(mode){return(serialMode=pick(mode,serialMode))}function isFunction(obj){return typeof obj==="function"}if(win.jQuery){win.jQuery.fn.highcharts=function(){var args=[].slice.call(arguments);if(this[0]){if(args[0]){new H[isString(args[0])?args.shift():"Chart"](this[0],args[0],args[1]);return this}return charts[attr(this[0],"data-highcharts-chart")]}}}var Utilities={addEvent:addEvent,arrayMax:arrayMax,arrayMin:arrayMin,attr:attr,clamp:clamp,cleanRecursively:cleanRecursively,clearTimeout:internalClearTimeout,correctFloat:correctFloat,createElement:createElement,css:css,defined:defined,destroyObjectProperties:destroyObjectProperties,discardElement:discardElement,erase:erase,error:error,extend:extend,extendClass:extendClass,find:find,fireEvent:fireEvent,getMagnitude:getMagnitude,getNestedProperty:getNestedProperty,getStyle:getStyle,inArray:inArray,isArray:isArray,isClass:isClass,isDOMElement:isDOMElement,isFunction:isFunction,isNumber:isNumber,isObject:isObject,isString:isString,keys:keys,merge:merge,normalizeTickInterval:normalizeTickInterval,objectEach:objectEach,offset:offset,pad:pad,pick:pick,pInt:pInt,relativeLength:relativeLength,removeEvent:removeEvent,splat:splat,stableSort:stableSort,syncTimeout:syncTimeout,timeUnits:timeUnits,uniqueKey:uniqueKey,useSerialIds:useSerialIds,wrap:wrap,};("");return Utilities});_registerModule(_modules,"Core/Chart/ChartDefaults.js",[],function(){var ChartDefaults={panning:{enabled:false,type:"x",},styledMode:false,borderRadius:0,colorCount:10,defaultSeriesType:"line",ignoreHiddenSeries:true,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6,},position:{align:"right",x:-10,y:10,},},zoomBySingleTouch:false,width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc",};return ChartDefaults});_registerModule(_modules,"Core/Color/Color.js",[_modules["Core/Globals.js"],_modules["Core/Utilities.js"]],function(H,U){var isNumber=U.isNumber,merge=U.merge,pInt=U.pInt;var Color=(function(){function Color(input){this.rgba=[NaN,NaN,NaN,NaN];this.input=input;var GlobalColor=H.Color;if(GlobalColor&&GlobalColor!==Color){return new GlobalColor(input)}if(!(this instanceof Color)){return new Color(input)}this.init(input)}Color.parse=function(input){return input?new Color(input):Color.None};Color.prototype.init=function(input){var result,rgba,i,parser;if(typeof input==="object"&&typeof input.stops!=="undefined"){this.stops=input.stops.map(function(stop){return new Color(stop[1])})}else if(typeof input==="string"){this.input=input=Color.names[input.toLowerCase()]||input;if(input.charAt(0)==="#"){var len=input.length,col=parseInt(input.substr(1),16);if(len===7){rgba=[(col&0xff0000)>>16,(col&0xff00)>>8,col&0xff,1,]}else if(len===4){rgba=[((col&0xf00)>>4)|((col&0xf00)>>8),((col&0xf0)>>4)|(col&0xf0),((col&0xf)<<4)|(col&0xf),1,]}}if(!rgba){i=Color.parsers.length;while(i--&&!rgba){parser=Color.parsers[i];result=parser.regex.exec(input);if(result){rgba=parser.parse(result)}}}}if(rgba){this.rgba=rgba}};Color.prototype.get=function(format){var input=this.input,rgba=this.rgba;if(typeof input==="object"&&typeof this.stops!=="undefined"){var ret_1=merge(input);ret_1.stops=[].slice.call(ret_1.stops);this.stops.forEach(function(stop,i){ret_1.stops[i]=[ret_1.stops[i][0],stop.get(format)]});return ret_1}if(rgba&&isNumber(rgba[0])){if(format==="rgb"||(!format&&rgba[3]===1)){return"rgb("+rgba[0]+","+rgba[1]+","+rgba[2]+")"}if(format==="a"){return""+rgba[3]}return"rgba("+rgba.join(",")+")"}return input};Color.prototype.brighten=function(alpha){var rgba=this.rgba;if(this.stops){this.stops.forEach(function(stop){stop.brighten(alpha)})}else if(isNumber(alpha)&&alpha!==0){for(var i=0;i<3;i++){rgba[i]+=pInt(alpha*255);if(rgba[i]<0){rgba[i]=0}if(rgba[i]>255){rgba[i]=255}}}return this};Color.prototype.setOpacity=function(alpha){this.rgba[3]=alpha;return this};Color.prototype.tweenTo=function(to,pos){var fromRgba=this.rgba,toRgba=to.rgba;if(!isNumber(fromRgba[0])||!isNumber(toRgba[0])){return to.input||"none"}var hasAlpha=toRgba[3]!==1||fromRgba[3]!==1;return((hasAlpha?"rgba(":"rgb(")+Math.round(toRgba[0]+(fromRgba[0]-toRgba[0])*(1-pos))+","+Math.round(toRgba[1]+(fromRgba[1]-toRgba[1])*(1-pos))+","+Math.round(toRgba[2]+(fromRgba[2]-toRgba[2])*(1-pos))+(hasAlpha?","+(toRgba[3]+(fromRgba[3]-toRgba[3])*(1-pos)):"")+")")};Color.names={white:"#ffffff",black:"#000000",};Color.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(result){return[pInt(result[1]),pInt(result[2]),pInt(result[3]),parseFloat(result[4],10),]},},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(result){return[pInt(result[1]),pInt(result[2]),pInt(result[3]),1]},},];Color.None=new Color("");return Color})();("");return Color});_registerModule(_modules,"Core/Color/Palettes.js",[],function(){var SeriesPalettes={colors:["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1",],};return SeriesPalettes});_registerModule(_modules,"Core/Time.js",[_modules["Core/Globals.js"],_modules["Core/Utilities.js"]],function(H,U){var win=H.win;var defined=U.defined,error=U.error,extend=U.extend,isObject=U.isObject,merge=U.merge,objectEach=U.objectEach,pad=U.pad,pick=U.pick,splat=U.splat,timeUnits=U.timeUnits;var hasNewSafariBug=H.isSafari&&win.Intl&&win.Intl.DateTimeFormat.prototype.formatRange;var hasOldSafariBug=H.isSafari&&win.Intl&&!win.Intl.DateTimeFormat.prototype.formatRange;var Time=(function(){function Time(options){this.options={};this.useUTC=false;this.variableTimezone=false;this.Date=win.Date;this.getTimezoneOffset=this.timezoneOffsetFunction();this.update(options)}Time.prototype.get=function(unit,date){if(this.variableTimezone||this.timezoneOffset){var realMs=date.getTime();var ms=realMs-this.getTimezoneOffset(date);date.setTime(ms);var ret=date["getUTC"+unit]();date.setTime(realMs);return ret}if(this.useUTC){return date["getUTC"+unit]()}return date["get"+unit]()};Time.prototype.set=function(unit,date,value){if(this.variableTimezone||this.timezoneOffset){if(unit==="Milliseconds"||unit==="Seconds"||(unit==="Minutes"&&this.getTimezoneOffset(date)%3600000===0)){return date["setUTC"+unit](value)}var offset=this.getTimezoneOffset(date);var ms=date.getTime()-offset;date.setTime(ms);date["setUTC"+unit](value);var newOffset=this.getTimezoneOffset(date);ms=date.getTime()+newOffset;return date.setTime(ms)}if(this.useUTC||(hasNewSafariBug&&unit==="FullYear")){return date["setUTC"+unit](value)}return date["set"+unit](value)};Time.prototype.update=function(options){var useUTC=pick(options&&options.useUTC,true),time=this;this.options=options=merge(true,this.options||{},options);this.Date=options.Date||win.Date||Date;this.useUTC=useUTC;this.timezoneOffset=useUTC&&options.timezoneOffset;this.getTimezoneOffset=this.timezoneOffsetFunction();this.variableTimezone=useUTC&&!!(options.getTimezoneOffset||options.timezone)};Time.prototype.makeTime=function(year,month,date,hours,minutes,seconds){var d,offset,newOffset;if(this.useUTC){d=this.Date.UTC.apply(0,arguments);offset=this.getTimezoneOffset(d);d+=offset;newOffset=this.getTimezoneOffset(d);if(offset!==newOffset){d+=newOffset-offset}else if(offset-36e5===this.getTimezoneOffset(d-36e5)&&!hasOldSafariBug){d-=36e5}}else{d=new this.Date(year,month,pick(date,1),pick(hours,0),pick(minutes,0),pick(seconds,0)).getTime()}return d};Time.prototype.timezoneOffsetFunction=function(){var time=this,options=this.options,moment=options.moment||win.moment;if(!this.useUTC){return function(timestamp){return new Date(timestamp.toString()).getTimezoneOffset()*60000}}if(options.timezone){if(!moment){error(25)}else{return function(timestamp){return(-moment.tz(timestamp,options.timezone).utcOffset()*60000)}}}if(this.useUTC&&options.getTimezoneOffset){return function(timestamp){return options.getTimezoneOffset(timestamp.valueOf())*60000}}return function(){return(time.timezoneOffset||0)*60000}};Time.prototype.dateFormat=function(format,timestamp,capitalize){if(!defined(timestamp)||isNaN(timestamp)){return((H.defaultOptions.lang&&H.defaultOptions.lang.invalidDate)||"")}format=pick(format,"%Y-%m-%d %H:%M:%S");var time=this,date=new this.Date(timestamp),hours=this.get("Hours",date),day=this.get("Day",date),dayOfMonth=this.get("Date",date),month=this.get("Month",date),fullYear=this.get("FullYear",date),lang=H.defaultOptions.lang,langWeekdays=lang&&lang.weekdays,shortWeekdays=lang&&lang.shortWeekdays,replacements=extend({a:shortWeekdays?shortWeekdays[day]:langWeekdays[day].substr(0,3),A:langWeekdays[day],d:pad(dayOfMonth),e:pad(dayOfMonth,2," "),w:day,b:lang.shortMonths[month],B:lang.months[month],m:pad(month+1),o:month+1,y:fullYear.toString().substr(2,2),Y:fullYear,H:pad(hours),k:hours,I:pad(hours%12||12),l:hours%12||12,M:pad(this.get("Minutes",date)),p:hours<12?"AM":"PM",P:hours<12?"am":"pm",S:pad(date.getSeconds()),L:pad(Math.floor(timestamp%1000),3),},H.dateFormats);objectEach(replacements,function(val,key){while(format.indexOf("%"+key)!==-1){format=format.replace("%"+key,typeof val==="function"?val.call(time,timestamp):val)}});return capitalize?format.substr(0,1).toUpperCase()+format.substr(1):format};Time.prototype.resolveDTLFormat=function(f){if(!isObject(f,true)){f=splat(f);return{main:f[0],from:f[1],to:f[2],}}return f};Time.prototype.getTimeTicks=function(normalizedInterval,min,max,startOfWeek){var time=this,Date=time.Date,tickPositions=[],higherRanks={},minDate=new Date(min),interval=normalizedInterval.unitRange,count=normalizedInterval.count||1;var i,minYear,variableDayLength,minDay;startOfWeek=pick(startOfWeek,1);if(defined(min)){time.set("Milliseconds",minDate,interval>=timeUnits.second?0:count*Math.floor(time.get("Milliseconds",minDate)/count));if(interval>=timeUnits.second){time.set("Seconds",minDate,interval>=timeUnits.minute?0:count*Math.floor(time.get("Seconds",minDate)/count))}if(interval>=timeUnits.minute){time.set("Minutes",minDate,interval>=timeUnits.hour?0:count*Math.floor(time.get("Minutes",minDate)/count))}if(interval>=timeUnits.hour){time.set("Hours",minDate,interval>=timeUnits.day?0:count*Math.floor(time.get("Hours",minDate)/count))}if(interval>=timeUnits.day){time.set("Date",minDate,interval>=timeUnits.month?1:Math.max(1,count*Math.floor(time.get("Date",minDate)/count)))}if(interval>=timeUnits.month){time.set("Month",minDate,interval>=timeUnits.year?0:count*Math.floor(time.get("Month",minDate)/count));minYear=time.get("FullYear",minDate)}if(interval>=timeUnits.year){minYear-=minYear%count;time.set("FullYear",minDate,minYear)}if(interval===timeUnits.week){minDay=time.get("Day",minDate);time.set("Date",minDate,time.get("Date",minDate)-minDay+startOfWeek+(minDay<startOfWeek?-7:0))}minYear=time.get("FullYear",minDate);var minMonth=time.get("Month",minDate),minDateDate=time.get("Date",minDate),minHours=time.get("Hours",minDate);min=minDate.getTime();if((time.variableTimezone||!time.useUTC)&&defined(max)){variableDayLength=max-min>4*timeUnits.month||time.getTimezoneOffset(min)!==time.getTimezoneOffset(max)}var t=minDate.getTime();i=1;while(t<max){tickPositions.push(t);if(interval===timeUnits.year){t=time.makeTime(minYear+i*count,0)}else if(interval===timeUnits.month){t=time.makeTime(minYear,minMonth+i*count)}else if(variableDayLength&&(interval===timeUnits.day||interval===timeUnits.week)){t=time.makeTime(minYear,minMonth,minDateDate+i*count*(interval===timeUnits.day?1:7))}else if(variableDayLength&&interval===timeUnits.hour&&count>1){t=time.makeTime(minYear,minMonth,minDateDate,minHours+i*count)}else{t+=interval*count}i++}tickPositions.push(t);if(interval<=timeUnits.hour&&tickPositions.length<10000){tickPositions.forEach(function(t){if(t%1800000===0&&time.dateFormat("%H%M%S%L",t)==="000000000"){higherRanks[t]="day"}})}}tickPositions.info=extend(normalizedInterval,{higherRanks:higherRanks,totalRange:interval*count,});return tickPositions};Time.prototype.getDateFormat=function(range,timestamp,startOfWeek,dateTimeLabelFormats){var dateStr=this.dateFormat("%m-%d %H:%M:%S.%L",timestamp),blank="01-01 00:00:00.000",strpos={millisecond:15,second:12,minute:9,hour:6,day:3,};var format,n,lastN="millisecond";for(n in timeUnits){if(range===timeUnits.week&&+this.dateFormat("%w",timestamp)===startOfWeek&&dateStr.substr(6)===blank.substr(6)){n="week";break}if(timeUnits[n]>range){n=lastN;break}if(strpos[n]&&dateStr.substr(strpos[n])!==blank.substr(strpos[n])){break}if(n!=="week"){lastN=n}}if(n){format=this.resolveDTLFormat(dateTimeLabelFormats[n]).main}return format};return Time})();("");return Time});_registerModule(_modules,"Core/DefaultOptions.js",[_modules["Core/Chart/ChartDefaults.js"],_modules["Core/Color/Color.js"],_modules["Core/Globals.js"],_modules["Core/Color/Palettes.js"],_modules["Core/Time.js"],_modules["Core/Utilities.js"],],function(ChartDefaults,Color,H,Palettes,Time,U){var color=Color.parse;var isTouchDevice=H.isTouchDevice,svg=H.svg;var merge=U.merge;var defaultOptions={colors:Palettes.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December",],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday",],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" ",},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:true,},chart:ChartDefaults,title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44,},subtitle:{text:"",align:"center",widthAdjust:-44,},caption:{margin:15,text:"",align:"left",verticalAlign:"bottom",},plotOptions:{},labels:{style:{position:"absolute",color:"#333333",},},legend:{enabled:true,align:"center",alignColumns:true,className:"highcharts-no-tooltip",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc",},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis",},itemHoverStyle:{color:"#000000",},itemHiddenStyle:{color:"#cccccc",},shadow:false,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px",},squareSymbol:true,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold",},},},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%",},style:{position:"absolute",backgroundColor:"#ffffff",opacity:0.5,textAlign:"center",},},tooltip:{enabled:true,animation:svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y",},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:false,snap:isTouchDevice?25:10,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25CF</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:color("#f7f7f7").setOpacity(0.85).get(),borderWidth:1,shadow:true,stickOnContact:false,style:{color:"#333333",cursor:"default",fontSize:"12px",whiteSpace:"nowrap",},useHTML:false,},credits:{enabled:true,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5,},style:{cursor:"pointer",color:"#999999",fontSize:"9px",},text:"Highcharts.com",},};defaultOptions.chart.styledMode=false;("");var defaultTime=new Time(merge(defaultOptions.global,defaultOptions.time));function getOptions(){return defaultOptions}function setOptions(options){merge(true,defaultOptions,options);if(options.time||options.global){if(H.time){H.time.update(merge(defaultOptions.global,defaultOptions.time,options.global,options.time))}else{H.time=defaultTime}}return defaultOptions}var DefaultOptions={defaultOptions:defaultOptions,defaultTime:defaultTime,getOptions:getOptions,setOptions:setOptions,};("");return DefaultOptions});_registerModule(_modules,"Core/Animation/Fx.js",[_modules["Core/Color/Color.js"],_modules["Core/Globals.js"],_modules["Core/Utilities.js"],],function(Color,H,U){var color=Color.parse;var win=H.win;var isNumber=U.isNumber,objectEach=U.objectEach;var Fx=(function(){function Fx(elem,options,prop){this.pos=NaN;this.options=options;this.elem=elem;this.prop=prop}Fx.prototype.dSetter=function(){var paths=this.paths,start=paths&&paths[0],end=paths&&paths[1],now=this.now||0;var path=[];if(now===1||!start||!end){path=this.toD||[]}else if(start.length===end.length&&now<1){for(var i=0;i<end.length;i++){var startSeg=start[i];var endSeg=end[i];var tweenSeg=[];for(var j=0;j<endSeg.length;j++){var startItem=startSeg[j];var endItem=endSeg[j];if(isNumber(startItem)&&isNumber(endItem)&&!(endSeg[0]==="A"&&(j===4||j===5))){tweenSeg[j]=startItem+now*(endItem-startItem)}else{tweenSeg[j]=endItem}}path.push(tweenSeg)}}else{path=end}this.elem.attr("d",path,void 0,true)};Fx.prototype.update=function(){var elem=this.elem,prop=this.prop,now=this.now,step=this.options.step;if(this[prop+"Setter"]){this[prop+"Setter"]()}else if(elem.attr){if(elem.element){elem.attr(prop,now,null,true)}}else{elem.style[prop]=now+this.unit}if(step){step.call(elem,now,this)}};Fx.prototype.run=function(from,to,unit){var self=this,options=self.options,timer=function(gotoEnd){return timer.stopped?false:self.step(gotoEnd)},requestAnimationFrame=win.requestAnimationFrame||function(step){setTimeout(step,13)},step=function(){for(var i=0;i<Fx.timers.length;i++){if(!Fx.timers[i]()){Fx.timers.splice(i--,1)}}if(Fx.timers.length){requestAnimationFrame(step)}};if(from===to&&!this.elem["forceAnimate:"+this.prop]){delete options.curAnim[this.prop];if(options.complete&&Object.keys(options.curAnim).length===0){options.complete.call(this.elem)}}else{this.startTime=+new Date();this.start=from;this.end=to;this.unit=unit;this.now=this.start;this.pos=0;timer.elem=this.elem;timer.prop=this.prop;if(timer()&&Fx.timers.push(timer)===1){requestAnimationFrame(step)}}};Fx.prototype.step=function(gotoEnd){var t=+new Date(),options=this.options,elem=this.elem,complete=options.complete,duration=options.duration,curAnim=options.curAnim;var ret,done;if(elem.attr&&!elem.element){ret=false}else if(gotoEnd||t>=duration+this.startTime){this.now=this.end;this.pos=1;this.update();curAnim[this.prop]=true;done=true;objectEach(curAnim,function(val){if(val!==true){done=false}});if(done&&complete){complete.call(elem)}ret=false}else{this.pos=options.easing((t-this.startTime)/duration);this.now=this.start+(this.end-this.start)*this.pos;this.update();ret=true}return ret};Fx.prototype.initPath=function(elem,fromD,toD){var startX=elem.startX,endX=elem.endX,end=toD.slice(),isArea=elem.isArea,positionFactor=isArea?2:1;var shift,fullLength,i,reverse,start=fromD&&fromD.slice();if(!start){return[end,end]}function prepend(arr,other){while(arr.length<fullLength){var moveSegment=arr[0],otherSegment=other[fullLength-arr.length];if(otherSegment&&moveSegment[0]==="M"){if(otherSegment[0]==="C"){arr[0]=["C",moveSegment[1],moveSegment[2],moveSegment[1],moveSegment[2],moveSegment[1],moveSegment[2],]}else{arr[0]=["L",moveSegment[1],moveSegment[2]]}}arr.unshift(moveSegment);if(isArea){var z=arr.pop();arr.push(arr[arr.length-1],z)}}}function append(arr,other){while(arr.length<fullLength){var segmentToAdd=arr[Math.floor(arr.length/positionFactor)-1].slice();if(segmentToAdd[0]==="C"){segmentToAdd[1]=segmentToAdd[5];segmentToAdd[2]=segmentToAdd[6]}if(!isArea){arr.push(segmentToAdd)}else{var lowerSegmentToAdd=arr[Math.floor(arr.length/positionFactor)].slice();arr.splice(arr.length/2,0,segmentToAdd,lowerSegmentToAdd)}}}if(startX&&endX&&endX.length){for(i=0;i<startX.length;i++){if(startX[i]===endX[0]){shift=i;break}else if(startX[0]===endX[endX.length-startX.length+i]){shift=i;reverse=true;break}else if(startX[startX.length-1]===endX[endX.length-startX.length+i]){shift=startX.length-i;break}}if(typeof shift==="undefined"){start=[]}}if(start.length&&isNumber(shift)){fullLength=end.length+shift*positionFactor;if(!reverse){prepend(end,start);append(start,end)}else{prepend(start,end);append(end,start)}}return[start,end]};Fx.prototype.fillSetter=function(){Fx.prototype.strokeSetter.apply(this,arguments)};Fx.prototype.strokeSetter=function(){this.elem.attr(this.prop,color(this.start).tweenTo(color(this.end),this.pos),null,true)};Fx.timers=[];return Fx})();return Fx});_registerModule(_modules,"Core/Animation/AnimationUtilities.js",[_modules["Core/Animation/Fx.js"],_modules["Core/Utilities.js"]],function(Fx,U){var defined=U.defined,getStyle=U.getStyle,isArray=U.isArray,isNumber=U.isNumber,isObject=U.isObject,merge=U.merge,objectEach=U.objectEach,pick=U.pick;function setAnimation(animation,chart){chart.renderer.globalAnimation=pick(animation,chart.options.chart.animation,true)}function animObject(animation){return isObject(animation)?merge({duration:500,defer:0},animation):{duration:animation?500:0,defer:0}}function getDeferredAnimation(chart,animation,series){var labelAnimation=animObject(animation),s=series?[series]:chart.series;var defer=0,duration=0;s.forEach(function(series){var seriesAnim=animObject(series.options.animation);defer=animation&&defined(animation.defer)?labelAnimation.defer:Math.max(defer,seriesAnim.duration+seriesAnim.defer);duration=Math.min(labelAnimation.duration,seriesAnim.duration)});if(chart.renderer.forExport){defer=0}var anim={defer:Math.max(0,defer-duration),duration:Math.min(defer,duration),};return anim}function animate(el,params,opt){var start,unit="",end,fx,args;if(!isObject(opt)){args=arguments;opt={duration:args[2],easing:args[3],complete:args[4],}}if(!isNumber(opt.duration)){opt.duration=400}opt.easing=typeof opt.easing==="function"?opt.easing:Math[opt.easing]||Math.easeInOutSine;opt.curAnim=merge(params);objectEach(params,function(val,prop){stop(el,prop);fx=new Fx(el,opt,prop);end=void 0;if(prop==="d"&&isArray(params.d)){fx.paths=fx.initPath(el,el.pathArray,params.d);fx.toD=params.d;start=0;end=1}else if(el.attr){start=el.attr(prop)}else{start=parseFloat(getStyle(el,prop))||0;if(prop!=="opacity"){unit="px"}}if(!end){end=val}if(typeof end==="string"&&end.match("px")){end=end.replace(/px/g,"")}fx.run(start,end,unit)})}function stop(el,prop){var i=Fx.timers.length;while(i--){if(Fx.timers[i].elem===el&&(!prop||prop===Fx.timers[i].prop)){Fx.timers[i].stopped=true}}}var animationExports={animate:animate,animObject:animObject,getDeferredAnimation:getDeferredAnimation,setAnimation:setAnimation,stop:stop,};return animationExports});_registerModule(_modules,"Core/Renderer/HTML/AST.js",[_modules["Core/Globals.js"],_modules["Core/Utilities.js"]],function(H,U){var SVG_NS=H.SVG_NS;var attr=U.attr,createElement=U.createElement,discardElement=U.discardElement,error=U.error,isString=U.isString,objectEach=U.objectEach,splat=U.splat;var hasValidDOMParser=(function(){try{return Boolean(new DOMParser().parseFromString("","text/html"))}catch(e){return false}})();var AST=(function(){function AST(source){this.nodes=typeof source==="string"?this.parseMarkup(source):source}AST.filterUserAttributes=function(attributes){objectEach(attributes,function(val,key){var valid=true;if(AST.allowedAttributes.indexOf(key)===-1){valid=false}if(["background","dynsrc","href","lowsrc","src"].indexOf(key)!==-1){valid=isString(val)&&AST.allowedReferences.some(function(ref){return val.indexOf(ref)===0})}if(!valid){error("Highcharts warning: Invalid attribute '"+key+"' in config");delete attributes[key]}});return attributes};AST.setElementHTML=function(el,html){el.innerHTML="";if(html){var ast=new AST(html);ast.addToDOM(el)}};AST.prototype.addToDOM=function(parent){function recurse(subtree,subParent){var ret;splat(subtree).forEach(function(item){var tagName=item.tagName;var textNode=item.textContent?H.doc.createTextNode(item.textContent):void 0;var node;if(tagName){if(tagName==="#text"){node=textNode}else if(AST.allowedTags.indexOf(tagName)!==-1){var NS=tagName==="svg"?SVG_NS:subParent.namespaceURI||SVG_NS;var element=H.doc.createElementNS(NS,tagName);var attributes_1=item.attributes||{};objectEach(item,function(val,key){if(key!=="tagName"&&key!=="attributes"&&key!=="children"&&key!=="textContent"){attributes_1[key]=val}});attr(element,AST.filterUserAttributes(attributes_1));if(textNode){element.appendChild(textNode)}recurse(item.children||[],element);node=element}else{error("Highcharts warning: Invalid tagName '"+tagName+"' in config")}}if(node){subParent.appendChild(node)}ret=node});return ret}return recurse(this.nodes,parent)};AST.prototype.parseMarkup=function(markup){var nodes=[];markup=markup.trim();var doc;var body;if(hasValidDOMParser){doc=new DOMParser().parseFromString(markup,"text/html")}else{body=createElement("div");body.innerHTML=markup;doc={body:body}}var appendChildNodes=function(node,addTo){var tagName=node.nodeName.toLowerCase();var astNode={tagName:tagName,};if(tagName==="#text"){astNode.textContent=node.textContent||""}var parsedAttributes=node.attributes;if(parsedAttributes){var attributes_2={};[].forEach.call(parsedAttributes,function(attrib){attributes_2[attrib.name]=attrib.value});astNode.attributes=attributes_2}if(node.childNodes.length){var children_1=[];[].forEach.call(node.childNodes,function(childNode){appendChildNodes(childNode,children_1)});if(children_1.length){astNode.children=children_1}}addTo.push(astNode)};[].forEach.call(doc.body.childNodes,function(childNode){return appendChildNodes(childNode,nodes)});if(body){discardElement(body)}return nodes};AST.allowedAttributes=["aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","dx","dy","disabled","fill","height","href","id","in","markerHeight","markerWidth","offset","opacity","orient","padding","paddingLeft","paddingRight","patternUnits","r","refX","refY","role","scope","slope","src","startOffset","stdDeviation","stroke","stroke-linecap","stroke-width","style","tableValues","result","rowspan","summary","target","tabindex","text-align","textAnchor","textLength","title","type","valign","width","x","x1","x2","y","y1","y2","zIndex",];AST.allowedReferences=["https://","http://","mailto:","/","../","./","#",];AST.allowedTags=["a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feOffset","feMerge","feMergeNode","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","text","thead","tbody","tspan","td","th","tr","u","ul","#text",];return AST})();("");return AST});_registerModule(_modules,"Core/FormatUtilities.js",[_modules["Core/DefaultOptions.js"],_modules["Core/Utilities.js"]],function(D,U){var defaultOptions=D.defaultOptions,defaultTime=D.defaultTime;var getNestedProperty=U.getNestedProperty,isNumber=U.isNumber,pick=U.pick,pInt=U.pInt;function dateFormat(format,timestamp,capitalize){return defaultTime.dateFormat(format,timestamp,capitalize)}function format(str,ctx,chart){var splitter="{",isInside=false,segment,valueAndFormat,val,index;var floatRegex=/f$/;var decRegex=/\.([0-9])/;var lang=defaultOptions.lang;var time=(chart&&chart.time)||defaultTime;var numberFormatter=(chart&&chart.numberFormatter)||numberFormat;var ret=[];while(str){index=str.indexOf(splitter);if(index===-1){break}segment=str.slice(0,index);if(isInside){valueAndFormat=segment.split(":");val=getNestedProperty(valueAndFormat.shift()||"",ctx);if(valueAndFormat.length&&typeof val==="number"){segment=valueAndFormat.join(":");if(floatRegex.test(segment)){var decimals=parseInt((segment.match(decRegex)||["","-1"])[1],10);if(val!==null){val=numberFormatter(val,decimals,lang.decimalPoint,segment.indexOf(",")>-1?lang.thousandsSep:"")}}else{val=time.dateFormat(segment,val)}}ret.push(val)}else{ret.push(segment)}str=str.slice(index+1);isInside=!isInside;splitter=isInside?"}":"{"}ret.push(str);return ret.join("")}function numberFormat(number,decimals,decimalPoint,thousandsSep){number=+number||0;decimals=+decimals;var ret,fractionDigits;var lang=defaultOptions.lang,origDec=(number.toString().split(".")[1]||"").split("e")[0].length,exponent=number.toString().split("e"),firstDecimals=decimals;if(decimals===-1){decimals=Math.min(origDec,20)}else if(!isNumber(decimals)){decimals=2}else if(decimals&&exponent[1]&&exponent[1]<0){fractionDigits=decimals+ +exponent[1];if(fractionDigits>=0){exponent[0]=(+exponent[0]).toExponential(fractionDigits).split("e")[0];decimals=fractionDigits}else{exponent[0]=exponent[0].split(".")[0]||0;if(decimals<20){number=(exponent[0]*Math.pow(10,exponent[1])).toFixed(decimals)}else{number=0}exponent[1]=0}}var roundedNumber=(Math.abs(exponent[1]?exponent[0]:number)+Math.pow(10,-Math.max(decimals,origDec)-1)).toFixed(decimals);var strinteger=String(pInt(roundedNumber));var thousands=strinteger.length>3?strinteger.length%3:0;decimalPoint=pick(decimalPoint,lang.decimalPoint);thousandsSep=pick(thousandsSep,lang.thousandsSep);ret=number<0?"-":"";ret+=thousands?strinteger.substr(0,thousands)+thousandsSep:"";if(+exponent[1]<0&&!firstDecimals){ret="0"}else{ret+=strinteger.substr(thousands).replace(/(\d{3})(?=\d)/g,"$1"+thousandsSep)}if(decimals){ret+=decimalPoint+roundedNumber.slice(-decimals)}if(exponent[1]&&+ret!==0){ret+="e"+exponent[1]}return ret}var FormatUtilities={dateFormat:dateFormat,format:format,numberFormat:numberFormat,};return FormatUtilities});_registerModule(_modules,"Core/Renderer/RendererUtilities.js",[_modules["Core/Utilities.js"]],function(U){var clamp=U.clamp,pick=U.pick,stableSort=U.stableSort;var RendererUtilities;(function(RendererUtilities){function distribute(boxes,len,maxDistance){var origBoxes=boxes,reducedLen=origBoxes.reducedLen||len,sortByRank=function(a,b){return(b.rank||0)-(a.rank||0)},sortByTarget=function(a,b){return a.target-b.target};var i,overlapping=true,restBoxes=[],box,target,total=0;i=boxes.length;while(i--){total+=boxes[i].size}if(total>reducedLen){stableSort(boxes,sortByRank);i=0;total=0;while(total<=reducedLen){total+=boxes[i].size;i++}restBoxes=boxes.splice(i-1,boxes.length)}stableSort(boxes,sortByTarget);boxes=boxes.map(function(box){return{size:box.size,targets:[box.target],align:pick(box.align,0.5),}});while(overlapping){i=boxes.length;while(i--){box=boxes[i];target=(Math.min.apply(0,box.targets)+Math.max.apply(0,box.targets))/2;box.pos=clamp(target-box.size*box.align,0,len-box.size)}i=boxes.length;overlapping=false;while(i--){if(i>0&&boxes[i-1].pos+boxes[i-1].size>boxes[i].pos){boxes[i-1].size+=boxes[i].size;boxes[i-1].targets=boxes[i-1].targets.concat(boxes[i].targets);boxes[i-1].align=0.5;if(boxes[i-1].pos+boxes[i-1].size>len){boxes[i-1].pos=len-boxes[i-1].size}boxes.splice(i,1);overlapping=true}}}origBoxes.push.apply(origBoxes,restBoxes);i=0;boxes.some(function(box){var posInCompositeBox=0;return(box.targets||[]).some(function(){origBoxes[i].pos=box.pos+posInCompositeBox;if(typeof maxDistance!=="undefined"&&Math.abs(origBoxes[i].pos-origBoxes[i].target)>maxDistance){origBoxes.slice(0,i+1).forEach(function(box){return delete box.pos});origBoxes.reducedLen=(origBoxes.reducedLen||len)-len*0.1;if(origBoxes.reducedLen>len*0.1){distribute(origBoxes,len,maxDistance)}return true}posInCompositeBox+=origBoxes[i].size;i++;return false})});stableSort(origBoxes,sortByTarget);return origBoxes}RendererUtilities.distribute=distribute})(RendererUtilities||(RendererUtilities={}));return RendererUtilities});_registerModule(_modules,"Core/Renderer/SVG/SVGElement.js",[_modules["Core/Animation/AnimationUtilities.js"],_modules["Core/Renderer/HTML/AST.js"],_modules["Core/Color/Color.js"],_modules["Core/Globals.js"],_modules["Core/Utilities.js"],],function(A,AST,Color,H,U){var animate=A.animate,animObject=A.animObject,stop=A.stop;var deg2rad=H.deg2rad,doc=H.doc,noop=H.noop,svg=H.svg,SVG_NS=H.SVG_NS,win=H.win;var addEvent=U.addEvent,attr=U.attr,createElement=U.createElement,css=U.css,defined=U.defined,erase=U.erase,extend=U.extend,fireEvent=U.fireEvent,isArray=U.isArray,isFunction=U.isFunction,isNumber=U.isNumber,isString=U.isString,merge=U.merge,objectEach=U.objectEach,pick=U.pick,pInt=U.pInt,syncTimeout=U.syncTimeout,uniqueKey=U.uniqueKey;var SVGElement=(function(){function SVGElement(){this.element=void 0;this.onEvents={};this.opacity=1;this.renderer=void 0;this.SVG_NS=SVG_NS;this.symbolCustomAttribs=["x","y","width","height","r","start","end","innerR","anchorX","anchorY","rounded",]}SVGElement.prototype._defaultGetter=function(key){var ret=pick(this[key+"Value"],this[key],this.element?this.element.getAttribute(key):null,0);if(/^[\-0-9\.]+$/.test(ret)){ret=parseFloat(ret)}return ret};SVGElement.prototype._defaultSetter=function(value,key,element){element.setAttribute(key,value)};SVGElement.prototype.add=function(parent){var renderer=this.renderer,element=this.element;var inserted;if(parent){this.parentGroup=parent}this.parentInverted=parent&&parent.inverted;if(typeof this.textStr!=="undefined"&&this.element.nodeName==="text"){renderer.buildText(this)}this.added=true;if(!parent||parent.handleZ||this.zIndex){inserted=this.zIndexSetter()}if(!inserted){(parent?parent.element:renderer.box).appendChild(element)}if(this.onAdd){this.onAdd()}return this};SVGElement.prototype.addClass=function(className,replace){var currentClassName=replace?"":this.attr("class")||"";className=(className||"").split(/ /g).reduce(function(newClassName,name){if(currentClassName.indexOf(name)===-1){newClassName.push(name)}return newClassName},currentClassName?[currentClassName]:[]).join(" ");if(className!==currentClassName){this.attr("class",className)}return this};SVGElement.prototype.afterSetters=function(){if(this.doTransform){this.updateTransform();this.doTransform=false}};SVGElement.prototype.align=function(alignOptions,alignByTranslate,box){var attribs={},renderer=this.renderer,alignedObjects=renderer.alignedObjects;var x,y,alignTo,alignFactor,vAlignFactor;if(alignOptions){this.alignOptions=alignOptions;this.alignByTranslate=alignByTranslate;if(!box||isString(box)){this.alignTo=alignTo=box||"renderer";erase(alignedObjects,this);alignedObjects.push(this);box=void 0}}else{alignOptions=this.alignOptions;alignByTranslate=this.alignByTranslate;alignTo=this.alignTo}box=pick(box,renderer[alignTo],alignTo==="scrollablePlotBox"?renderer.plotBox:void 0,renderer);var align=alignOptions.align,vAlign=alignOptions.verticalAlign;x=(box.x||0)+(alignOptions.x||0);y=(box.y||0)+(alignOptions.y||0);if(align==="right"){alignFactor=1}else if(align==="center"){alignFactor=2}if(alignFactor){x+=(box.width-(alignOptions.width||0))/alignFactor}attribs[alignByTranslate?"translateX":"x"]=Math.round(x);if(vAlign==="bottom"){vAlignFactor=1}else if(vAlign==="middle"){vAlignFactor=2}if(vAlignFactor){y+=(box.height-(alignOptions.height||0))/vAlignFactor}attribs[alignByTranslate?"translateY":"y"]=Math.round(y);this[this.placed?"animate":"attr"](attribs);this.placed=true;this.alignAttr=attribs;return this};SVGElement.prototype.alignSetter=function(value){var convert={left:"start",center:"middle",right:"end",};if(convert[value]){this.alignValue=value;this.element.setAttribute("text-anchor",convert[value])}};SVGElement.prototype.animate=function(params,options,complete){var _this=this;var animOptions=animObject(pick(options,this.renderer.globalAnimation,true)),deferTime=animOptions.defer;if(pick(doc.hidden,doc.msHidden,doc.webkitHidden,false)){animOptions.duration=0}if(animOptions.duration!==0){if(complete){animOptions.complete=complete}syncTimeout(function(){if(_this.element){animate(_this,params,animOptions)}},deferTime)}else{this.attr(params,void 0,complete);objectEach(params,function(val,prop){if(animOptions.step){animOptions.step.call(this,val,{prop:prop,pos:1,elem:this,})}},this)}return this};SVGElement.prototype.applyTextOutline=function(textOutline){var elem=this.element,hasContrast=textOutline.indexOf("contrast")!==-1,styles={};if(hasContrast){styles.textOutline=textOutline=textOutline.replace(/contrast/g,this.renderer.getContrast(elem.style.fill))}var parts=textOutline.split(" ");var color=parts[parts.length-1];var strokeWidth=parts[0];if(strokeWidth&&strokeWidth!=="none"&&H.svg){this.fakeTS=true;this.ySetter=this.xSetter;strokeWidth=strokeWidth.replace(/(^[\d\.]+)(.*?)$/g,function(match,digit,unit){return 2*Number(digit)+unit});this.removeTextOutline();var outline_1=doc.createElementNS(SVG_NS,"tspan");attr(outline_1,{class:"highcharts-text-outline",fill:color,stroke:color,"stroke-width":strokeWidth,"stroke-linejoin":"round",});[].forEach.call(elem.childNodes,function(childNode){var clone=childNode.cloneNode(true);if(clone.removeAttribute){["fill","stroke","stroke-width","stroke"].forEach(function(prop){return clone.removeAttribute(prop)})}outline_1.appendChild(clone)});var br_1=doc.createElementNS(SVG_NS,"tspan");br_1.textContent="\u200B";["x","y"].forEach(function(key){var value=elem.getAttribute(key);if(value){br_1.setAttribute(key,value)}});outline_1.appendChild(br_1);elem.insertBefore(outline_1,elem.firstChild)}};SVGElement.prototype.attr=function(hash,val,complete,continueAnimation){var element=this.element,symbolCustomAttribs=this.symbolCustomAttribs;var key,hasSetSymbolSize,ret=this,skipAttr,setter;if(typeof hash==="string"&&typeof val!=="undefined"){key=hash;hash={};hash[key]=val}if(typeof hash==="string"){ret=(this[hash+"Getter"]||this._defaultGetter).call(this,hash,element)}else{objectEach(hash,function eachAttribute(val,key){skipAttr=false;if(!continueAnimation){stop(this,key)}if(this.symbolName&&symbolCustomAttribs.indexOf(key)!==-1){if(!hasSetSymbolSize){this.symbolAttr(hash);hasSetSymbolSize=true}skipAttr=true}if(this.rotation&&(key==="x"||key==="y")){this.doTransform=true}if(!skipAttr){setter=this[key+"Setter"]||this._defaultSetter;setter.call(this,val,key,element);if(!this.styledMode&&this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(key)){this.updateShadows(key,val,setter)}}},this);this.afterSetters()}if(complete){complete.call(this)}return ret};SVGElement.prototype.clip=function(clipRect){return this.attr("clip-path",clipRect?"url("+this.renderer.url+"#"+clipRect.id+")":"none")};SVGElement.prototype.crisp=function(rect,strokeWidth){var wrapper=this;strokeWidth=strokeWidth||rect.strokeWidth||0;var normalizer=(Math.round(strokeWidth)%2)/2;rect.x=Math.floor(rect.x||wrapper.x||0)+normalizer;rect.y=Math.floor(rect.y||wrapper.y||0)+normalizer;rect.width=Math.floor((rect.width||wrapper.width||0)-2*normalizer);rect.height=Math.floor((rect.height||wrapper.height||0)-2*normalizer);if(defined(rect.strokeWidth)){rect.strokeWidth=strokeWidth}return rect};SVGElement.prototype.complexColor=function(colorOptions,prop,elem){var renderer=this.renderer;var colorObject,gradName,gradAttr,radAttr,gradients,stops,stopColor,stopOpacity,radialReference,id,key=[],value;fireEvent(this.renderer,"complexColor",{args:arguments,},function(){if(colorOptions.radialGradient){gradName="radialGradient"}else if(colorOptions.linearGradient){gradName="linearGradient"}if(gradName){gradAttr=colorOptions[gradName];gradients=renderer.gradients;stops=colorOptions.stops;radialReference=elem.radialReference;if(isArray(gradAttr)){colorOptions[gradName]=gradAttr={x1:gradAttr[0],y1:gradAttr[1],x2:gradAttr[2],y2:gradAttr[3],gradientUnits:"userSpaceOnUse",}}if(gradName==="radialGradient"&&radialReference&&!defined(gradAttr.gradientUnits)){radAttr=gradAttr;gradAttr=merge(gradAttr,renderer.getRadialAttr(radialReference,radAttr),{gradientUnits:"userSpaceOnUse"})}objectEach(gradAttr,function(value,n){if(n!=="id"){key.push(n,value)}});objectEach(stops,function(val){key.push(val)});key=key.join(",");if(gradients[key]){id=gradients[key].attr("id")}else{gradAttr.id=id=uniqueKey();var gradientObject_1=(gradients[key]=renderer.createElement(gradName).attr(gradAttr).add(renderer.defs));gradientObject_1.radAttr=radAttr;gradientObject_1.stops=[];stops.forEach(function(stop){if(stop[1].indexOf("rgba")===0){colorObject=Color.parse(stop[1]);stopColor=colorObject.get("rgb");stopOpacity=colorObject.get("a")}else{stopColor=stop[1];stopOpacity=1}var stopObject=renderer.createElement("stop").attr({offset:stop[0],"stop-color":stopColor,"stop-opacity":stopOpacity,}).add(gradientObject_1);gradientObject_1.stops.push(stopObject)})}value="url("+renderer.url+"#"+id+")";elem.setAttribute(prop,value);elem.gradient=key;colorOptions.toString=function(){return value}}})};SVGElement.prototype.css=function(styles){var oldStyles=this.styles,newStyles={},elem=this.element,svgPseudoProps=["textOutline","textOverflow","width"];var textWidth,serializedCss="",hyphenate,hasNew=!oldStyles;if(styles&&styles.color){styles.fill=styles.color}if(oldStyles){objectEach(styles,function(style,n){if(oldStyles&&oldStyles[n]!==style){newStyles[n]=style;hasNew=true}})}if(hasNew){if(oldStyles){styles=extend(oldStyles,newStyles)}if(styles){if(styles.width===null||styles.width==="auto"){delete this.textWidth}else if(elem.nodeName.toLowerCase()==="text"&&styles.width){textWidth=this.textWidth=pInt(styles.width)}}this.styles=styles;if(textWidth&&!svg&&this.renderer.forExport){delete styles.width}if(elem.namespaceURI===this.SVG_NS){hyphenate=function(a,b){return"-"+b.toLowerCase()};objectEach(styles,function(style,n){if(svgPseudoProps.indexOf(n)===-1){serializedCss+=n.replace(/([A-Z])/g,hyphenate)+":"+style+";"}});if(serializedCss){attr(elem,"style",serializedCss)}}else{css(elem,styles)}if(this.added){if(this.element.nodeName==="text"){this.renderer.buildText(this)}if(styles&&styles.textOutline){this.applyTextOutline(styles.textOutline)}}}return this};SVGElement.prototype.dashstyleSetter=function(value){var i,strokeWidth=this["stroke-width"];if(strokeWidth==="inherit"){strokeWidth=1}value=value&&value.toLowerCase();if(value){var v=value.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");i=v.length;while(i--){v[i]=""+pInt(v[i])*pick(strokeWidth,NaN)}value=v.join(",").replace(/NaN/g,"none");this.element.setAttribute("stroke-dasharray",value)}};SVGElement.prototype.destroy=function(){var wrapper=this,element=wrapper.element||{},renderer=wrapper.renderer,ownerSVGElement=element.ownerSVGElement;var parentToClean=(renderer.isSVG&&element.nodeName==="SPAN"&&wrapper.parentGroup)||void 0,grandParent,i;element.onclick=element.onmouseout=element.onmouseover=element.onmousemove=element.point=null;stop(wrapper);if(wrapper.clipPath&&ownerSVGElement){var clipPath_1=wrapper.clipPath;[].forEach.call(ownerSVGElement.querySelectorAll("[clip-path],[CLIP-PATH]"),function(el){if(el.getAttribute("clip-path").indexOf(clipPath_1.element.id)>-1){el.removeAttribute("clip-path")}});wrapper.clipPath=clipPath_1.destroy()}if(wrapper.stops){for(i=0;i<wrapper.stops.length;i++){wrapper.stops[i].destroy()}wrapper.stops.length=0;wrapper.stops=void 0}wrapper.safeRemoveChild(element);if(!renderer.styledMode){wrapper.destroyShadows()}while(parentToClean&&parentToClean.div&&parentToClean.div.childNodes.length===0){grandParent=parentToClean.parentGroup;wrapper.safeRemoveChild(parentToClean.div);delete parentToClean.div;parentToClean=grandParent}if(wrapper.alignTo){erase(renderer.alignedObjects,wrapper)}objectEach(wrapper,function(val,key){if(wrapper[key]&&wrapper[key].parentGroup===wrapper&&wrapper[key].destroy){wrapper[key].destroy()}delete wrapper[key]});return};SVGElement.prototype.destroyShadows=function(){(this.shadows||[]).forEach(function(shadow){this.safeRemoveChild(shadow)},this);this.shadows=void 0};SVGElement.prototype.destroyTextPath=function(elem,path){var textElement=elem.getElementsByTagName("text")[0];var childNodes;if(textElement){textElement.removeAttribute("dx");textElement.removeAttribute("dy");path.element.setAttribute("id","");if(this.textPathWrapper&&textElement.getElementsByTagName("textPath").length){childNodes=this.textPathWrapper.element.childNodes;while(childNodes.length){textElement.appendChild(childNodes[0])}textElement.removeChild(this.textPathWrapper.element)}}else if(elem.getAttribute("dx")||elem.getAttribute("dy")){elem.removeAttribute("dx");elem.removeAttribute("dy")}if(this.textPathWrapper){this.textPathWrapper=this.textPathWrapper.destroy()}};SVGElement.prototype.dSetter=function(value,key,element){if(isArray(value)){if(typeof value[0]==="string"){value=this.renderer.pathToSegments(value)}this.pathArray=value;value=value.reduce(function(acc,seg,i){if(!seg||!seg.join){return(seg||"").toString()}return(i?acc+" ":"")+seg.join(" ")},"")}if(/(NaN| {2}|^$)/.test(value)){value="M 0 0"}if(this[key]!==value){element.setAttribute(key,value);this[key]=value}};SVGElement.prototype.fadeOut=function(duration){var elemWrapper=this;elemWrapper.animate({opacity:0,},{duration:pick(duration,150),complete:function(){elemWrapper.attr({y:-9999}).hide()},})};SVGElement.prototype.fillSetter=function(value,key,element){if(typeof value==="string"){element.setAttribute(key,value)}else if(value){this.complexColor(value,key,element)}};SVGElement.prototype.getBBox=function(reload,rot){var wrapper=this,renderer=wrapper.renderer,element=wrapper.element,styles=wrapper.styles,textStr=wrapper.textStr,cache=renderer.cache,cacheKeys=renderer.cacheKeys,isSVG=element.namespaceURI===wrapper.SVG_NS,rotation=pick(rot,wrapper.rotation,0),fontSize=renderer.styledMode?element&&SVGElement.prototype.getStyle.call(element,"font-size"):styles&&styles.fontSize;var bBox,width,height,toggleTextShadowShim,cacheKey;if(defined(textStr)){cacheKey=textStr.toString();if(cacheKey.indexOf("<")===-1){cacheKey=cacheKey.replace(/[0-9]/g,"0")}cacheKey+=["",rotation,fontSize,wrapper.textWidth,styles&&styles.textOverflow,styles&&styles.fontWeight,].join(",")}if(cacheKey&&!reload){bBox=cache[cacheKey]}if(!bBox){if(isSVG||renderer.forExport){try{toggleTextShadowShim=this.fakeTS&&function(display){var outline=element.querySelector(".highcharts-text-outline");if(outline){css(outline,{display:display})}};if(isFunction(toggleTextShadowShim)){toggleTextShadowShim("none")}bBox=element.getBBox?extend({},element.getBBox()):{width:element.offsetWidth,height:element.offsetHeight,};if(isFunction(toggleTextShadowShim)){toggleTextShadowShim("")}}catch(e){("")}if(!bBox||bBox.width<0){bBox={width:0,height:0}}}else{bBox=wrapper.htmlGetBBox()}if(renderer.isSVG){width=bBox.width;height=bBox.height;if(isSVG){bBox.height=height={"11px,17":14,"13px,20":16,}[styles&&styles.fontSize+","+Math.round(height)]||height}if(rotation){var rad=rotation*deg2rad;bBox.width=Math.abs(height*Math.sin(rad))+Math.abs(width*Math.cos(rad));bBox.height=Math.abs(height*Math.cos(rad))+Math.abs(width*Math.sin(rad))}}if(cacheKey&&(textStr===""||bBox.height>0)){while(cacheKeys.length>250){delete cache[cacheKeys.shift()]}if(!cache[cacheKey]){cacheKeys.push(cacheKey)}cache[cacheKey]=bBox}}return bBox};SVGElement.prototype.getStyle=function(prop){return win.getComputedStyle(this.element||this,"").getPropertyValue(prop)};SVGElement.prototype.hasClass=function(className){return(""+this.attr("class")).split(" ").indexOf(className)!==-1};SVGElement.prototype.hide=function(hideByTranslation){if(hideByTranslation){this.attr({y:-9999})}else{this.attr({visibility:"hidden"})}return this};SVGElement.prototype.htmlGetBBox=function(){return{height:0,width:0,x:0,y:0}};SVGElement.prototype.init=function(renderer,nodeName){this.element=nodeName==="span"?createElement(nodeName):doc.createElementNS(this.SVG_NS,nodeName);this.renderer=renderer;fireEvent(this,"afterInit")};SVGElement.prototype.invert=function(inverted){this.inverted=inverted;this.updateTransform();return this};SVGElement.prototype.on=function(eventType,handler){var onEvents=this.onEvents;if(onEvents[eventType]){onEvents[eventType]()}onEvents[eventType]=addEvent(this.element,eventType,handler);return this};SVGElement.prototype.opacitySetter=function(value,key,element){var opacity=Number(Number(value).toFixed(3));this.opacity=opacity;element.setAttribute(key,opacity)};SVGElement.prototype.removeClass=function(className){return this.attr("class",(""+this.attr("class")).replace(isString(className)?new RegExp("(^| )"+className+"( |$)"):className," ").replace(/ +/g," ").trim())};SVGElement.prototype.removeTextOutline=function(){var outline=this.element.querySelector("tspan.highcharts-text-outline");if(outline){this.safeRemoveChild(outline)}};SVGElement.prototype.safeRemoveChild=function(element){var parentNode=element.parentNode;if(parentNode){parentNode.removeChild(element)}};SVGElement.prototype.setRadialReference=function(coordinates){var existingGradient=this.element.gradient&&this.renderer.gradients[this.element.gradient];this.element.radialReference=coordinates;if(existingGradient&&existingGradient.radAttr){existingGradient.animate(this.renderer.getRadialAttr(coordinates,existingGradient.radAttr))}return this};SVGElement.prototype.setTextPath=function(path,textPathOptions){var elem=this.element,textNode=this.text?this.text.element:elem,attribsMap={textAnchor:"text-anchor",};var adder=false,textPathElement,textPathId,textPathWrapper=this.textPathWrapper,firstTime=!textPathWrapper;textPathOptions=merge(true,{enabled:true,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle",},},textPathOptions);var attrs=AST.filterUserAttributes(textPathOptions.attributes);if(path&&textPathOptions&&textPathOptions.enabled){if(textPathWrapper&&textPathWrapper.element.parentNode===null){firstTime=true;textPathWrapper=textPathWrapper.destroy()}else if(textPathWrapper){this.removeTextOutline.call(textPathWrapper.parentGroup)}if(this.options&&this.options.padding){attrs.dx=-this.options.padding}if(!textPathWrapper){this.textPathWrapper=textPathWrapper=this.renderer.createElement("textPath");adder=true}textPathElement=textPathWrapper.element;textPathId=path.element.getAttribute("id");if(!textPathId){path.element.setAttribute("id",(textPathId=uniqueKey()))}if(firstTime){textNode.setAttribute("y",0);if(isNumber(attrs.dx)){textNode.setAttribute("x",-attrs.dx)}var childNodes=[].slice.call(textNode.childNodes);for(var i=0;i<childNodes.length;i++){var childNode=childNodes[i];if(childNode.nodeType===win.Node.TEXT_NODE||childNode.nodeName==="tspan"){textPathElement.appendChild(childNode)}}}if(adder&&textPathWrapper){textPathWrapper.add({element:textNode})}textPathElement.setAttributeNS("http://www.w3.org/1999/xlink","href",this.renderer.url+"#"+textPathId);if(defined(attrs.dy)){textPathElement.parentNode.setAttribute("dy",attrs.dy);delete attrs.dy}if(defined(attrs.dx)){textPathElement.parentNode.setAttribute("dx",attrs.dx);delete attrs.dx}objectEach(attrs,function(val,key){textPathElement.setAttribute(attribsMap[key]||key,val)});elem.removeAttribute("transform");this.removeTextOutline.call(textPathWrapper);if(this.text&&!this.renderer.styledMode){this.attr({fill:"none","stroke-width":0,})}this.updateTransform=noop;this.applyTextOutline=noop}else if(textPathWrapper){delete this.updateTransform;delete this.applyTextOutline;this.destroyTextPath(elem,path);this.updateTransform();if(this.options&&this.options.rotation){this.applyTextOutline(this.options.style.textOutline)}}return this};SVGElement.prototype.shadow=function(shadowOptions,group,cutOff){var shadows=[],element=this.element,oldShadowOptions=this.oldShadowOptions,defaultShadowOptions={color:"#000000",offsetX:this.parentInverted?-1:1,offsetY:this.parentInverted?-1:1,opacity:0.15,width:3,};var i,shadow,strokeWidth,shadowElementOpacity,update=false,transform,options;if(shadowOptions===true){options=defaultShadowOptions}else if(typeof shadowOptions==="object"){options=extend(defaultShadowOptions,shadowOptions)}if(options){if(options&&oldShadowOptions){objectEach(options,function(value,key){if(value!==oldShadowOptions[key]){update=true}})}if(update){this.destroyShadows()}this.oldShadowOptions=options}if(!options){this.destroyShadows()}else if(!this.shadows){shadowElementOpacity=options.opacity/options.width;transform=this.parentInverted?"translate("+options.offsetY+", "+options.offsetX+")":"translate("+options.offsetX+", "+options.offsetY+")";for(i=1;i<=options.width;i++){shadow=element.cloneNode(false);strokeWidth=options.width*2+1-2*i;attr(shadow,{stroke:shadowOptions.color||"#000000","stroke-opacity":shadowElementOpacity*i,"stroke-width":strokeWidth,transform:transform,fill:"none",});shadow.setAttribute("class",(shadow.getAttribute("class")||"")+" highcharts-shadow");if(cutOff){attr(shadow,"height",Math.max(attr(shadow,"height")-strokeWidth,0));shadow.cutHeight=strokeWidth}if(group){group.element.appendChild(shadow)}else if(element.parentNode){element.parentNode.insertBefore(shadow,element)}shadows.push(shadow)}this.shadows=shadows}return this};SVGElement.prototype.show=function(inherit){return this.attr({visibility:inherit?"inherit":"visible"})};SVGElement.prototype.strokeSetter=function(value,key,element){this[key]=value;if(this.stroke&&this["stroke-width"]){SVGElement.prototype.fillSetter.call(this,this.stroke,"stroke",element);element.setAttribute("stroke-width",this["stroke-width"]);this.hasStroke=true}else if(key==="stroke-width"&&value===0&&this.hasStroke){element.removeAttribute("stroke");this.hasStroke=false}else if(this.renderer.styledMode&&this["stroke-width"]){element.setAttribute("stroke-width",this["stroke-width"]);this.hasStroke=true}};SVGElement.prototype.strokeWidth=function(){if(!this.renderer.styledMode){return this["stroke-width"]||0}var val=this.getStyle("stroke-width");var ret=0,dummy;if(val.indexOf("px")===val.length-2){ret=pInt(val)}else if(val!==""){dummy=doc.createElementNS(SVG_NS,"rect");attr(dummy,{width:val,"stroke-width":0,});this.element.parentNode.appendChild(dummy);ret=dummy.getBBox().width;dummy.parentNode.removeChild(dummy)}return ret};SVGElement.prototype.symbolAttr=function(hash){var wrapper=this;["x","y","r","start","end","width","height","innerR","anchorX","anchorY","clockwise",].forEach(function(key){wrapper[key]=pick(hash[key],wrapper[key])});wrapper.attr({d:wrapper.renderer.symbols[wrapper.symbolName](wrapper.x,wrapper.y,wrapper.width,wrapper.height,wrapper),})};SVGElement.prototype.textSetter=function(value){if(value!==this.textStr){delete this.textPxLength;this.textStr=value;if(this.added){this.renderer.buildText(this)}}};SVGElement.prototype.titleSetter=function(value){var el=this.element;var titleNode=el.getElementsByTagName("title")[0]||doc.createElementNS(this.SVG_NS,"title");if(el.insertBefore){el.insertBefore(titleNode,el.firstChild)}else{el.appendChild(titleNode)}titleNode.textContent=String(pick(value,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")};SVGElement.prototype.toFront=function(){var element=this.element;element.parentNode.appendChild(element);return this};SVGElement.prototype.translate=function(x,y){return this.attr({translateX:x,translateY:y,})};SVGElement.prototype.updateShadows=function(key,value,setter){var shadows=this.shadows;if(shadows){var i=shadows.length;while(i--){setter.call(shadows[i],key==="height"?Math.max(value-(shadows[i].cutHeight||0),0):key==="d"?this.d:value,key,shadows[i])}}};SVGElement.prototype.updateTransform=function(){var wrapper=this,scaleX=wrapper.scaleX,scaleY=wrapper.scaleY,inverted=wrapper.inverted,rotation=wrapper.rotation,matrix=wrapper.matrix,element=wrapper.element;var translateX=wrapper.translateX||0,translateY=wrapper.translateY||0;if(inverted){translateX+=wrapper.width;translateY+=wrapper.height}var transform=["translate("+translateX+","+translateY+")"];if(defined(matrix)){transform.push("matrix("+matrix.join(",")+")")}if(inverted){transform.push("rotate(90) scale(-1,1)")}else if(rotation){transform.push("rotate("+rotation+" "+pick(this.rotationOriginX,element.getAttribute("x"),0)+" "+pick(this.rotationOriginY,element.getAttribute("y")||0)+")")}if(defined(scaleX)||defined(scaleY)){transform.push("scale("+pick(scaleX,1)+" "+pick(scaleY,1)+")")}if(transform.length){element.setAttribute("transform",transform.join(" "))}};SVGElement.prototype.visibilitySetter=function(value,key,element){if(value==="inherit"){element.removeAttribute(key)}else if(this[key]!==value){element.setAttribute(key,value)}this[key]=value};SVGElement.prototype.xGetter=function(key){if(this.element.nodeName==="circle"){if(key==="x"){key="cx"}else if(key==="y"){key="cy"}}return this._defaultGetter(key)};SVGElement.prototype.zIndexSetter=function(value,key){var renderer=this.renderer,parentGroup=this.parentGroup,parentWrapper=parentGroup||renderer,parentNode=parentWrapper.element||renderer.box,element=this.element,svgParent=parentNode===renderer.box;var childNodes,otherElement,otherZIndex,inserted=false,undefinedOtherZIndex,run=this.added,i;if(defined(value)){element.setAttribute("data-z-index",value);value=+value;if(this[key]===value){run=false}}else if(defined(this[key])){element.removeAttribute("data-z-index")}this[key]=value;if(run){value=this.zIndex;if(value&&parentGroup){parentGroup.handleZ=true}childNodes=parentNode.childNodes;for(i=childNodes.length-1;i>=0&&!inserted;i--){otherElement=childNodes[i];otherZIndex=otherElement.getAttribute("data-z-index");undefinedOtherZIndex=!defined(otherZIndex);if(otherElement!==element){if(value<0&&undefinedOtherZIndex&&!svgParent&&!i){parentNode.insertBefore(element,childNodes[i]);inserted=true}else if(pInt(otherZIndex)<=value||(undefinedOtherZIndex&&(!defined(value)||value>=0))){parentNode.insertBefore(element,childNodes[i+1]||null);inserted=true}}}if(!inserted){parentNode.insertBefore(element,childNodes[svgParent?3:0]||null);inserted=true}}return inserted};return SVGElement})();SVGElement.prototype["stroke-widthSetter"]=SVGElement.prototype.strokeSetter;SVGElement.prototype.yGetter=SVGElement.prototype.xGetter;SVGElement.prototype.matrixSetter=SVGElement.prototype.rotationOriginXSetter=SVGElement.prototype.rotationOriginYSetter=SVGElement.prototype.rotationSetter=SVGElement.prototype.scaleXSetter=SVGElement.prototype.scaleYSetter=SVGElement.prototype.translateXSetter=SVGElement.prototype.translateYSetter=SVGElement.prototype.verticalAlignSetter=function(value,key){this[key]=value;this.doTransform=true};("");return SVGElement});_registerModule(_modules,"Core/Renderer/RendererRegistry.js",[_modules["Core/Globals.js"]],function(H){var RendererRegistry;(function(RendererRegistry){RendererRegistry.rendererTypes={};var defaultRenderer;function getRendererType(rendererType){if(rendererType===void 0){rendererType=defaultRenderer}return(RendererRegistry.rendererTypes[rendererType]||RendererRegistry.rendererTypes[defaultRenderer])}RendererRegistry.getRendererType=getRendererType;function registerRendererType(rendererType,rendererClass,setAsDefault){RendererRegistry.rendererTypes[rendererType]=rendererClass;if(!defaultRenderer||setAsDefault){defaultRenderer=rendererType;H.Renderer=rendererClass}}RendererRegistry.registerRendererType=registerRendererType})(RendererRegistry||(RendererRegistry={}));return RendererRegistry});_registerModule(_modules,"Core/Renderer/SVG/SVGLabel.js",[_modules["Core/Renderer/SVG/SVGElement.js"],_modules["Core/Utilities.js"],],function(SVGElement,U){var __extends=(this&&this.__extends)||(function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b})||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):((__.prototype=b.prototype),new __())}})();var defined=U.defined,extend=U.extend,isNumber=U.isNumber,merge=U.merge,pick=U.pick,removeEvent=U.removeEvent;var SVGLabel=(function(_super){__extends(SVGLabel,_super);function SVGLabel(renderer,str,x,y,shape,anchorX,anchorY,useHTML,baseline,className){var _this=_super.call(this)||this;_this.paddingLeftSetter=_this.paddingSetter;_this.paddingRightSetter=_this.paddingSetter;_this.init(renderer,"g");_this.textStr=str;_this.x=x;_this.y=y;_this.anchorX=anchorX;_this.anchorY=anchorY;_this.baseline=baseline;_this.className=className;_this.addClass(className==="button"?"highcharts-no-tooltip":"highcharts-label");if(className){_this.addClass("highcharts-"+className)}_this.text=renderer.text(void 0,0,0,useHTML).attr({zIndex:1});var hasBGImage;if(typeof shape==="string"){hasBGImage=/^url\((.*?)\)$/.test(shape);if(hasBGImage||_this.renderer.symbols[shape]){_this.symbolKey=shape}}_this.bBox=SVGLabel.emptyBBox;_this.padding=3;_this.baselineOffset=0;_this.needsBox=renderer.styledMode||hasBGImage;_this.deferredAttr={};_this.alignFactor=0;return _this}SVGLabel.prototype.alignSetter=function(value){var alignFactor={left:0,center:0.5,right:1,}[value];if(alignFactor!==this.alignFactor){this.alignFactor=alignFactor;if(this.bBox&&isNumber(this.xSetting)){this.attr({x:this.xSetting})}}};SVGLabel.prototype.anchorXSetter=function(value,key){this.anchorX=value;this.boxAttr(key,Math.round(value)-this.getCrispAdjust()-this.xSetting)};SVGLabel.prototype.anchorYSetter=function(value,key){this.anchorY=value;this.boxAttr(key,value-this.ySetting)};SVGLabel.prototype.boxAttr=function(key,value){if(this.box){this.box.attr(key,value)}else{this.deferredAttr[key]=value}};SVGLabel.prototype.css=function(styles){if(styles){var textStyles_1={};styles=merge(styles);SVGLabel.textProps.forEach(function(prop){if(typeof styles[prop]!=="undefined"){textStyles_1[prop]=styles[prop];delete styles[prop]}});this.text.css(textStyles_1);var isWidth="width"in textStyles_1,isFontStyle="fontSize"in textStyles_1||"fontWeight"in textStyles_1;if(isFontStyle){this.updateTextPadding()}else if(isWidth){this.updateBoxSize()}}return SVGElement.prototype.css.call(this,styles)};SVGLabel.prototype.destroy=function(){removeEvent(this.element,"mouseenter");removeEvent(this.element,"mouseleave");if(this.text){this.text.destroy()}if(this.box){this.box=this.box.destroy()}SVGElement.prototype.destroy.call(this);return void 0};SVGLabel.prototype.fillSetter=function(value,key){if(value){this.needsBox=true}this.fill=value;this.boxAttr(key,value)};SVGLabel.prototype.getBBox=function(){if(this.textStr&&this.bBox.width===0&&this.bBox.height===0){this.updateBoxSize()}var padding=this.padding;var paddingLeft=pick(this.paddingLeft,padding);return{width:this.width,height:this.height,x:this.bBox.x-paddingLeft,y:this.bBox.y-padding,}};SVGLabel.prototype.getCrispAdjust=function(){return this.renderer.styledMode&&this.box?(this.box.strokeWidth()%2)/2:((this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2)/2};SVGLabel.prototype.heightSetter=function(value){this.heightSetting=value};SVGLabel.prototype.onAdd=function(){var str=this.textStr;this.text.add(this);this.attr({text:defined(str)?str:"",x:this.x,y:this.y,});if(this.box&&defined(this.anchorX)){this.attr({anchorX:this.anchorX,anchorY:this.anchorY,})}};SVGLabel.prototype.paddingSetter=function(value,key){if(!isNumber(value)){this[key]=void 0}else if(value!==this[key]){this[key]=value;this.updateTextPadding()}};SVGLabel.prototype.rSetter=function(value,key){this.boxAttr(key,value)};SVGLabel.prototype.shadow=function(b){if(b&&!this.renderer.styledMode){this.updateBoxSize();if(this.box){this.box.shadow(b)}}return this};SVGLabel.prototype.strokeSetter=function(value,key){this.stroke=value;this.boxAttr(key,value)};SVGLabel.prototype["stroke-widthSetter"]=function(value,key){if(value){this.needsBox=true}this["stroke-width"]=value;this.boxAttr(key,value)};SVGLabel.prototype["text-alignSetter"]=function(value){this.textAlign=value};SVGLabel.prototype.textSetter=function(text){if(typeof text!=="undefined"){this.text.attr({text:text})}this.updateTextPadding()};SVGLabel.prototype.updateBoxSize=function(){var style=this.text.element.style,attribs={},padding=this.padding,bBox=(this.bBox=(!isNumber(this.widthSetting)||!isNumber(this.heightSetting)||this.textAlign)&&defined(this.text.textStr)?this.text.getBBox():SVGLabel.emptyBBox);var crispAdjust;this.width=this.getPaddedWidth();this.height=(this.heightSetting||bBox.height||0)+2*padding;var metrics=this.renderer.fontMetrics(style&&style.fontSize,this.text);this.baselineOffset=padding+Math.min((this.text.firstLineMetrics||metrics).b,bBox.height||Infinity);if(this.heightSetting){this.baselineOffset+=(this.heightSetting-metrics.h)/2}if(this.needsBox){if(!this.box){var box=(this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect());box.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":""));box.add(this)}crispAdjust=this.getCrispAdjust();attribs.x=crispAdjust;attribs.y=(this.baseline?-this.baselineOffset:0)+crispAdjust;attribs.width=Math.round(this.width);attribs.height=Math.round(this.height);this.box.attr(extend(attribs,this.deferredAttr));this.deferredAttr={}}};SVGLabel.prototype.updateTextPadding=function(){var text=this.text;this.updateBoxSize();var textY=this.baseline?0:this.baselineOffset;var textX=pick(this.paddingLeft,this.padding);if(defined(this.widthSetting)&&this.bBox&&(this.textAlign==="center"||this.textAlign==="right")){textX+={center:0.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)}if(textX!==text.x||textY!==text.y){text.attr("x",textX);if(text.hasBoxWidthChanged){this.bBox=text.getBBox(true)}if(typeof textY!=="undefined"){text.attr("y",textY)}}text.x=textX;text.y=textY};SVGLabel.prototype.widthSetter=function(value){this.widthSetting=isNumber(value)?value:void 0};SVGLabel.prototype.getPaddedWidth=function(){var padding=this.padding;var paddingLeft=pick(this.paddingLeft,padding);var paddingRight=pick(this.paddingRight,padding);return((this.widthSetting||this.bBox.width||0)+paddingLeft+paddingRight)};SVGLabel.prototype.xSetter=function(value){this.x=value;if(this.alignFactor){value-=this.alignFactor*this.getPaddedWidth();this["forceAnimate:x"]=true}this.xSetting=Math.round(value);this.attr("translateX",this.xSetting)};SVGLabel.prototype.ySetter=function(value){this.ySetting=this.y=Math.round(value);this.attr("translateY",this.ySetting)};SVGLabel.emptyBBox={width:0,height:0,x:0,y:0};SVGLabel.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineHeight","textAlign","textDecoration","textOutline","textOverflow","width",];return SVGLabel})(SVGElement);return SVGLabel});_registerModule(_modules,"Core/Renderer/SVG/Symbols.js",[_modules["Core/Utilities.js"]],function(U){var defined=U.defined,isNumber=U.isNumber,pick=U.pick;function arc(x,y,w,h,options){var arc=[];if(options){var start=options.start||0,rx=pick(options.r,w),ry=pick(options.r,h||w),proximity=0.001,fullCircle=Math.abs((options.end||0)-start-2*Math.PI)<proximity,end=(options.end||0)-proximity,innerRadius=options.innerR,open_1=pick(options.open,fullCircle),cosStart=Math.cos(start),sinStart=Math.sin(start),cosEnd=Math.cos(end),sinEnd=Math.sin(end),longArc=pick(options.longArc,end-start-Math.PI<proximity?0:1);arc.push(["M",x+rx*cosStart,y+ry*sinStart],["A",rx,ry,0,longArc,pick(options.clockwise,1),x+rx*cosEnd,y+ry*sinEnd,]);if(defined(innerRadius)){arc.push(open_1?["M",x+innerRadius*cosEnd,y+innerRadius*sinEnd]:["L",x+innerRadius*cosEnd,y+innerRadius*sinEnd],["A",innerRadius,innerRadius,0,longArc,defined(options.clockwise)?1-options.clockwise:0,x+innerRadius*cosStart,y+innerRadius*sinStart,])}if(!open_1){arc.push(["Z"])}}return arc}function callout(x,y,w,h,options){var arrowLength=6,halfDistance=6,r=Math.min((options&&options.r)||0,w,h),safeDistance=r+halfDistance,anchorX=options&&options.anchorX,anchorY=(options&&options.anchorY)||0;var path=roundedRect(x,y,w,h,{r:r});if(!isNumber(anchorX)){return path}if(x+anchorX>=w){if(anchorY>y+safeDistance&&anchorY<y+h-safeDistance){path.splice(3,1,["L",x+w,anchorY-halfDistance],["L",x+w+arrowLength,anchorY],["L",x+w,anchorY+halfDistance],["L",x+w,y+h-r])}else{path.splice(3,1,["L",x+w,h/2],["L",anchorX,anchorY],["L",x+w,h/2],["L",x+w,y+h-r])}}else if(x+anchorX<=0){if(anchorY>y+safeDistance&&anchorY<y+h-safeDistance){path.splice(7,1,["L",x,anchorY+halfDistance],["L",x-arrowLength,anchorY],["L",x,anchorY-halfDistance],["L",x,y+r])}else{path.splice(7,1,["L",x,h/2],["L",anchorX,anchorY],["L",x,h/2],["L",x,y+r])}}else if(anchorY&&anchorY>h&&anchorX>x+safeDistance&&anchorX<x+w-safeDistance){path.splice(5,1,["L",anchorX+halfDistance,y+h],["L",anchorX,y+h+arrowLength],["L",anchorX-halfDistance,y+h],["L",x+r,y+h])}else if(anchorY&&anchorY<0&&anchorX>x+safeDistance&&anchorX<x+w-safeDistance){path.splice(1,1,["L",anchorX-halfDistance,y],["L",anchorX,y-arrowLength],["L",anchorX+halfDistance,y],["L",w-r,y])}return path}function circle(x,y,w,h){return arc(x+w/2,y+h/2,w/2,h/2,{start:Math.PI*0.5,end:Math.PI*2.5,open:false,})}function diamond(x,y,w,h){return[["M",x+w/2,y],["L",x+w,y+h/2],["L",x+w/2,y+h],["L",x,y+h/2],["Z"],]}function rect(x,y,w,h,options){if(options&&options.r){return roundedRect(x,y,w,h,options)}return[["M",x,y],["L",x+w,y],["L",x+w,y+h],["L",x,y+h],["Z"],]}function roundedRect(x,y,w,h,options){var r=(options&&options.r)||0;return[["M",x+r,y],["L",x+w-r,y],["C",x+w,y,x+w,y,x+w,y+r],["L",x+w,y+h-r],["C",x+w,y+h,x+w,y+h,x+w-r,y+h],["L",x+r,y+h],["C",x,y+h,x,y+h,x,y+h-r],["L",x,y+r],["C",x,y,x,y,x+r,y],]}function triangle(x,y,w,h){return[["M",x+w/2,y],["L",x+w,y+h],["L",x,y+h],["Z"],]}function triangleDown(x,y,w,h){return[["M",x,y],["L",x+w,y],["L",x+w/2,y+h],["Z"]]}var Symbols={arc:arc,callout:callout,circle:circle,diamond:diamond,rect:rect,roundedRect:roundedRect,square:rect,triangle:triangle,"triangle-down":triangleDown,};return Symbols});_registerModule(_modules,"Core/Renderer/SVG/TextBuilder.js",[_modules["Core/Renderer/HTML/AST.js"],_modules["Core/Globals.js"],_modules["Core/Utilities.js"],],function(AST,H,U){var doc=H.doc,SVG_NS=H.SVG_NS,win=H.win;var attr=U.attr,isString=U.isString,objectEach=U.objectEach,pick=U.pick;var TextBuilder=(function(){function TextBuilder(svgElement){var textStyles=svgElement.styles;this.renderer=svgElement.renderer;this.svgElement=svgElement;this.width=svgElement.textWidth;this.textLineHeight=textStyles&&textStyles.lineHeight;this.textOutline=textStyles&&textStyles.textOutline;this.ellipsis=Boolean(textStyles&&textStyles.textOverflow==="ellipsis");this.noWrap=Boolean(textStyles&&textStyles.whiteSpace==="nowrap");this.fontSize=textStyles&&textStyles.fontSize}TextBuilder.prototype.buildSVG=function(){var wrapper=this.svgElement,textNode=wrapper.element,renderer=wrapper.renderer,textStr=pick(wrapper.textStr,"").toString(),hasMarkup=textStr.indexOf("<")!==-1,childNodes=textNode.childNodes,tempParent=this.width&&!wrapper.added&&renderer.box,regexMatchBreaks=/<br.*?>/g,textCache=[textStr,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,this.fontSize,this.width,].join(",");if(textCache===wrapper.textCache){return}wrapper.textCache=textCache;delete wrapper.actualWidth;for(var i=childNodes.length;i--;){textNode.removeChild(childNodes[i])}if(!hasMarkup&&!this.ellipsis&&!this.width&&(textStr.indexOf(" ")===-1||(this.noWrap&&!regexMatchBreaks.test(textStr)))){textNode.appendChild(doc.createTextNode(this.unescapeEntities(textStr)))}else if(textStr!==""){if(tempParent){tempParent.appendChild(textNode)}var ast=new AST(textStr);this.modifyTree(ast.nodes);ast.addToDOM(wrapper.element);this.modifyDOM();if(this.ellipsis&&(textNode.textContent||"").indexOf("\u2026")!==-1){wrapper.attr("title",this.unescapeEntities(wrapper.textStr||"",["&lt;","&gt;"]))}if(tempParent){tempParent.removeChild(textNode)}}if(isString(this.textOutline)&&wrapper.applyTextOutline){wrapper.applyTextOutline(this.textOutline)}};TextBuilder.prototype.modifyDOM=function(){var _this=this;var wrapper=this.svgElement;var x=attr(wrapper.element,"x");wrapper.firstLineMetrics=void 0;var firstChild;while((firstChild=wrapper.element.firstChild)){if(/^[\s\u200B]*$/.test(firstChild.textContent||" ")){wrapper.element.removeChild(firstChild)}else{break}}[].forEach.call(wrapper.element.querySelectorAll("tspan.highcharts-br"),function(br,i){if(br.nextSibling&&br.previousSibling){if(i===0&&br.previousSibling.nodeType===1){wrapper.firstLineMetrics=wrapper.renderer.fontMetrics(void 0,br.previousSibling)}attr(br,{dy:_this.getLineHeight(br.nextSibling),x:x,})}});var width=this.width||0;if(!width){return}var modifyTextNode=function(textNode,parentElement){var text=textNode.textContent||"";var words=text.replace(/([^\^])-/g,"$1- ").split(" ");var hasWhiteSpace=!_this.noWrap&&(words.length>1||wrapper.element.childNodes.length>1);var dy=_this.getLineHeight(parentElement);var lineNo=0;var startAt=wrapper.actualWidth;if(_this.ellipsis){if(text){_this.truncate(textNode,text,void 0,0,Math.max(0,width-parseInt(_this.fontSize||12,10)),function(text,currentIndex){return text.substring(0,currentIndex)+"\u2026"})}}else if(hasWhiteSpace){var lines=[];var precedingSiblings=[];while(parentElement.firstChild&&parentElement.firstChild!==textNode){precedingSiblings.push(parentElement.firstChild);parentElement.removeChild(parentElement.firstChild)}while(words.length){if(words.length&&!_this.noWrap&&lineNo>0){lines.push(textNode.textContent||"");textNode.textContent=words.join(" ").replace(/- /g,"-")}_this.truncate(textNode,void 0,words,lineNo===0?startAt||0:0,width,function(t,currentIndex){return words.slice(0,currentIndex).join(" ").replace(/- /g,"-")});startAt=wrapper.actualWidth;lineNo++}precedingSiblings.forEach(function(childNode){parentElement.insertBefore(childNode,textNode)});lines.forEach(function(line){parentElement.insertBefore(doc.createTextNode(line),textNode);var br=doc.createElementNS(SVG_NS,"tspan");br.textContent="\u200B";attr(br,{dy:dy,x:x});parentElement.insertBefore(br,textNode)})}};var modifyChildren=function(node){var childNodes=[].slice.call(node.childNodes);childNodes.forEach(function(childNode){if(childNode.nodeType===win.Node.TEXT_NODE){modifyTextNode(childNode,node)}else{if(childNode.className.baseVal.indexOf("highcharts-br")!==-1){wrapper.actualWidth=0}modifyChildren(childNode)}})};modifyChildren(wrapper.element)};TextBuilder.prototype.getLineHeight=function(node){var fontSizeStyle;var element=node.nodeType===win.Node.TEXT_NODE?node.parentElement:node;if(!this.renderer.styledMode){fontSizeStyle=element&&/(px|em)$/.test(element.style.fontSize)?element.style.fontSize:this.fontSize||this.renderer.style.fontSize||12}return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(fontSizeStyle,element||this.svgElement.element).h};TextBuilder.prototype.modifyTree=function(nodes){var _this=this;var modifyChild=function(node,i){var tagName=node.tagName;var styledMode=_this.renderer.styledMode;var attributes=node.attributes||{};if(tagName==="b"||tagName==="strong"){if(styledMode){attributes["class"]="highcharts-strong"}else{attributes.style="font-weight:bold;"+(attributes.style||"")}}else if(tagName==="i"||tagName==="em"){if(styledMode){attributes["class"]="highcharts-emphasized"}else{attributes.style="font-style:italic;"+(attributes.style||"")}}if(isString(attributes.style)){attributes.style=attributes.style.replace(/(;| |^)color([ :])/,"$1fill$2")}if(tagName==="br"){attributes["class"]="highcharts-br";node.textContent="\u200B";var nextNode=nodes[i+1];if(nextNode&&nextNode.textContent){nextNode.textContent=nextNode.textContent.replace(/^ +/gm,"")}}if(tagName!=="#text"&&tagName!=="a"){node.tagName="tspan"}node.attributes=attributes;if(node.children){node.children.filter(function(c){return c.tagName!=="#text"}).forEach(modifyChild)}};nodes.forEach(modifyChild)};TextBuilder.prototype.truncate=function(textNode,text,words,startAt,width,getString){var svgElement=this.svgElement;var renderer=svgElement.renderer,rotation=svgElement.rotation;var lengths=[];var minIndex=words?1:0;var maxIndex=(text||words||"").length;var currentIndex=maxIndex;var str;var actualWidth;var getSubStringLength=function(charEnd,concatenatedEnd){var end=concatenatedEnd||charEnd;var parentNode=textNode.parentNode;if(parentNode&&typeof lengths[end]==="undefined"){if(parentNode.getSubStringLength){try{lengths[end]=startAt+parentNode.getSubStringLength(0,words?end+1:end)}catch(e){("")}}else if(renderer.getSpanWidth){textNode.textContent=getString(text||words,charEnd);lengths[end]=startAt+renderer.getSpanWidth(svgElement,textNode)}}return lengths[end]};svgElement.rotation=0;actualWidth=getSubStringLength(textNode.textContent.length);if(startAt+actualWidth>width){while(minIndex<=maxIndex){currentIndex=Math.ceil((minIndex+maxIndex)/2);if(words){str=getString(words,currentIndex)}actualWidth=getSubStringLength(currentIndex,str&&str.length-1);if(minIndex===maxIndex){minIndex=maxIndex+1}else if(actualWidth>width){maxIndex=currentIndex-1}else{minIndex=currentIndex}}if(maxIndex===0){textNode.textContent=""}else if(!(text&&maxIndex===text.length-1)){textNode.textContent=str||getString(text||words,currentIndex)}}if(words){words.splice(0,currentIndex)}svgElement.actualWidth=actualWidth;svgElement.rotation=rotation};TextBuilder.prototype.unescapeEntities=function(inputStr,except){objectEach(this.renderer.escapes,function(value,key){if(!except||except.indexOf(value)===-1){inputStr=inputStr.toString().replace(new RegExp(value,"g"),key)}});return inputStr};return TextBuilder})();return TextBuilder});_registerModule(_modules,"Core/Renderer/SVG/SVGRenderer.js",[_modules["Core/Renderer/HTML/AST.js"],_modules["Core/Color/Color.js"],_modules["Core/Globals.js"],_modules["Core/Renderer/RendererRegistry.js"],_modules["Core/Renderer/SVG/SVGElement.js"],_modules["Core/Renderer/SVG/SVGLabel.js"],_modules["Core/Renderer/SVG/Symbols.js"],_modules["Core/Renderer/SVG/TextBuilder.js"],_modules["Core/Utilities.js"],],function(AST,Color,H,RendererRegistry,SVGElement,SVGLabel,Symbols,TextBuilder,U){var charts=H.charts,deg2rad=H.deg2rad,doc=H.doc,isFirefox=H.isFirefox,isMS=H.isMS,isWebKit=H.isWebKit,noop=H.noop,SVG_NS=H.SVG_NS,symbolSizes=H.symbolSizes,win=H.win;var addEvent=U.addEvent,attr=U.attr,createElement=U.createElement,css=U.css,defined=U.defined,destroyObjectProperties=U.destroyObjectProperties,extend=U.extend,isArray=U.isArray,isNumber=U.isNumber,isObject=U.isObject,isString=U.isString,merge=U.merge,pick=U.pick,pInt=U.pInt,uniqueKey=U.uniqueKey;var hasInternalReferenceBug;var SVGRenderer=(function(){function SVGRenderer(container,width,height,style,forExport,allowHTML,styledMode){this.alignedObjects=void 0;this.box=void 0;this.boxWrapper=void 0;this.cache=void 0;this.cacheKeys=void 0;this.chartIndex=void 0;this.defs=void 0;this.globalAnimation=void 0;this.gradients=void 0;this.height=void 0;this.imgCount=void 0;this.isSVG=void 0;this.style=void 0;this.url=void 0;this.width=void 0;this.init(container,width,height,style,forExport,allowHTML,styledMode)}SVGRenderer.prototype.init=function(container,width,height,style,forExport,allowHTML,styledMode){var renderer=this,boxWrapper=renderer.createElement("svg").attr({version:"1.1",class:"highcharts-root",}),element=boxWrapper.element;if(!styledMode){boxWrapper.css(this.getStyle(style))}container.appendChild(element);attr(container,"dir","ltr");if(container.innerHTML.indexOf("xmlns")===-1){attr(element,"xmlns",this.SVG_NS)}renderer.isSVG=true;this.box=element;this.boxWrapper=boxWrapper;renderer.alignedObjects=[];this.url=this.getReferenceURL();var desc=this.createElement("desc").add();desc.element.appendChild(doc.createTextNode("Created with Highcharts 9.3.1"));renderer.defs=this.createElement("defs").add();renderer.allowHTML=allowHTML;renderer.forExport=forExport;renderer.styledMode=styledMode;renderer.gradients={};renderer.cache={};renderer.cacheKeys=[];renderer.imgCount=0;renderer.setSize(width,height,false);var subPixelFix,rect;if(isFirefox&&container.getBoundingClientRect){subPixelFix=function(){css(container,{left:0,top:0});rect=container.getBoundingClientRect();css(container,{left:Math.ceil(rect.left)-rect.left+"px",top:Math.ceil(rect.top)-rect.top+"px",})};subPixelFix();renderer.unSubPixelFix=addEvent(win,"resize",subPixelFix)}};SVGRenderer.prototype.definition=function(def){var ast=new AST([def]);return ast.addToDOM(this.defs.element)};SVGRenderer.prototype.getReferenceURL=function(){if((isFirefox||isWebKit)&&doc.getElementsByTagName("base").length){if(!defined(hasInternalReferenceBug)){var id=uniqueKey();var ast=new AST([{tagName:"svg",attributes:{width:8,height:8,},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:id,},children:[{tagName:"rect",attributes:{width:4,height:4,},},],},],},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":"url(#"+id+")",fill:"rgba(0,0,0,0.001)",},},],},]);var svg=ast.addToDOM(doc.body);css(svg,{position:"fixed",top:0,left:0,zIndex:9e5,});var hitElement=doc.elementFromPoint(6,6);hasInternalReferenceBug=(hitElement&&hitElement.id)==="hitme";doc.body.removeChild(svg)}if(hasInternalReferenceBug){return(win.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"))}}return""};SVGRenderer.prototype.getStyle=function(style){this.style=extend({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", '+"Arial, Helvetica, sans-serif",fontSize:"12px",},style);return this.style};SVGRenderer.prototype.setStyle=function(style){this.boxWrapper.css(this.getStyle(style))};SVGRenderer.prototype.isHidden=function(){return!this.boxWrapper.getBBox().width};SVGRenderer.prototype.destroy=function(){var renderer=this,rendererDefs=renderer.defs;renderer.box=null;renderer.boxWrapper=renderer.boxWrapper.destroy();destroyObjectProperties(renderer.gradients||{});renderer.gradients=null;if(rendererDefs){renderer.defs=rendererDefs.destroy()}if(renderer.unSubPixelFix){renderer.unSubPixelFix()}renderer.alignedObjects=null;return null};SVGRenderer.prototype.createElement=function(nodeName){var wrapper=new this.Element();wrapper.init(this,nodeName);return wrapper};SVGRenderer.prototype.getRadialAttr=function(radialReference,gradAttr){return{cx:radialReference[0]-radialReference[2]/2+(gradAttr.cx||0)*radialReference[2],cy:radialReference[1]-radialReference[2]/2+(gradAttr.cy||0)*radialReference[2],r:(gradAttr.r||0)*radialReference[2],}};SVGRenderer.prototype.buildText=function(wrapper){new TextBuilder(wrapper).buildSVG()};SVGRenderer.prototype.getContrast=function(rgba){rgba=Color.parse(rgba).rgba;rgba[0]*=1;rgba[1]*=1.2;rgba[2]*=0.5;return rgba[0]+rgba[1]+rgba[2]>1.8*255?"#000000":"#FFFFFF"};SVGRenderer.prototype.button=function(text,x,y,callback,theme,hoverState,pressedState,disabledState,shape,useHTML){var label=this.label(text,x,y,shape,void 0,void 0,useHTML,void 0,"button"),styledMode=this.styledMode;var curState=0,normalState=theme?merge(theme):{};var userNormalStyle=(normalState&&normalState.style)||{};normalState=AST.filterUserAttributes(normalState);label.attr(merge({padding:8,r:2},normalState));var normalStyle,hoverStyle,pressedStyle,disabledStyle;if(!styledMode){normalState=merge({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal",},},{style:userNormalStyle,},normalState);normalStyle=normalState.style;delete normalState.style;hoverState=merge(normalState,{fill:"#e6e6e6",},AST.filterUserAttributes(hoverState||{}));hoverStyle=hoverState.style;delete hoverState.style;pressedState=merge(normalState,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold",},},AST.filterUserAttributes(pressedState||{}));pressedStyle=pressedState.style;delete pressedState.style;disabledState=merge(normalState,{style:{color:"#cccccc",},},AST.filterUserAttributes(disabledState||{}));disabledStyle=disabledState.style;delete disabledState.style}addEvent(label.element,isMS?"mouseover":"mouseenter",function(){if(curState!==3){label.setState(1)}});addEvent(label.element,isMS?"mouseout":"mouseleave",function(){if(curState!==3){label.setState(curState)}});label.setState=function(state){if(state!==1){label.state=curState=state}label.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][state||0]);if(!styledMode){label.attr([normalState,hoverState,pressedState,disabledState][state||0]).css([normalStyle,hoverStyle,pressedStyle,disabledStyle][state||0])}};if(!styledMode){label.attr(normalState).css(extend({cursor:"default"},normalStyle))}return label.on("touchstart",function(e){return e.stopPropagation()}).on("click",function(e){if(curState!==3){callback.call(label,e)}})};SVGRenderer.prototype.crispLine=function(points,width,roundingFunction){if(roundingFunction===void 0){roundingFunction="round"}var start=points[0];var end=points[1];if(defined(start[1])&&start[1]===end[1]){start[1]=end[1]=Math[roundingFunction](start[1])-(width%2)/2}if(defined(start[2])&&start[2]===end[2]){start[2]=end[2]=Math[roundingFunction](start[2])+(width%2)/2}return points};SVGRenderer.prototype.path=function(path){var attribs=this.styledMode?{}:{fill:"none",};if(isArray(path)){attribs.d=path}else if(isObject(path)){extend(attribs,path)}return this.createElement("path").attr(attribs)};SVGRenderer.prototype.circle=function(x,y,r){var attribs=isObject(x)?x:typeof x==="undefined"?{}:{x:x,y:y,r:r},wrapper=this.createElement("circle");wrapper.xSetter=wrapper.ySetter=function(value,key,element){element.setAttribute("c"+key,value)};return wrapper.attr(attribs)};SVGRenderer.prototype.arc=function(x,y,r,innerR,start,end){var options;if(isObject(x)){options=x;y=options.y;r=options.r;innerR=options.innerR;start=options.start;end=options.end;x=options.x}else{options={innerR:innerR,start:start,end:end}}var arc=this.symbol("arc",x,y,r,r,options);arc.r=r;return arc};SVGRenderer.prototype.rect=function(x,y,width,height,r,strokeWidth){r=isObject(x)?x.r:r;var wrapper=this.createElement("rect");var attribs=isObject(x)?x:typeof x==="undefined"?{}:{x:x,y:y,width:Math.max(width,0),height:Math.max(height,0),};if(!this.styledMode){if(typeof strokeWidth!=="undefined"){attribs["stroke-width"]=strokeWidth;attribs=wrapper.crisp(attribs)}attribs.fill="none"}if(r){attribs.r=r}wrapper.rSetter=function(value,_key,element){wrapper.r=value;attr(element,{rx:value,ry:value,})};wrapper.rGetter=function(){return wrapper.r||0};return wrapper.attr(attribs)};SVGRenderer.prototype.setSize=function(width,height,animate){var renderer=this;renderer.width=width;renderer.height=height;renderer.boxWrapper.animate({width:width,height:height,},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height"),})},duration:pick(animate,true)?void 0:0,});renderer.alignElements()};SVGRenderer.prototype.g=function(name){var elem=this.createElement("g");return name?elem.attr({class:"highcharts-"+name}):elem};SVGRenderer.prototype.image=function(src,x,y,width,height,onload){var attribs={preserveAspectRatio:"none"},setSVGImageSource=function(el,src){if(el.setAttributeNS){el.setAttributeNS("http://www.w3.org/1999/xlink","href",src)}else{el.setAttribute("hc-svg-href",src)}};if(isNumber(x)){attribs.x=x}if(isNumber(y)){attribs.y=y}if(isNumber(width)){attribs.width=width}if(isNumber(height)){attribs.height=height}var elemWrapper=this.createElement("image").attr(attribs),onDummyLoad=function(e){setSVGImageSource(elemWrapper.element,src);onload.call(elemWrapper,e)};if(onload){setSVGImageSource(elemWrapper.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==");var dummy=new win.Image();addEvent(dummy,"load",onDummyLoad);dummy.src=src;if(dummy.complete){onDummyLoad({})}}else{setSVGImageSource(elemWrapper.element,src)}return elemWrapper};SVGRenderer.prototype.symbol=function(symbol,x,y,width,height,options){var ren=this,imageRegex=/^url\((.*?)\)$/,isImage=imageRegex.test(symbol),sym=!isImage&&(this.symbols[symbol]?symbol:"circle"),symbolFn=sym&&this.symbols[sym];var obj,path,imageSrc,centerImage;if(symbolFn){if(typeof x==="number"){path=symbolFn.call(this.symbols,Math.round(x||0),Math.round(y||0),width||0,height||0,options)}obj=this.path(path);if(!ren.styledMode){obj.attr("fill","none")}extend(obj,{symbolName:sym||void 0,x:x,y:y,width:width,height:height,});if(options){extend(obj,options)}}else if(isImage){imageSrc=symbol.match(imageRegex)[1];var img_1=(obj=this.image(imageSrc));img_1.imgwidth=pick(symbolSizes[imageSrc]&&symbolSizes[imageSrc].width,options&&options.width);img_1.imgheight=pick(symbolSizes[imageSrc]&&symbolSizes[imageSrc].height,options&&options.height);centerImage=function(obj){return obj.attr({width:obj.width,height:obj.height,})};["width","height"].forEach(function(key){img_1[key+"Setter"]=function(value,key){var imgSize=this["img"+key];this[key]=value;if(defined(imgSize)){if(options&&options.backgroundSize==="within"&&this.width&&this.height){imgSize=Math.round(imgSize*Math.min(this.width/this.imgwidth,this.height/this.imgheight))}if(this.element){this.element.setAttribute(key,imgSize)}if(!this.alignByTranslate){var translate=((this[key]||0)-imgSize)/2;var attribs=key==="width"?{translateX:translate}:{translateY:translate};this.attr(attribs)}}}});if(defined(x)){img_1.attr({x:x,y:y,})}img_1.isImg=true;if(defined(img_1.imgwidth)&&defined(img_1.imgheight)){centerImage(img_1)}else{img_1.attr({width:0,height:0});createElement("img",{onload:function(){var chart=charts[ren.chartIndex];if(this.width===0){css(this,{position:"absolute",top:"-999em",});doc.body.appendChild(this)}symbolSizes[imageSrc]={width:this.width,height:this.height,};img_1.imgwidth=this.width;img_1.imgheight=this.height;if(img_1.element){centerImage(img_1)}if(this.parentNode){this.parentNode.removeChild(this)}ren.imgCount--;if(!ren.imgCount&&chart&&!chart.hasLoaded){chart.onload()}},src:imageSrc,});this.imgCount++}}return obj};SVGRenderer.prototype.clipRect=function(x,y,width,height){var id=uniqueKey()+"-",clipPath=this.createElement("clipPath").attr({id:id,}).add(this.defs),wrapper=this.rect(x,y,width,height,0).add(clipPath);wrapper.id=id;wrapper.clipPath=clipPath;wrapper.count=0;return wrapper};SVGRenderer.prototype.text=function(str,x,y,useHTML){var renderer=this,attribs={};if(useHTML&&(renderer.allowHTML||!renderer.forExport)){return renderer.html(str,x,y)}attribs.x=Math.round(x||0);if(y){attribs.y=Math.round(y)}if(defined(str)){attribs.text=str}var wrapper=renderer.createElement("text").attr(attribs);if(!useHTML||(renderer.forExport&&!renderer.allowHTML)){wrapper.xSetter=function(value,key,element){var tspans=element.getElementsByTagName("tspan"),parentVal=element.getAttribute(key);for(var i=0,tspan=void 0;i<tspans.length;i++){tspan=tspans[i];if(tspan.getAttribute(key)===parentVal){tspan.setAttribute(key,value)}}element.setAttribute(key,value)}}return wrapper};SVGRenderer.prototype.fontMetrics=function(fontSize,elem){if((this.styledMode||!/px/.test(fontSize))&&win.getComputedStyle){fontSize=elem&&SVGElement.prototype.getStyle.call(elem,"font-size")}else{fontSize=fontSize||(elem&&elem.style&&elem.style.fontSize)||(this.style&&this.style.fontSize)}if(/px/.test(fontSize)){fontSize=pInt(fontSize)}else{fontSize=12}var lineHeight=fontSize<24?fontSize+3:Math.round(fontSize*1.2),baseline=Math.round(lineHeight*0.8);return{h:lineHeight,b:baseline,f:fontSize,}};SVGRenderer.prototype.rotCorr=function(baseline,rotation,alterY){var y=baseline;if(rotation&&alterY){y=Math.max(y*Math.cos(rotation*deg2rad),4)}return{x:(-baseline/3)*Math.sin(rotation*deg2rad),y:y,}};SVGRenderer.prototype.pathToSegments=function(path){var ret=[];var segment=[];var commandLength={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2,};for(var i=0;i<path.length;i++){if(isString(segment[0])&&isNumber(path[i])&&segment.length===commandLength[segment[0].toUpperCase()]){path.splice(i,0,segment[0].replace("M","L").replace("m","l"))}if(typeof path[i]==="string"){if(segment.length){ret.push(segment.slice(0))}segment.length=0}segment.push(path[i])}ret.push(segment.slice(0));return ret};SVGRenderer.prototype.label=function(str,x,y,shape,anchorX,anchorY,useHTML,baseline,className){return new SVGLabel(this,str,x,y,shape,anchorX,anchorY,useHTML,baseline,className)};SVGRenderer.prototype.alignElements=function(){this.alignedObjects.forEach(function(el){return el.align()})};return SVGRenderer})();extend(SVGRenderer.prototype,{Element:SVGElement,SVG_NS:SVG_NS,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;",},symbols:Symbols,draw:noop,});RendererRegistry.registerRendererType("svg",SVGRenderer,true);("");return SVGRenderer});_registerModule(_modules,"Core/Renderer/HTML/HTMLElement.js",[_modules["Core/Globals.js"],_modules["Core/Renderer/SVG/SVGElement.js"],_modules["Core/Utilities.js"],],function(H,SVGElement,U){var __extends=(this&&this.__extends)||(function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b})||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):((__.prototype=b.prototype),new __())}})();var isFirefox=H.isFirefox,isMS=H.isMS,isWebKit=H.isWebKit,win=H.win;var css=U.css,defined=U.defined,extend=U.extend,pick=U.pick,pInt=U.pInt;var HTMLElement=(function(_super){__extends(HTMLElement,_super);function HTMLElement(){return(_super!==null&&_super.apply(this,arguments))||this}HTMLElement.compose=function(SVGElementClass){if(HTMLElement.composedClasses.indexOf(SVGElementClass)===-1){HTMLElement.composedClasses.push(SVGElementClass);var htmlElementProto=HTMLElement.prototype,svgElementProto=SVGElementClass.prototype;svgElementProto.getSpanCorrection=htmlElementProto.getSpanCorrection;svgElementProto.htmlCss=htmlElementProto.htmlCss;svgElementProto.htmlGetBBox=htmlElementProto.htmlGetBBox;svgElementProto.htmlUpdateTransform=htmlElementProto.htmlUpdateTransform;svgElementProto.setSpanRotation=htmlElementProto.setSpanRotation}return SVGElementClass};HTMLElement.prototype.getSpanCorrection=function(width,baseline,alignCorrection){this.xCorr=-width*alignCorrection;this.yCorr=-baseline};HTMLElement.prototype.htmlCss=function(styles){var wrapper=this,element=wrapper.element,isSettingWidth=element.tagName==="SPAN"&&styles&&"width"in styles,textWidth=pick(isSettingWidth&&styles.width,void 0);var doTransform;if(isSettingWidth){delete styles.width;wrapper.textWidth=textWidth;doTransform=true}if(styles&&styles.textOverflow==="ellipsis"){styles.whiteSpace="nowrap";styles.overflow="hidden"}wrapper.styles=extend(wrapper.styles,styles);css(wrapper.element,styles);if(doTransform){wrapper.htmlUpdateTransform()}return wrapper};HTMLElement.prototype.htmlGetBBox=function(){var wrapper=this,element=wrapper.element;return{x:element.offsetLeft,y:element.offsetTop,width:element.offsetWidth,height:element.offsetHeight,}};HTMLElement.prototype.htmlUpdateTransform=function(){if(!this.added){this.alignOnAdd=true;return}var wrapper=this,renderer=wrapper.renderer,elem=wrapper.element,translateX=wrapper.translateX||0,translateY=wrapper.translateY||0,x=wrapper.x||0,y=wrapper.y||0,align=wrapper.textAlign||"left",alignCorrection={left:0,center:0.5,right:1,}[align],styles=wrapper.styles,whiteSpace=styles&&styles.whiteSpace;function getTextPxLength(){if(wrapper.textPxLength){return wrapper.textPxLength}css(elem,{width:"",whiteSpace:whiteSpace||"nowrap",});return elem.offsetWidth}css(elem,{marginLeft:translateX,marginTop:translateY,});if(!renderer.styledMode&&wrapper.shadows){wrapper.shadows.forEach(function(shadow){css(shadow,{marginLeft:translateX+1,marginTop:translateY+1,})})}if(wrapper.inverted){[].forEach.call(elem.childNodes,function(child){renderer.invertChild(child,elem)})}if(elem.tagName==="SPAN"){var rotation=wrapper.rotation,textWidth=wrapper.textWidth&&pInt(wrapper.textWidth),currentTextTransform=[rotation,align,elem.innerHTML,wrapper.textWidth,wrapper.textAlign,].join(",");var baseline=void 0,hasBoxWidthChanged=false;if(textWidth!==wrapper.oldTextWidth){var textPxLength=getTextPxLength();if((textWidth>wrapper.oldTextWidth||textPxLength>textWidth)&&(/[ \-]/.test(elem.textContent||elem.innerText)||elem.style.textOverflow==="ellipsis")){css(elem,{width:textPxLength>textWidth||rotation?textWidth+"px":"auto",display:"block",whiteSpace:whiteSpace||"normal",});wrapper.oldTextWidth=textWidth;hasBoxWidthChanged=true}}wrapper.hasBoxWidthChanged=hasBoxWidthChanged;if(currentTextTransform!==wrapper.cTT){baseline=renderer.fontMetrics(elem.style.fontSize,elem).b;if(defined(rotation)&&(rotation!==(wrapper.oldRotation||0)||align!==wrapper.oldAlign)){wrapper.setSpanRotation(rotation,alignCorrection,baseline)}wrapper.getSpanCorrection((!defined(rotation)&&wrapper.textPxLength)||elem.offsetWidth,baseline,alignCorrection,rotation,align)}css(elem,{left:x+(wrapper.xCorr||0)+"px",top:y+(wrapper.yCorr||0)+"px",});wrapper.cTT=currentTextTransform;wrapper.oldRotation=rotation;wrapper.oldAlign=align}};HTMLElement.prototype.setSpanRotation=function(rotation,alignCorrection,baseline){var getTransformKey=function(){return isMS&&!/Edge/.test(win.navigator.userAgent)?"-ms-transform":isWebKit?"-webkit-transform":isFirefox?"MozTransform":win.opera?"-o-transform":void 0};var rotationStyle={},cssTransformKey=getTransformKey();if(cssTransformKey){rotationStyle[cssTransformKey]=rotationStyle.transform="rotate("+rotation+"deg)";rotationStyle[cssTransformKey+(isFirefox?"Origin":"-origin")]=rotationStyle.transformOrigin=alignCorrection*100+"% "+baseline+"px";css(this.element,rotationStyle)}};HTMLElement.composedClasses=[];return HTMLElement})(SVGElement);return HTMLElement});_registerModule(_modules,"Core/Renderer/HTML/HTMLRenderer.js",[_modules["Core/Renderer/HTML/AST.js"],_modules["Core/Renderer/SVG/SVGElement.js"],_modules["Core/Renderer/SVG/SVGRenderer.js"],_modules["Core/Utilities.js"],],function(AST,SVGElement,SVGRenderer,U){var __extends=(this&&this.__extends)||(function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b})||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):((__.prototype=b.prototype),new __())}})();var attr=U.attr,createElement=U.createElement,extend=U.extend,pick=U.pick;var HTMLRenderer=(function(_super){__extends(HTMLRenderer,_super);function HTMLRenderer(){return(_super!==null&&_super.apply(this,arguments))||this}HTMLRenderer.compose=function(SVGRendererClass){if(HTMLRenderer.composedClasses.indexOf(SVGRendererClass)===-1){HTMLRenderer.composedClasses.push(SVGRendererClass);var htmlRendererProto=HTMLRenderer.prototype,svgRendererProto=SVGRendererClass.prototype;svgRendererProto.html=htmlRendererProto.html}return SVGRendererClass};HTMLRenderer.prototype.html=function(str,x,y){var wrapper=this.createElement("span"),element=wrapper.element,renderer=wrapper.renderer,isSVG=renderer.isSVG,addSetters=function(gWrapper,style){["opacity","visibility"].forEach(function(prop){gWrapper[prop+"Setter"]=function(value,key,elem){var styleObject=gWrapper.div?gWrapper.div.style:style;SVGElement.prototype[prop+"Setter"].call(this,value,key,elem);if(styleObject){styleObject[key]=value}}});gWrapper.addedSetters=true};wrapper.textSetter=function(value){if(value!==this.textStr){delete this.bBox;delete this.oldTextWidth;AST.setElementHTML(this.element,pick(value,""));this.textStr=value;wrapper.doTransform=true}};if(isSVG){addSetters(wrapper,wrapper.element.style)}wrapper.xSetter=wrapper.ySetter=wrapper.alignSetter=wrapper.rotationSetter=function(value,key){if(key==="align"){wrapper.alignValue=wrapper.textAlign=value}else{wrapper[key]=value}wrapper.doTransform=true};wrapper.afterSetters=function(){if(this.doTransform){this.htmlUpdateTransform();this.doTransform=false}};wrapper.attr({text:str,x:Math.round(x),y:Math.round(y),}).css({position:"absolute",});if(!renderer.styledMode){wrapper.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize,})}element.style.whiteSpace="nowrap";wrapper.css=wrapper.htmlCss;if(isSVG){wrapper.add=function(svgGroupWrapper){var container=renderer.box.parentNode,parents=[];var htmlGroup,parentGroup;this.parentGroup=svgGroupWrapper;if(svgGroupWrapper){htmlGroup=svgGroupWrapper.div;if(!htmlGroup){parentGroup=svgGroupWrapper;while(parentGroup){parents.push(parentGroup);parentGroup=parentGroup.parentGroup}parents.reverse().forEach(function(parentGroup){var cls=attr(parentGroup.element,"class");function translateSetter(value,key){parentGroup[key]=value;if(key==="translateX"){htmlGroupStyle.left=value+"px"}else{htmlGroupStyle.top=value+"px"}parentGroup.doTransform=true}var parentGroupStyles=parentGroup.styles||{};htmlGroup=parentGroup.div=parentGroup.div||createElement("div",cls?{className:cls}:void 0,{position:"absolute",left:(parentGroup.translateX||0)+"px",top:(parentGroup.translateY||0)+"px",display:parentGroup.display,opacity:parentGroup.opacity,cursor:parentGroupStyles.cursor,pointerEvents:parentGroupStyles.pointerEvents,visibility:parentGroup.visibility,},htmlGroup||container);var htmlGroupStyle=htmlGroup.style;extend(parentGroup,{classSetter:(function(htmlGroup){return function(value){this.element.setAttribute("class",value);htmlGroup.className=value}})(htmlGroup),on:function(){if(parents[0].div){wrapper.on.apply({element:parents[0].div,onEvents:parentGroup.onEvents,},arguments)}return parentGroup},translateXSetter:translateSetter,translateYSetter:translateSetter,});if(!parentGroup.addedSetters){addSetters(parentGroup)}})}}else{htmlGroup=container}htmlGroup.appendChild(element);wrapper.added=true;if(wrapper.alignOnAdd){wrapper.htmlUpdateTransform()}return wrapper}}return wrapper};HTMLRenderer.composedClasses=[];return HTMLRenderer})(SVGRenderer);return HTMLRenderer});_registerModule(_modules,"Core/Axis/AxisDefaults.js",[],function(){var AxisDefaults;(function(AxisDefaults){AxisDefaults.defaultXAxisOptions={alignTicks:true,allowDecimals:void 0,panningEnabled:true,zIndex:2,zoomEnabled:true,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:false,},second:{main:"%H:%M:%S",range:false,},minute:{main:"%H:%M",range:false,},hour:{main:"%H:%M",range:false,},day:{main:"%e. %b",},week:{main:"%e. %b",},month:{main:"%b '%y",},year:{main:"%Y",},},endOnTick:false,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotation:void 0,autoRotationLimit:80,distance:void 0,enabled:true,indentation:10,overflow:"justify",padding:5,reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:false,x:0,zIndex:7,style:{color:"#666666",cursor:"default",fontSize:"11px",},},maxPadding:0.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minPadding:0.01,offset:void 0,opposite:false,reversed:void 0,reversedStacks:false,showEmpty:true,showFirstLabel:true,showLastLabel:true,startOfWeek:1,startOnTick:false,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",rotation:0,useHTML:false,x:0,y:0,style:{color:"#666666",},},type:"linear",uniqueNames:true,visible:true,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#ccd6eb",};AxisDefaults.defaultYAxisOptions={reversedStacks:true,endOnTick:true,maxPadding:0.05,minPadding:0.05,tickPixelInterval:72,showLastLabel:true,labels:{x:-8,},startOnTick:true,title:{rotation:270,text:"Values",},stackLabels:{animation:{},allowOverlap:false,enabled:false,crop:true,overflow:"justify",formatter:function(){var numberFormatter=this.axis.chart.numberFormatter;return numberFormatter(this.total,-1)},style:{color:"#000000",fontSize:"11px",fontWeight:"bold",textOutline:"1px contrast",},},gridLineWidth:1,lineWidth:0,};AxisDefaults.defaultLeftAxisOptions={labels:{x:-15,},title:{rotation:270,},};AxisDefaults.defaultRightAxisOptions={labels:{x:15,},title:{rotation:90,},};AxisDefaults.defaultBottomAxisOptions={labels:{autoRotation:[-45],x:0,},margin:15,title:{rotation:0,},};AxisDefaults.defaultTopAxisOptions={labels:{autoRotation:[-45],x:0,},margin:15,title:{rotation:0,},}})(AxisDefaults||(AxisDefaults={}));return AxisDefaults});_registerModule(_modules,"Core/Foundation.js",[_modules["Core/Utilities.js"]],function(U){var addEvent=U.addEvent,isFunction=U.isFunction,objectEach=U.objectEach,removeEvent=U.removeEvent;var Foundation;(function(Foundation){function registerEventOptions(component,options){component.eventOptions=component.eventOptions||{};objectEach(options.events,function(event,eventType){if(component.eventOptions[eventType]!==event){if(component.eventOptions[eventType]){removeEvent(component,eventType,component.eventOptions[eventType]);delete component.eventOptions[eventType]}if(isFunction(event)){component.eventOptions[eventType]=event;addEvent(component,eventType,event)}}})}Foundation.registerEventOptions=registerEventOptions})(Foundation||(Foundation={}));return Foundation});_registerModule(_modules,"Core/Axis/Tick.js",[_modules["Core/FormatUtilities.js"],_modules["Core/Globals.js"],_modules["Core/Utilities.js"],],function(F,H,U){var deg2rad=H.deg2rad;var clamp=U.clamp,correctFloat=U.correctFloat,defined=U.defined,destroyObjectProperties=U.destroyObjectProperties,extend=U.extend,fireEvent=U.fireEvent,isNumber=U.isNumber,merge=U.merge,objectEach=U.objectEach,pick=U.pick;var Tick=(function(){function Tick(axis,pos,type,noLabel,parameters){this.isNew=true;this.isNewLabel=true;this.axis=axis;this.pos=pos;this.type=type||"";this.parameters=parameters||{};this.tickmarkOffset=this.parameters.tickmarkOffset;this.options=this.parameters.options;fireEvent(this,"init");if(!type&&!noLabel){this.addLabel()}}Tick.prototype.addLabel=function(){var tick=this,axis=tick.axis,options=axis.options,chart=axis.chart,categories=axis.categories,log=axis.logarithmic,names=axis.names,pos=tick.pos,labelOptions=pick(tick.options&&tick.options.labels,options.labels),tickPositions=axis.tickPositions,isFirst=pos===tickPositions[0],isLast=pos===tickPositions[tickPositions.length-1],animateLabels=(!labelOptions.step||labelOptions.step===1)&&axis.tickInterval===1,tickPositionInfo=tickPositions.info;var label=tick.label,dateTimeLabelFormat,dateTimeLabelFormats,i;var value=this.parameters.category||(categories?pick(categories[pos],names[pos],pos):pos);if(log&&isNumber(value)){value=correctFloat(log.lin2log(value))}if(axis.dateTime){if(tickPositionInfo){dateTimeLabelFormats=chart.time.resolveDTLFormat(options.dateTimeLabelFormats[(!options.grid&&tickPositionInfo.higherRanks[pos])||tickPositionInfo.unitName]);dateTimeLabelFormat=dateTimeLabelFormats.main}else if(isNumber(value)){dateTimeLabelFormat=axis.dateTime.getXDateFormat(value,options.dateTimeLabelFormats||{})}}tick.isFirst=isFirst;tick.isLast=isLast;var ctx={axis:axis,chart:chart,dateTimeLabelFormat:dateTimeLabelFormat,isFirst:isFirst,isLast:isLast,pos:pos,tick:tick,tickPositionInfo:tickPositionInfo,value:value,};fireEvent(this,"labelFormat",ctx);var labelFormatter=function(ctx){if(labelOptions.formatter){return labelOptions.formatter.call(ctx,ctx)}if(labelOptions.format){ctx.text=axis.defaultLabelFormatter.call(ctx);return F.format(labelOptions.format,ctx,chart)}return axis.defaultLabelFormatter.call(ctx,ctx)};var str=labelFormatter.call(ctx,ctx);var list=dateTimeLabelFormats&&dateTimeLabelFormats.list;if(list){tick.shortenLabel=function(){for(i=0;i<list.length;i++){extend(ctx,{dateTimeLabelFormat:list[i]});label.attr({text:labelFormatter.call(ctx,ctx),});if(label.getBBox().width<axis.getSlotWidth(tick)-2*labelOptions.padding){return}}label.attr({text:"",})}}else{tick.shortenLabel=void 0}if(animateLabels&&axis._addedPlotLB){tick.moveLabel(str,labelOptions)}if(!defined(label)&&!tick.movedLabel){tick.label=label=tick.createLabel({x:0,y:0},str,labelOptions);tick.rotation=0}else if(label&&label.textStr!==str&&!animateLabels){if(label.textWidth&&!labelOptions.style.width&&!label.styles.width){label.css({width:null})}label.attr({text:str});label.textPxLength=label.getBBox().width}};Tick.prototype.createLabel=function(xy,str,labelOptions){var axis=this.axis,chart=axis.chart,label=defined(str)&&labelOptions.enabled?chart.renderer.text(str,xy.x,xy.y,labelOptions.useHTML).add(axis.labelGroup):null;if(label){if(!chart.styledMode){label.css(merge(labelOptions.style))}label.textPxLength=label.getBBox().width}return label};Tick.prototype.destroy=function(){destroyObjectProperties(this,this.axis)};Tick.prototype.getPosition=function(horiz,tickPos,tickmarkOffset,old){var axis=this.axis,chart=axis.chart,cHeight=(old&&chart.oldChartHeight)||chart.chartHeight,pos={x:horiz?correctFloat(axis.translate(tickPos+tickmarkOffset,null,null,old)+axis.transB):axis.left+axis.offset+(axis.opposite?((old&&chart.oldChartWidth)||chart.chartWidth)-axis.right-axis.left:0),y:horiz?cHeight-axis.bottom+axis.offset-(axis.opposite?axis.height:0):correctFloat(cHeight-axis.translate(tickPos+tickmarkOffset,null,null,old)-axis.transB),};pos.y=clamp(pos.y,-1e5,1e5);fireEvent(this,"afterGetPosition",{pos:pos});return pos};Tick.prototype.getLabelPosition=function(x,y,label,horiz,labelOptions,tickmarkOffset,index,step){var axis=this.axis,transA=axis.transA,reversed=axis.isLinked&&axis.linkedParent?axis.linkedParent.reversed:axis.reversed,staggerLines=axis.staggerLines,rotCorr=axis.tickRotCorr||{x:0,y:0},labelOffsetCorrection=!horiz&&!axis.reserveSpaceDefault?-axis.labelOffset*(axis.labelAlign==="center"?0.5:1):0,pos={};var yOffset=labelOptions.y,line;if(!defined(yOffset)){if(axis.side===0){yOffset=label.rotation?-8:-label.getBBox().height}else if(axis.side===2){yOffset=rotCorr.y+8}else{yOffset=Math.cos(label.rotation*deg2rad)*(rotCorr.y-label.getBBox(false,0).height/2)}}x=x+labelOptions.x+labelOffsetCorrection+rotCorr.x-(tickmarkOffset&&horiz?tickmarkOffset*transA*(reversed?-1:1):0);y=y+yOffset-(tickmarkOffset&&!horiz?tickmarkOffset*transA*(reversed?1:-1):0);if(staggerLines){line=(index/(step||1))%staggerLines;if(axis.opposite){line=staggerLines-line-1}y+=line*(axis.labelOffset/staggerLines)}pos.x=x;pos.y=Math.round(y);fireEvent(this,"afterGetLabelPosition",{pos:pos,tickmarkOffset:tickmarkOffset,index:index,});return pos};Tick.prototype.getLabelSize=function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0};Tick.prototype.getMarkPath=function(x,y,tickLength,tickWidth,horiz,renderer){return renderer.crispLine([["M",x,y],["L",x+(horiz?0:-tickLength),y+(horiz?tickLength:0),],],tickWidth)};Tick.prototype.handleOverflow=function(xy){var tick=this,axis=this.axis,labelOptions=axis.options.labels,pxPos=xy.x,chartWidth=axis.chart.chartWidth,spacing=axis.chart.spacing,leftBound=pick(axis.labelLeft,Math.min(axis.pos,spacing[3])),rightBound=pick(axis.labelRight,Math.max(!axis.isRadial?axis.pos+axis.len:0,chartWidth-spacing[1])),label=this.label,rotation=this.rotation,factor={left:0,center:0.5,right:1,}[axis.labelAlign||label.attr("align")],labelWidth=label.getBBox().width,slotWidth=axis.getSlotWidth(tick),xCorrection=factor,css={};var modifiedSlotWidth=slotWidth,goRight=1,leftPos,rightPos,textWidth;if(!rotation&&labelOptions.overflow==="justify"){leftPos=pxPos-factor*labelWidth;rightPos=pxPos+(1-factor)*labelWidth;if(leftPos<leftBound){modifiedSlotWidth=xy.x+modifiedSlotWidth*(1-factor)-leftBound}else if(rightPos>rightBound){modifiedSlotWidth=rightBound-xy.x+modifiedSlotWidth*factor;goRight=-1}modifiedSlotWidth=Math.min(slotWidth,modifiedSlotWidth);if(modifiedSlotWidth<slotWidth&&axis.labelAlign==="center"){xy.x+=goRight*(slotWidth-modifiedSlotWidth-xCorrection*(slotWidth-Math.min(labelWidth,modifiedSlotWidth)))}if(labelWidth>modifiedSlotWidth||(axis.autoRotation&&(label.styles||{}).width)){textWidth=modifiedSlotWidth}}else if(rotation<0&&pxPos-factor*labelWidth<leftBound){textWidth=Math.round(pxPos/Math.cos(rotation*deg2rad)-leftBound)}else if(rotation>0&&pxPos+factor*labelWidth>rightBound){textWidth=Math.round((chartWidth-pxPos)/Math.cos(rotation*deg2rad))}if(textWidth){if(tick.shortenLabel){tick.shortenLabel()}else{css.width=Math.floor(textWidth)+"px";if(!(labelOptions.style||{}).textOverflow){css.textOverflow="ellipsis"}label.css(css)}}};Tick.prototype.moveLabel=function(str,labelOptions){var tick=this,label=tick.label,axis=tick.axis,reversed=axis.reversed;var moved=false,labelPos,xPos,yPos;if(label&&label.textStr===str){tick.movedLabel=label;moved=true;delete tick.label}else{objectEach(axis.ticks,function(currentTick){if(!moved&&!currentTick.isNew&&currentTick!==tick&&currentTick.label&&currentTick.label.textStr===str){tick.movedLabel=currentTick.label;moved=true;currentTick.labelPos=tick.movedLabel.xy;delete currentTick.label}})}if(!moved&&(tick.labelPos||label)){labelPos=tick.labelPos||label.xy;xPos=axis.horiz?reversed?0:axis.width+axis.left:labelPos.x;yPos=axis.horiz?labelPos.y:reversed?axis.width+axis.left:0;tick.movedLabel=tick.createLabel({x:xPos,y:yPos},str,labelOptions);if(tick.movedLabel){tick.movedLabel.attr({opacity:0})}}};Tick.prototype.render=function(index,old,opacity){var tick=this,axis=tick.axis,horiz=axis.horiz,pos=tick.pos,tickmarkOffset=pick(tick.tickmarkOffset,axis.tickmarkOffset),xy=tick.getPosition(horiz,pos,tickmarkOffset,old),x=xy.x,y=xy.y,reverseCrisp=(horiz&&x===axis.pos+axis.len)||(!horiz&&y===axis.pos)?-1:1;var labelOpacity=pick(opacity,tick.label&&tick.label.newOpacity,1);opacity=pick(opacity,1);this.isActive=true;this.renderGridLine(old,opacity,reverseCrisp);this.renderMark(xy,opacity,reverseCrisp);this.renderLabel(xy,old,labelOpacity,index);tick.isNew=false;fireEvent(this,"afterRender")};Tick.prototype.renderGridLine=function(old,opacity,reverseCrisp){var tick=this,axis=tick.axis,options=axis.options,attribs={},pos=tick.pos,type=tick.type,tickmarkOffset=pick(tick.tickmarkOffset,axis.tickmarkOffset),renderer=axis.chart.renderer;var gridLine=tick.gridLine,gridLinePath,gridLineWidth=options.gridLineWidth,gridLineColor=options.gridLineColor,dashStyle=options.gridLineDashStyle;if(tick.type==="minor"){gridLineWidth=options.minorGridLineWidth;gridLineColor=options.minorGridLineColor;dashStyle=options.minorGridLineDashStyle}if(!gridLine){if(!axis.chart.styledMode){attribs.stroke=gridLineColor;attribs["stroke-width"]=gridLineWidth||0;attribs.dashstyle=dashStyle}if(!type){attribs.zIndex=1}if(old){opacity=0}tick.gridLine=gridLine=renderer.path().attr(attribs).addClass("highcharts-"+(type?type+"-":"")+"grid-line").add(axis.gridGroup)}if(gridLine){gridLinePath=axis.getPlotLinePath({value:pos+tickmarkOffset,lineWidth:gridLine.strokeWidth()*reverseCrisp,force:"pass",old:old,});if(gridLinePath){gridLine[old||tick.isNew?"attr":"animate"]({d:gridLinePath,opacity:opacity,})}}};Tick.prototype.renderMark=function(xy,opacity,reverseCrisp){var tick=this,axis=tick.axis,options=axis.options,renderer=axis.chart.renderer,type=tick.type,tickSize=axis.tickSize(type?type+"Tick":"tick"),x=xy.x,y=xy.y,tickWidth=pick(options[type!=="minor"?"tickWidth":"minorTickWidth"],!type&&axis.isXAxis?1:0),tickColor=options[type!=="minor"?"tickColor":"minorTickColor"];var mark=tick.mark;var isNewMark=!mark;if(tickSize){if(axis.opposite){tickSize[0]=-tickSize[0]}if(!mark){tick.mark=mark=renderer.path().addClass("highcharts-"+(type?type+"-":"")+"tick").add(axis.axisGroup);if(!axis.chart.styledMode){mark.attr({stroke:tickColor,"stroke-width":tickWidth,})}}mark[isNewMark?"attr":"animate"]({d:tick.getMarkPath(x,y,tickSize[0],mark.strokeWidth()*reverseCrisp,axis.horiz,renderer),opacity:opacity,})}};Tick.prototype.renderLabel=function(xy,old,opacity,index){var tick=this,axis=tick.axis,horiz=axis.horiz,options=axis.options,label=tick.label,labelOptions=options.labels,step=labelOptions.step,tickmarkOffset=pick(tick.tickmarkOffset,axis.tickmarkOffset),x=xy.x,y=xy.y;var show=true;if(label&&isNumber(x)){label.xy=xy=tick.getLabelPosition(x,y,label,horiz,labelOptions,tickmarkOffset,index,step);if((tick.isFirst&&!tick.isLast&&!options.showFirstLabel)||(tick.isLast&&!tick.isFirst&&!options.showLastLabel)){show=false}else if(horiz&&!labelOptions.step&&!labelOptions.rotation&&!old&&opacity!==0){tick.handleOverflow(xy)}if(step&&index%step){show=false}if(show&&isNumber(xy.y)){xy.opacity=opacity;label[tick.isNewLabel?"attr":"animate"](xy);tick.isNewLabel=false}else{label.attr("y",-9999);tick.isNewLabel=true}}};Tick.prototype.replaceMovedLabel=function(){var tick=this,label=tick.label,axis=tick.axis,reversed=axis.reversed;var x,y;if(label&&!tick.isNew){x=axis.horiz?reversed?axis.left:axis.width+axis.left:label.xy.x;y=axis.horiz?label.xy.y:reversed?axis.width+axis.top:axis.top;label.animate({x:x,y:y,opacity:0},void 0,label.destroy);delete tick.label}axis.isDirty=true;tick.label=tick.movedLabel;delete tick.movedLabel};return Tick})();("");return Tick});_registerModule(_modules,"Core/Axis/Axis.js",[_modules["Core/Animation/AnimationUtilities.js"],_modules["Core/Axis/AxisDefaults.js"],_modules["Core/Color/Color.js"],_modules["Core/DefaultOptions.js"],_modules["Core/Foundation.js"],_modules["Core/Globals.js"],_modules["Core/Axis/Tick.js"],_modules["Core/Utilities.js"],],function(A,AxisDefaults,Color,D,F,H,Tick,U){var animObject=A.animObject;var defaultOptions=D.defaultOptions;var registerEventOptions=F.registerEventOptions;var deg2rad=H.deg2rad;var arrayMax=U.arrayMax,arrayMin=U.arrayMin,clamp=U.clamp,correctFloat=U.correctFloat,defined=U.defined,destroyObjectProperties=U.destroyObjectProperties,erase=U.erase,error=U.error,extend=U.extend,fireEvent=U.fireEvent,getMagnitude=U.getMagnitude,isArray=U.isArray,isNumber=U.isNumber,isString=U.isString,merge=U.merge,normalizeTickInterval=U.normalizeTickInterval,objectEach=U.objectEach,pick=U.pick,relativeLength=U.relativeLength,removeEvent=U.removeEvent,splat=U.splat,syncTimeout=U.syncTimeout;var Axis=(function(){function Axis(chart,userOptions){this.alternateBands=void 0;this.bottom=void 0;this.categories=void 0;this.chart=void 0;this.closestPointRange=void 0;this.coll=void 0;this.eventOptions=void 0;this.hasNames=void 0;this.hasVisibleSeries=void 0;this.height=void 0;this.isLinked=void 0;this.labelEdge=void 0;this.labelFormatter=void 0;this.left=void 0;this.len=void 0;this.max=void 0;this.maxLabelLength=void 0;this.min=void 0;this.minorTickInterval=void 0;this.minorTicks=void 0;this.minPixelPadding=void 0;this.names=void 0;this.offset=void 0;this.options=void 0;this.overlap=void 0;this.paddedTicks=void 0;this.plotLinesAndBands=void 0;this.plotLinesAndBandsGroups=void 0;this.pointRange=void 0;this.pointRangePadding=void 0;this.pos=void 0;this.positiveValuesOnly=void 0;this.right=void 0;this.series=void 0;this.side=void 0;this.tickAmount=void 0;this.tickInterval=void 0;this.tickmarkOffset=void 0;this.tickPositions=void 0;this.tickRotCorr=void 0;this.ticks=void 0;this.top=void 0;this.transA=void 0;this.transB=void 0;this.translationSlope=void 0;this.userOptions=void 0;this.visible=void 0;this.width=void 0;this.zoomEnabled=void 0;this.init(chart,userOptions)}Axis.prototype.init=function(chart,userOptions){var isXAxis=userOptions.isX,axis=this;axis.chart=chart;axis.horiz=chart.inverted&&!axis.isZAxis?!isXAxis:isXAxis;axis.isXAxis=isXAxis;axis.coll=axis.coll||(isXAxis?"xAxis":"yAxis");fireEvent(this,"init",{userOptions:userOptions});axis.opposite=pick(userOptions.opposite,axis.opposite);axis.side=pick(userOptions.side,axis.side,axis.horiz?axis.opposite?0:2:axis.opposite?1:3);axis.setOptions(userOptions);var options=this.options,labelsOptions=options.labels,type=options.type;axis.userOptions=userOptions;axis.minPixelPadding=0;axis.reversed=pick(options.reversed,axis.reversed);axis.visible=options.visible;axis.zoomEnabled=options.zoomEnabled;axis.hasNames=type==="category"||options.categories===true;axis.categories=options.categories||axis.hasNames;if(!axis.names){axis.names=[];axis.names.keys={}}axis.plotLinesAndBandsGroups={};axis.positiveValuesOnly=!!axis.logarithmic;axis.isLinked=defined(options.linkedTo);axis.ticks={};axis.labelEdge=[];axis.minorTicks={};axis.plotLinesAndBands=[];axis.alternateBands={};axis.len=0;axis.minRange=axis.userMinRange=options.minRange||options.maxZoom;axis.range=options.range;axis.offset=options.offset||0;axis.max=null;axis.min=null;var crosshair=pick(options.crosshair,splat(chart.options.tooltip.crosshairs)[isXAxis?0:1]);axis.crosshair=crosshair===true?{}:crosshair;if(chart.axes.indexOf(axis)===-1){if(isXAxis){chart.axes.splice(chart.xAxis.length,0,axis)}else{chart.axes.push(axis)}chart[axis.coll].push(axis)}axis.series=axis.series||[];if(chart.inverted&&!axis.isZAxis&&isXAxis&&typeof axis.reversed==="undefined"){axis.reversed=true}axis.labelRotation=isNumber(labelsOptions.rotation)?labelsOptions.rotation:void 0;registerEventOptions(axis,options);fireEvent(this,"afterInit")};Axis.prototype.setOptions=function(userOptions){this.options=merge(AxisDefaults.defaultXAxisOptions,this.coll==="yAxis"&&AxisDefaults.defaultYAxisOptions,[AxisDefaults.defaultTopAxisOptions,AxisDefaults.defaultRightAxisOptions,AxisDefaults.defaultBottomAxisOptions,AxisDefaults.defaultLeftAxisOptions,][this.side],merge(defaultOptions[this.coll],userOptions));fireEvent(this,"afterSetOptions",{userOptions:userOptions})};Axis.prototype.defaultLabelFormatter=function(ctx){var axis=this.axis,chart=this.chart,numberFormatter=chart.numberFormatter,value=isNumber(this.value)?this.value:NaN,time=axis.chart.time,categories=axis.categories,dateTimeLabelFormat=this.dateTimeLabelFormat,lang=defaultOptions.lang,numericSymbols=lang.numericSymbols,numSymMagnitude=lang.numericSymbolMagnitude||1000,numericSymbolDetector=axis.logarithmic?Math.abs(value):axis.tickInterval;var i=numericSymbols&&numericSymbols.length,multi,ret;if(categories){ret=""+this.value}else if(dateTimeLabelFormat){ret=time.dateFormat(dateTimeLabelFormat,value)}else if(i&&numericSymbolDetector>=1000){while(i--&&typeof ret==="undefined"){multi=Math.pow(numSymMagnitude,i+1);if(numericSymbolDetector>=multi&&(value*10)%multi===0&&numericSymbols[i]!==null&&value!==0){ret=numberFormatter(value/multi,-1)+numericSymbols[i]}}}if(typeof ret==="undefined"){if(Math.abs(value)>=10000){ret=numberFormatter(value,-1)}else{ret=numberFormatter(value,-1,void 0,"")}}return ret};Axis.prototype.getSeriesExtremes=function(){var axis=this,chart=axis.chart;var xExtremes;fireEvent(this,"getSeriesExtremes",null,function(){axis.hasVisibleSeries=false;axis.dataMin=axis.dataMax=axis.threshold=null;axis.softThreshold=!axis.isXAxis;if(axis.stacking){axis.stacking.buildStacks()}axis.series.forEach(function(series){if(series.visible||!chart.options.chart.ignoreHiddenSeries){var seriesOptions=series.options;var xData=void 0,threshold=seriesOptions.threshold,seriesDataMin=void 0,seriesDataMax=void 0;axis.hasVisibleSeries=true;if(axis.positiveValuesOnly&&threshold<=0){threshold=null}if(axis.isXAxis){xData=series.xData;if(xData.length){var isPositive=function(number){return number>0};xData=axis.logarithmic?xData.filter(axis.validatePositiveValue):xData;xExtremes=series.getXExtremes(xData);seriesDataMin=xExtremes.min;seriesDataMax=xExtremes.max;if(!isNumber(seriesDataMin)&&!(seriesDataMin instanceof Date)){xData=xData.filter(isNumber);xExtremes=series.getXExtremes(xData);seriesDataMin=xExtremes.min;seriesDataMax=xExtremes.max}if(xData.length){axis.dataMin=Math.min(pick(axis.dataMin,seriesDataMin),seriesDataMin);axis.dataMax=Math.max(pick(axis.dataMax,seriesDataMax),seriesDataMax)}}}else{var dataExtremes=series.applyExtremes();if(isNumber(dataExtremes.dataMin)){seriesDataMin=dataExtremes.dataMin;axis.dataMin=Math.min(pick(axis.dataMin,seriesDataMin),seriesDataMin)}if(isNumber(dataExtremes.dataMax)){seriesDataMax=dataExtremes.dataMax;axis.dataMax=Math.max(pick(axis.dataMax,seriesDataMax),seriesDataMax)}if(defined(threshold)){axis.threshold=threshold}if(!seriesOptions.softThreshold||axis.positiveValuesOnly){axis.softThreshold=false}}}})});fireEvent(this,"afterGetSeriesExtremes")};Axis.prototype.translate=function(val,backwards,cvsCoord,old,handleLog,pointPlacement){var axis=this.linkedParent||this,localMin=old&&axis.old?axis.old.min:axis.min,minPixelPadding=axis.minPixelPadding,doPostTranslate=(axis.isOrdinal||(axis.brokenAxis&&axis.brokenAxis.hasBreaks)||(axis.logarithmic&&handleLog))&&axis.lin2val;var sign=1,cvsOffset=0,localA=old&&axis.old?axis.old.transA:axis.transA,returnValue=0;if(!localA){localA=axis.transA}if(cvsCoord){sign*=-1;cvsOffset=axis.len}if(axis.reversed){sign*=-1;cvsOffset-=sign*(axis.sector||axis.len)}if(backwards){val=val*sign+cvsOffset;val-=minPixelPadding;returnValue=val/localA+localMin;if(doPostTranslate){returnValue=axis.lin2val(returnValue)}}else{if(doPostTranslate){val=axis.val2lin(val)}returnValue=isNumber(localMin)?sign*(val-localMin)*localA+cvsOffset+sign*minPixelPadding+(isNumber(pointPlacement)?localA*pointPlacement:0):void 0}return returnValue};Axis.prototype.toPixels=function(value,paneCoordinates){return(this.translate(value,false,!this.horiz,null,true)+(paneCoordinates?0:this.pos))};Axis.prototype.toValue=function(pixel,paneCoordinates){return this.translate(pixel-(paneCoordinates?0:this.pos),true,!this.horiz,null,true)};Axis.prototype.getPlotLinePath=function(options){var axis=this,chart=axis.chart,axisLeft=axis.left,axisTop=axis.top,old=options.old,value=options.value,lineWidth=options.lineWidth,cHeight=(old&&chart.oldChartHeight)||chart.chartHeight,cWidth=(old&&chart.oldChartWidth)||chart.chartWidth,transB=axis.transB;var translatedValue=options.translatedValue,force=options.force,x1,y1,x2,y2,skip;function between(x,a,b){if((force!=="pass"&&x<a)||x>b){if(force){x=clamp(x,a,b)}else{skip=true}}return x}var evt={value:value,lineWidth:lineWidth,old:old,force:force,acrossPanes:options.acrossPanes,translatedValue:translatedValue,};fireEvent(this,"getPlotLinePath",evt,function(e){translatedValue=pick(translatedValue,axis.translate(value,null,null,old));translatedValue=clamp(translatedValue,-1e5,1e5);x1=x2=Math.round(translatedValue+transB);y1=y2=Math.round(cHeight-translatedValue-transB);if(!isNumber(translatedValue)){skip=true;force=false}else if(axis.horiz){y1=axisTop;y2=cHeight-axis.bottom;x1=x2=between(x1,axisLeft,axisLeft+axis.width)}else{x1=axisLeft;x2=cWidth-axis.right;y1=y2=between(y1,axisTop,axisTop+axis.height)}e.path=skip&&!force?null:chart.renderer.crispLine([["M",x1,y1],["L",x2,y2],],lineWidth||1)});return evt.path};Axis.prototype.getLinearTickPositions=function(tickInterval,min,max){var roundedMin=correctFloat(Math.floor(min/tickInterval)*tickInterval),roundedMax=correctFloat(Math.ceil(max/tickInterval)*tickInterval),tickPositions=[];var pos,lastPos,precision;if(correctFloat(roundedMin+tickInterval)===roundedMin){precision=20}if(this.single){return[min]}pos=roundedMin;while(pos<=roundedMax){tickPositions.push(pos);pos=correctFloat(pos+tickInterval,precision);if(pos===lastPos){break}lastPos=pos}return tickPositions};Axis.prototype.getMinorTickInterval=function(){var options=this.options;if(options.minorTicks===true){return pick(options.minorTickInterval,"auto")}if(options.minorTicks===false){return null}return options.minorTickInterval};Axis.prototype.getMinorTickPositions=function(){var axis=this,options=axis.options,tickPositions=axis.tickPositions,minorTickInterval=axis.minorTickInterval,pointRangePadding=axis.pointRangePadding||0,min=axis.min-pointRangePadding,max=axis.max+pointRangePadding,range=max-min;var minorTickPositions=[],pos;if(range&&range/minorTickInterval<axis.len/3){var logarithmic_1=axis.logarithmic;if(logarithmic_1){this.paddedTicks.forEach(function(_pos,i,paddedTicks){if(i){minorTickPositions.push.apply(minorTickPositions,logarithmic_1.getLogTickPositions(minorTickInterval,paddedTicks[i-1],paddedTicks[i],true))}})}else if(axis.dateTime&&this.getMinorTickInterval()==="auto"){minorTickPositions=minorTickPositions.concat(axis.getTimeTicks(axis.dateTime.normalizeTimeTickInterval(minorTickInterval),min,max,options.startOfWeek))}else{for(pos=min+((tickPositions[0]-min)%minorTickInterval);pos<=max;pos+=minorTickInterval){if(pos===minorTickPositions[0]){break}minorTickPositions.push(pos)}}}if(minorTickPositions.length!==0){axis.trimTicks(minorTickPositions)}return minorTickPositions};Axis.prototype.adjustForMinRange=function(){var axis=this,options=axis.options,log=axis.logarithmic;var min=axis.min,max=axis.max,zoomOffset,spaceAvailable,closestDataRange=0,i,distance,xData,loopLength,minArgs,maxArgs,minRange;if(axis.isXAxis&&typeof axis.minRange==="undefined"&&!log){if(defined(options.min)||defined(options.max)||defined(options.floor)||defined(options.ceiling)){axis.minRange=null}else{axis.series.forEach(function(series){xData=series.xData;loopLength=series.xIncrement?1:xData.length-1;if(xData.length>1){for(i=loopLength;i>0;i--){distance=xData[i]-xData[i-1];if(!closestDataRange||distance<closestDataRange){closestDataRange=distance}}}});axis.minRange=Math.min(closestDataRange*5,axis.dataMax-axis.dataMin)}}if(max-min<axis.minRange){spaceAvailable=axis.dataMax-axis.dataMin>=axis.minRange;minRange=axis.minRange;zoomOffset=(minRange-max+min)/2;minArgs=[min-zoomOffset,pick(options.min,min-zoomOffset)];if(spaceAvailable){minArgs[2]=axis.logarithmic?axis.logarithmic.log2lin(axis.dataMin):axis.dataMin}min=arrayMax(minArgs);maxArgs=[min+minRange,pick(options.max,min+minRange)];if(spaceAvailable){maxArgs[2]=log?log.log2lin(axis.dataMax):axis.dataMax}max=arrayMin(maxArgs);if(max-min<minRange){minArgs[0]=max-minRange;minArgs[1]=pick(options.min,max-minRange);min=arrayMax(minArgs)}}axis.min=min;axis.max=max};Axis.prototype.getClosest=function(){var ret;if(this.categories){ret=1}else{this.series.forEach(function(series){var seriesClosest=series.closestPointRange,visible=series.visible||!series.chart.options.chart.ignoreHiddenSeries;if(!series.noSharedTooltip&&defined(seriesClosest)&&visible){ret=defined(ret)?Math.min(ret,seriesClosest):seriesClosest}})}return ret};Axis.prototype.nameToX=function(point){var explicitCategories=isArray(this.categories),names=explicitCategories?this.categories:this.names;var nameX=point.options.x,x;point.series.requireSorting=false;if(!defined(nameX)){nameX=this.options.uniqueNames?explicitCategories?names.indexOf(point.name):pick(names.keys[point.name],-1):point.series.autoIncrement()}if(nameX===-1){if(!explicitCategories){x=names.length}}else{x=nameX}if(typeof x!=="undefined"){this.names[x]=point.name;this.names.keys[point.name]=x}return x};Axis.prototype.updateNames=function(){var axis=this,names=this.names,i=names.length;if(i>0){Object.keys(names.keys).forEach(function(key){delete names.keys[key]});names.length=0;this.minRange=this.userMinRange;(this.series||[]).forEach(function(series){series.xIncrement=null;if(!series.points||series.isDirtyData){axis.max=Math.max(axis.max,series.xData.length-1);series.processData();series.generatePoints()}series.data.forEach(function(point,i){var x;if(point&&point.options&&typeof point.name!=="undefined"){x=axis.nameToX(point);if(typeof x!=="undefined"&&x!==point.x){point.x=x;series.xData[i]=x}}})})}};Axis.prototype.setAxisTranslation=function(){var axis=this,range=axis.max-axis.min,linkedParent=axis.linkedParent,hasCategories=!!axis.categories,isXAxis=axis.isXAxis;var pointRange=axis.axisPointRange||0,closestPointRange,minPointOffset=0,pointRangePadding=0,ordinalCorrection,transA=axis.transA;if(isXAxis||hasCategories||pointRange){closestPointRange=axis.getClosest();if(linkedParent){minPointOffset=linkedParent.minPointOffset;pointRangePadding=linkedParent.pointRangePadding}else{axis.series.forEach(function(series){var seriesPointRange=hasCategories?1:isXAxis?pick(series.options.pointRange,closestPointRange,0):axis.axisPointRange||0,pointPlacement=series.options.pointPlacement;pointRange=Math.max(pointRange,seriesPointRange);if(!axis.single||hasCategories){var isPointPlacementAxis=series.is("xrange")?!isXAxis:isXAxis;minPointOffset=Math.max(minPointOffset,isPointPlacementAxis&&isString(pointPlacement)?0:seriesPointRange/2);pointRangePadding=Math.max(pointRangePadding,isPointPlacementAxis&&pointPlacement==="on"?0:seriesPointRange)}})}ordinalCorrection=axis.ordinal&&axis.ordinal.slope&&closestPointRange?axis.ordinal.slope/closestPointRange:1;axis.minPointOffset=minPointOffset=minPointOffset*ordinalCorrection;axis.pointRangePadding=pointRangePadding=pointRangePadding*ordinalCorrection;axis.pointRange=Math.min(pointRange,axis.single&&hasCategories?1:range);if(isXAxis){axis.closestPointRange=closestPointRange}}axis.translationSlope=axis.transA=transA=axis.staticScale||axis.len/(range+pointRangePadding||1);axis.transB=axis.horiz?axis.left:axis.bottom;axis.minPixelPadding=transA*minPointOffset;fireEvent(this,"afterSetAxisTranslation")};Axis.prototype.minFromRange=function(){var axis=this;return axis.max-axis.range};Axis.prototype.setTickInterval=function(secondPass){var axis=this,chart=axis.chart,log=axis.logarithmic,options=axis.options,isXAxis=axis.isXAxis,isLinked=axis.isLinked,tickPixelIntervalOption=options.tickPixelInterval,categories=axis.categories,softThreshold=axis.softThreshold;var maxPadding=options.maxPadding,minPadding=options.minPadding,length,linkedParentExtremes,tickIntervalOption=isNumber(options.tickInterval)&&options.tickInterval>=0?options.tickInterval:void 0,threshold=isNumber(axis.threshold)?axis.threshold:null,thresholdMin,thresholdMax,hardMin,hardMax;if(!axis.dateTime&&!categories&&!isLinked){this.getTickAmount()}hardMin=pick(axis.userMin,options.min);hardMax=pick(axis.userMax,options.max);if(isLinked){axis.linkedParent=chart[axis.coll][options.linkedTo];linkedParentExtremes=axis.linkedParent.getExtremes();axis.min=pick(linkedParentExtremes.min,linkedParentExtremes.dataMin);axis.max=pick(linkedParentExtremes.max,linkedParentExtremes.dataMax);if(options.type!==axis.linkedParent.options.type){error(11,1,chart)}}else{if(softThreshold&&defined(threshold)){if(axis.dataMin>=threshold){thresholdMin=threshold;minPadding=0}else if(axis.dataMax<=threshold){thresholdMax=threshold;maxPadding=0}}axis.min=pick(hardMin,thresholdMin,axis.dataMin);axis.max=pick(hardMax,thresholdMax,axis.dataMax)}if(log){if(axis.positiveValuesOnly&&!secondPass&&Math.min(axis.min,pick(axis.dataMin,axis.min))<=0){error(10,1,chart)}axis.min=correctFloat(log.log2lin(axis.min),16);axis.max=correctFloat(log.log2lin(axis.max),16)}if(axis.range&&defined(axis.max)){axis.userMin=axis.min=hardMin=Math.max(axis.dataMin,axis.minFromRange());axis.userMax=hardMax=axis.max;axis.range=null}fireEvent(axis,"foundExtremes");if(axis.beforePadding){axis.beforePadding()}axis.adjustForMinRange();if(!categories&&!axis.axisPointRange&&!(axis.stacking&&axis.stacking.usePercentage)&&!isLinked&&defined(axis.min)&&defined(axis.max)){length=axis.max-axis.min;if(length){if(!defined(hardMin)&&minPadding){axis.min-=length*minPadding}if(!defined(hardMax)&&maxPadding){axis.max+=length*maxPadding}}}if(!isNumber(axis.userMin)){if(isNumber(options.softMin)&&options.softMin<axis.min){axis.min=hardMin=options.softMin}if(isNumber(options.floor)){axis.min=Math.max(axis.min,options.floor)}}if(!isNumber(axis.userMax)){if(isNumber(options.softMax)&&options.softMax>axis.max){axis.max=hardMax=options.softMax}if(isNumber(options.ceiling)){axis.max=Math.min(axis.max,options.ceiling)}}if(softThreshold&&defined(axis.dataMin)){threshold=threshold||0;if(!defined(hardMin)&&axis.min<threshold&&axis.dataMin>=threshold){axis.min=axis.options.minRange?Math.min(threshold,axis.max-axis.minRange):threshold}else if(!defined(hardMax)&&axis.max>threshold&&axis.dataMax<=threshold){axis.max=axis.options.minRange?Math.max(threshold,axis.min+axis.minRange):threshold}}if(isNumber(axis.min)&&isNumber(axis.max)&&!this.chart.polar&&axis.min>axis.max){if(defined(axis.options.min)){axis.max=axis.min}else if(defined(axis.options.max)){axis.min=axis.max}}if(axis.min===axis.max||typeof axis.min==="undefined"||typeof axis.max==="undefined"){axis.tickInterval=1}else if(isLinked&&axis.linkedParent&&!tickIntervalOption&&tickPixelIntervalOption===axis.linkedParent.options.tickPixelInterval){axis.tickInterval=tickIntervalOption=axis.linkedParent.tickInterval}else{axis.tickInterval=pick(tickIntervalOption,this.tickAmount?(axis.max-axis.min)/Math.max(this.tickAmount-1,1):void 0,categories?1:((axis.max-axis.min)*tickPixelIntervalOption)/Math.max(axis.len,tickPixelIntervalOption))}if(isXAxis&&!secondPass){var hasExtemesChanged_1=axis.min!==(axis.old&&axis.old.min)||axis.max!==(axis.old&&axis.old.max);axis.series.forEach(function(series){series.forceCrop=series.forceCropping&&series.forceCropping();series.processData(hasExtemesChanged_1)});fireEvent(this,"postProcessData",{hasExtemesChanged:hasExtemesChanged_1,})}axis.setAxisTranslation();fireEvent(this,"initialAxisTranslation");if(axis.pointRange&&!tickIntervalOption){axis.tickInterval=Math.max(axis.pointRange,axis.tickInterval)}var minTickInterval=pick(options.minTickInterval,axis.dateTime&&!axis.series.some(function(s){return s.noSharedTooltip})?axis.closestPointRange:0);if(!tickIntervalOption&&axis.tickInterval<minTickInterval){axis.tickInterval=minTickInterval}if(!axis.dateTime&&!axis.logarithmic&&!tickIntervalOption){axis.tickInterval=normalizeTickInterval(axis.tickInterval,void 0,getMagnitude(axis.tickInterval),pick(options.allowDecimals,axis.tickInterval<0.5||this.tickAmount!==void 0),!!this.tickAmount)}if(!this.tickAmount){axis.tickInterval=axis.unsquish()}this.setTickPositions()};Axis.prototype.setTickPositions=function(){var axis=this,options=this.options,tickPositionsOption=options.tickPositions,minorTickIntervalOption=this.getMinorTickInterval(),hasVerticalPanning=this.hasVerticalPanning(),isColorAxis=this.coll==="colorAxis",startOnTick=(isColorAxis||!hasVerticalPanning)&&options.startOnTick,endOnTick=(isColorAxis||!hasVerticalPanning)&&options.endOnTick;var tickPositions,tickPositioner=options.tickPositioner;this.tickmarkOffset=this.categories&&options.tickmarkPlacement==="between"&&this.tickInterval===1?0.5:0;this.minorTickInterval=minorTickIntervalOption==="auto"&&this.tickInterval?this.tickInterval/5:minorTickIntervalOption;this.single=this.min===this.max&&defined(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||options.allowDecimals!==false);this.tickPositions=tickPositions=tickPositionsOption&&tickPositionsOption.slice();if(!tickPositions){if((!axis.ordinal||!axis.ordinal.positions)&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200)){tickPositions=[this.min,this.max];error(19,false,this.chart)}else if(axis.dateTime){tickPositions=axis.getTimeTicks(axis.dateTime.normalizeTimeTickInterval(this.tickInterval,options.units),this.min,this.max,options.startOfWeek,axis.ordinal&&axis.ordinal.positions,this.closestPointRange,true)}else if(axis.logarithmic){tickPositions=axis.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max)}else{tickPositions=this.getLinearTickPositions(this.tickInterval,this.min,this.max)}if(tickPositions.length>this.len){tickPositions=[tickPositions[0],tickPositions.pop()];if(tickPositions[0]===tickPositions[1]){tickPositions.length=1}}this.tickPositions=tickPositions;if(tickPositioner){tickPositioner=tickPositioner.apply(axis,[this.min,this.max]);if(tickPositioner){this.tickPositions=tickPositions=tickPositioner}}}this.paddedTicks=tickPositions.slice(0);this.trimTicks(tickPositions,startOnTick,endOnTick);if(!this.isLinked){if(this.single&&tickPositions.length<2&&!this.categories&&!this.series.some(function(s){return(s.is("heatmap")&&s.options.pointPlacement==="between")})){this.min-=0.5;this.max+=0.5}if(!tickPositionsOption&&!tickPositioner){this.adjustTickAmount()}}fireEvent(this,"afterSetTickPositions")};Axis.prototype.trimTicks=function(tickPositions,startOnTick,endOnTick){var roundedMin=tickPositions[0],roundedMax=tickPositions[tickPositions.length-1],minPointOffset=(!this.isOrdinal&&this.minPointOffset)||0;fireEvent(this,"trimTicks");if(!this.isLinked){if(startOnTick&&roundedMin!==-Infinity){this.min=roundedMin}else{while(this.min-minPointOffset>tickPositions[0]){tickPositions.shift()}}if(endOnTick){this.max=roundedMax}else{while(this.max+minPointOffset<tickPositions[tickPositions.length-1]){tickPositions.pop()}}if(tickPositions.length===0&&defined(roundedMin)&&!this.options.tickPositions){tickPositions.push((roundedMax+roundedMin)/2)}}};Axis.prototype.alignToOthers=function(){var axis=this,others={},options=axis.options;var hasOther;if(this.chart.options.chart.alignTicks!==false&&options.alignTicks&&options.startOnTick!==false&&options.endOnTick!==false&&!axis.logarithmic){this.chart[this.coll].forEach(function(axis){var otherOptions=axis.options,horiz=axis.horiz,key=[horiz?otherOptions.left:otherOptions.top,otherOptions.width,otherOptions.height,otherOptions.pane,].join(",");if(axis.series.length){if(others[key]){hasOther=true}else{others[key]=1}}})}return hasOther};Axis.prototype.getTickAmount=function(){var axis=this,options=this.options,tickPixelInterval=options.tickPixelInterval;var tickAmount=options.tickAmount;if(!defined(options.tickInterval)&&!tickAmount&&this.len<tickPixelInterval&&!this.isRadial&&!axis.logarithmic&&options.startOnTick&&options.endOnTick){tickAmount=2}if(!tickAmount&&this.alignToOthers()){tickAmount=Math.ceil(this.len/tickPixelInterval)+1}if(tickAmount<4){this.finalTickAmt=tickAmount;tickAmount=5}this.tickAmount=tickAmount};Axis.prototype.adjustTickAmount=function(){var axis=this,axisOptions=axis.options,tickInterval=axis.tickInterval,tickPositions=axis.tickPositions,tickAmount=axis.tickAmount,finalTickAmt=axis.finalTickAmt,currentTickAmount=tickPositions&&tickPositions.length,threshold=pick(axis.threshold,axis.softThreshold?0:null);var len,i;if(axis.hasData()&&isNumber(axis.min)&&isNumber(axis.max)){if(currentTickAmount<tickAmount){while(tickPositions.length<tickAmount){if(tickPositions.length%2||axis.min===threshold){tickPositions.push(correctFloat(tickPositions[tickPositions.length-1]+tickInterval))}else{tickPositions.unshift(correctFloat(tickPositions[0]-tickInterval))}}axis.transA*=(currentTickAmount-1)/(tickAmount-1);axis.min=axisOptions.startOnTick?tickPositions[0]:Math.min(axis.min,tickPositions[0]);axis.max=axisOptions.endOnTick?tickPositions[tickPositions.length-1]:Math.max(axis.max,tickPositions[tickPositions.length-1])}else if(currentTickAmount>tickAmount){axis.tickInterval*=2;axis.setTickPositions()}if(defined(finalTickAmt)){i=len=tickPositions.length;while(i--){if((finalTickAmt===3&&i%2===1)||(finalTickAmt<=2&&i>0&&i<len-1)){tickPositions.splice(i,1)}}axis.finalTickAmt=void 0}}};Axis.prototype.setScale=function(){var axis=this;var isDirtyData=false,isXAxisDirty=false;axis.series.forEach(function(series){isDirtyData=isDirtyData||series.isDirtyData||series.isDirty;isXAxisDirty=isXAxisDirty||(series.xAxis&&series.xAxis.isDirty)||false});axis.setAxisSize();var isDirtyAxisLength=axis.len!==(axis.old&&axis.old.len);if(isDirtyAxisLength||isDirtyData||isXAxisDirty||axis.isLinked||axis.forceRedraw||axis.userMin!==(axis.old&&axis.old.userMin)||axis.userMax!==(axis.old&&axis.old.userMax)||axis.alignToOthers()){if(axis.stacking){axis.stacking.resetStacks()}axis.forceRedraw=false;axis.getSeriesExtremes();axis.setTickInterval();if(!axis.isDirty){axis.isDirty=isDirtyAxisLength||axis.min!==(axis.old&&axis.old.min)||axis.max!==(axis.old&&axis.old.max)}}else if(axis.stacking){axis.stacking.cleanStacks()}if(isDirtyData&&axis.panningState){axis.panningState.isDirty=true}fireEvent(this,"afterSetScale")};Axis.prototype.setExtremes=function(newMin,newMax,redraw,animation,eventArguments){var axis=this,chart=axis.chart;redraw=pick(redraw,true);axis.series.forEach(function(serie){delete serie.kdTree});eventArguments=extend(eventArguments,{min:newMin,max:newMax,});fireEvent(axis,"setExtremes",eventArguments,function(){axis.userMin=newMin;axis.userMax=newMax;axis.eventArgs=eventArguments;if(redraw){chart.redraw(animation)}})};Axis.prototype.zoom=function(newMin,newMax){var axis=this,dataMin=this.dataMin,dataMax=this.dataMax,options=this.options,min=Math.min(dataMin,pick(options.min,dataMin)),max=Math.max(dataMax,pick(options.max,dataMax)),evt={newMin:newMin,newMax:newMax,};fireEvent(this,"zoom",evt,function(e){var newMin=e.newMin,newMax=e.newMax;if(newMin!==axis.min||newMax!==axis.max){if(!axis.allowZoomOutside){if(defined(dataMin)){if(newMin<min){newMin=min}if(newMin>max){newMin=max}}if(defined(dataMax)){if(newMax<min){newMax=min}if(newMax>max){newMax=max}}}axis.displayBtn=typeof newMin!=="undefined"||typeof newMax!=="undefined";axis.setExtremes(newMin,newMax,false,void 0,{trigger:"zoom",})}e.zoomed=true});return evt.zoomed};Axis.prototype.setAxisSize=function(){var chart=this.chart,options=this.options,offsets=options.offsets||[0,0,0,0],horiz=this.horiz,width=(this.width=Math.round(relativeLength(pick(options.width,chart.plotWidth-offsets[3]+offsets[1]),chart.plotWidth))),height=(this.height=Math.round(relativeLength(pick(options.height,chart.plotHeight-offsets[0]+offsets[2]),chart.plotHeight))),top=(this.top=Math.round(relativeLength(pick(options.top,chart.plotTop+offsets[0]),chart.plotHeight,chart.plotTop))),left=(this.left=Math.round(relativeLength(pick(options.left,chart.plotLeft+offsets[3]),chart.plotWidth,chart.plotLeft)));this.bottom=chart.chartHeight-height-top;this.right=chart.chartWidth-width-left;this.len=Math.max(horiz?width:height,0);this.pos=horiz?left:top};Axis.prototype.getExtremes=function(){var axis=this,log=axis.logarithmic;return{min:log?correctFloat(log.lin2log(axis.min)):axis.min,max:log?correctFloat(log.lin2log(axis.max)):axis.max,dataMin:axis.dataMin,dataMax:axis.dataMax,userMin:axis.userMin,userMax:axis.userMax,}};Axis.prototype.getThreshold=function(threshold){var axis=this,log=axis.logarithmic,realMin=log?log.lin2log(axis.min):axis.min,realMax=log?log.lin2log(axis.max):axis.max;if(threshold===null||threshold===-Infinity){threshold=realMin}else if(threshold===Infinity){threshold=realMax}else if(realMin>threshold){threshold=realMin}else if(realMax<threshold){threshold=realMax}return axis.translate(threshold,0,1,0,1)};Axis.prototype.autoLabelAlign=function(rotation){var angle=(pick(rotation,0)-this.side*90+720)%360,evt={align:"center"};fireEvent(this,"autoLabelAlign",evt,function(e){if(angle>15&&angle<165){e.align="right"}else if(angle>195&&angle<345){e.align="left"}});return evt.align};Axis.prototype.tickSize=function(prefix){var options=this.options,tickWidth=pick(options[prefix==="tick"?"tickWidth":"minorTickWidth"],prefix==="tick"&&this.isXAxis&&!this.categories?1:0);var tickLength=options[prefix==="tick"?"tickLength":"minorTickLength"],tickSize;if(tickWidth&&tickLength){if(options[prefix+"Position"]==="inside"){tickLength=-tickLength}tickSize=[tickLength,tickWidth]}var e={tickSize:tickSize};fireEvent(this,"afterTickSize",e);return e.tickSize};Axis.prototype.labelMetrics=function(){var index=(this.tickPositions&&this.tickPositions[0])||0;return this.chart.renderer.fontMetrics(this.options.labels.style.fontSize,this.ticks[index]&&this.ticks[index].label)};Axis.prototype.unsquish=function(){var labelOptions=this.options.labels,horiz=this.horiz,tickInterval=this.tickInterval,slotSize=this.len/(((this.categories?1:0)+this.max-this.min)/tickInterval),rotationOption=labelOptions.rotation,labelMetrics=this.labelMetrics(),range=Math.max(this.max-this.min,0),getStep=function(spaceNeeded){var step=spaceNeeded/(slotSize||1);step=step>1?Math.ceil(step):1;if(step*tickInterval>range&&spaceNeeded!==Infinity&&slotSize!==Infinity&&range){step=Math.ceil(range/tickInterval)}return correctFloat(step*tickInterval)};var newTickInterval=tickInterval,rotation,step,bestScore=Number.MAX_VALUE,autoRotation;if(horiz){if(!labelOptions.staggerLines&&!labelOptions.step){if(isNumber(rotationOption)){autoRotation=[rotationOption]}else if(slotSize<labelOptions.autoRotationLimit){autoRotation=labelOptions.autoRotation}}if(autoRotation){autoRotation.forEach(function(rot){var score;if(rot===rotationOption||(rot&&rot>=-90&&rot<=90)){step=getStep(Math.abs(labelMetrics.h/Math.sin(deg2rad*rot)));score=step+Math.abs(rot/360);if(score<bestScore){bestScore=score;rotation=rot;newTickInterval=step}}})}}else if(!labelOptions.step){newTickInterval=getStep(labelMetrics.h)}this.autoRotation=autoRotation;this.labelRotation=pick(rotation,isNumber(rotationOption)?rotationOption:0);return newTickInterval};Axis.prototype.getSlotWidth=function(tick){var chart=this.chart,horiz=this.horiz,labelOptions=this.options.labels,slotCount=Math.max(this.tickPositions.length-(this.categories?0:1),1),marginLeft=chart.margin[3];if(tick&&isNumber(tick.slotWidth)){return tick.slotWidth}if(horiz&&labelOptions.step<2){if(labelOptions.rotation){return 0}return((this.staggerLines||1)*this.len)/slotCount}if(!horiz){var cssWidth=labelOptions.style.width;if(cssWidth!==void 0){return parseInt(String(cssWidth),10)}if(marginLeft){return marginLeft-chart.spacing[3]}}return chart.chartWidth*0.33};Axis.prototype.renderUnsquish=function(){var chart=this.chart,renderer=chart.renderer,tickPositions=this.tickPositions,ticks=this.ticks,labelOptions=this.options.labels,labelStyleOptions=labelOptions.style,horiz=this.horiz,slotWidth=this.getSlotWidth(),innerWidth=Math.max(1,Math.round(slotWidth-2*labelOptions.padding)),attr={},labelMetrics=this.labelMetrics(),textOverflowOption=labelStyleOptions.textOverflow;var commonWidth,commonTextOverflow,maxLabelLength=0,label,i,pos;if(!isString(labelOptions.rotation)){attr.rotation=labelOptions.rotation||0}tickPositions.forEach(function(tickPosition){var tick=ticks[tickPosition];if(tick.movedLabel){tick.replaceMovedLabel()}if(tick&&tick.label&&tick.label.textPxLength>maxLabelLength){maxLabelLength=tick.label.textPxLength}});this.maxLabelLength=maxLabelLength;if(this.autoRotation){if(maxLabelLength>innerWidth&&maxLabelLength>labelMetrics.h){attr.rotation=this.labelRotation}else{this.labelRotation=0}}else if(slotWidth){commonWidth=innerWidth;if(!textOverflowOption){commonTextOverflow="clip";i=tickPositions.length;while(!horiz&&i--){pos=tickPositions[i];label=ticks[pos].label;if(label){if(label.styles&&label.styles.textOverflow==="ellipsis"){label.css({textOverflow:"clip"})}else if(label.textPxLength>slotWidth){label.css({width:slotWidth+"px"})}if(label.getBBox().height>this.len/tickPositions.length-(labelMetrics.h-labelMetrics.f)){label.specificTextOverflow="ellipsis"}}}}}if(attr.rotation){commonWidth=maxLabelLength>chart.chartHeight*0.5?chart.chartHeight*0.33:maxLabelLength;if(!textOverflowOption){commonTextOverflow="ellipsis"}}this.labelAlign=labelOptions.align||this.autoLabelAlign(this.labelRotation);if(this.labelAlign){attr.align=this.labelAlign}tickPositions.forEach(function(pos){var tick=ticks[pos],label=tick&&tick.label,widthOption=labelStyleOptions.width,css={};if(label){label.attr(attr);if(tick.shortenLabel){tick.shortenLabel()}else if(commonWidth&&!widthOption&&labelStyleOptions.whiteSpace!=="nowrap"&&(commonWidth<label.textPxLength||label.element.tagName==="SPAN")){css.width=commonWidth+"px";if(!textOverflowOption){css.textOverflow=label.specificTextOverflow||commonTextOverflow}label.css(css)}else if(label.styles&&label.styles.width&&!css.width&&!widthOption){label.css({width:null})}delete label.specificTextOverflow;tick.rotation=attr.rotation}},this);this.tickRotCorr=renderer.rotCorr(labelMetrics.b,this.labelRotation||0,this.side!==0)};Axis.prototype.hasData=function(){return(this.series.some(function(s){return s.hasData()})||(this.options.showEmpty&&defined(this.min)&&defined(this.max)))};Axis.prototype.addTitle=function(display){var axis=this,renderer=axis.chart.renderer,horiz=axis.horiz,opposite=axis.opposite,options=axis.options,axisTitleOptions=options.title,styledMode=axis.chart.styledMode;var textAlign;if(!axis.axisTitle){textAlign=axisTitleOptions.textAlign;if(!textAlign){textAlign=(horiz?{low:"left",middle:"center",high:"right",}:{low:opposite?"right":"left",middle:"center",high:opposite?"left":"right",})[axisTitleOptions.align]}axis.axisTitle=renderer.text(axisTitleOptions.text||"",0,0,axisTitleOptions.useHTML).attr({zIndex:7,rotation:axisTitleOptions.rotation,align:textAlign,}).addClass("highcharts-axis-title");if(!styledMode){axis.axisTitle.css(merge(axisTitleOptions.style))}axis.axisTitle.add(axis.axisGroup);axis.axisTitle.isNew=true}if(!styledMode&&!axisTitleOptions.style.width&&!axis.isRadial){axis.axisTitle.css({width:axis.len+"px",})}axis.axisTitle[display?"show":"hide"](display)};Axis.prototype.generateTick=function(pos){var axis=this,ticks=axis.ticks;if(!ticks[pos]){ticks[pos]=new Tick(axis,pos)}else{ticks[pos].addLabel()}};Axis.prototype.getOffset=function(){var _this=this;var axis=this,chart=axis.chart,horiz=axis.horiz,options=axis.options,side=axis.side,ticks=axis.ticks,tickPositions=axis.tickPositions,coll=axis.coll,axisParent=axis.axisParent,renderer=chart.renderer,invertedSide=chart.inverted&&!axis.isZAxis?[1,0,3,2][side]:side,hasData=axis.hasData(),axisTitleOptions=options.title,labelOptions=options.labels,axisOffset=chart.axisOffset,clipOffset=chart.clipOffset,directionFactor=[-1,1,1,-1][side],className=options.className;var showAxis,titleOffset=0,titleOffsetOption,titleMargin=0,labelOffset=0,labelOffsetPadded,lineHeightCorrection;axis.showAxis=showAxis=hasData||options.showEmpty;axis.staggerLines=(axis.horiz&&labelOptions.staggerLines)||void 0;if(!axis.axisGroup){var createGroup=function(name,suffix,zIndex){return renderer.g(name).attr({zIndex:zIndex}).addClass("highcharts-"+coll.toLowerCase()+suffix+" "+(_this.isRadial?"highcharts-radial-axis"+suffix+" ":"")+(className||"")).add(axisParent)};axis.gridGroup=createGroup("grid","-grid",options.gridZIndex);axis.axisGroup=createGroup("axis","",options.zIndex);axis.labelGroup=createGroup("axis-labels","-labels",labelOptions.zIndex)}if(hasData||axis.isLinked){tickPositions.forEach(function(pos){axis.generateTick(pos)});axis.renderUnsquish();axis.reserveSpaceDefault=side===0||side===2||{1:"left",3:"right"}[side]===axis.labelAlign;if(pick(labelOptions.reserveSpace,axis.labelAlign==="center"?true:null,axis.reserveSpaceDefault)){tickPositions.forEach(function(pos){labelOffset=Math.max(ticks[pos].getLabelSize(),labelOffset)})}if(axis.staggerLines){labelOffset*=axis.staggerLines}axis.labelOffset=labelOffset*(axis.opposite?-1:1)}else{objectEach(ticks,function(tick,n){tick.destroy();delete ticks[n]})}if(axisTitleOptions&&axisTitleOptions.text&&axisTitleOptions.enabled!==false){axis.addTitle(showAxis);if(showAxis&&axisTitleOptions.reserveSpace!==false){axis.titleOffset=titleOffset=axis.axisTitle.getBBox()[horiz?"height":"width"];titleOffsetOption=axisTitleOptions.offset;titleMargin=defined(titleOffsetOption)?0:pick(axisTitleOptions.margin,horiz?5:10)}}axis.renderLine();axis.offset=directionFactor*pick(options.offset,axisOffset[side]?axisOffset[side]+(options.margin||0):0);axis.tickRotCorr=axis.tickRotCorr||{x:0,y:0};if(side===0){lineHeightCorrection=-axis.labelMetrics().h}else if(side===2){lineHeightCorrection=axis.tickRotCorr.y}else{lineHeightCorrection=0}labelOffsetPadded=Math.abs(labelOffset)+titleMargin;if(labelOffset){labelOffsetPadded-=lineHeightCorrection;labelOffsetPadded+=directionFactor*(horiz?pick(labelOptions.y,axis.tickRotCorr.y+directionFactor*8):labelOptions.x)}axis.axisTitleMargin=pick(titleOffsetOption,labelOffsetPadded);if(axis.getMaxLabelDimensions){axis.maxLabelDimensions=axis.getMaxLabelDimensions(ticks,tickPositions)}if(coll!=="colorAxis"){var tickSize=this.tickSize("tick");axisOffset[side]=Math.max(axisOffset[side],(axis.axisTitleMargin||0)+titleOffset+directionFactor*axis.offset,labelOffsetPadded,tickPositions&&tickPositions.length&&tickSize?tickSize[0]+directionFactor*axis.offset:0);var clip=!axis.axisLine||options.offset?0:Math.floor(axis.axisLine.strokeWidth()/2)*2;clipOffset[invertedSide]=Math.max(clipOffset[invertedSide],clip)}fireEvent(this,"afterGetOffset")};Axis.prototype.getLinePath=function(lineWidth){var chart=this.chart,opposite=this.opposite,offset=this.offset,horiz=this.horiz,lineLeft=this.left+(opposite?this.width:0)+offset,lineTop=chart.chartHeight-this.bottom-(opposite?this.height:0)+offset;if(opposite){lineWidth*=-1}return chart.renderer.crispLine([["M",horiz?this.left:lineLeft,horiz?lineTop:this.top],["L",horiz?chart.chartWidth-this.right:lineLeft,horiz?lineTop:chart.chartHeight-this.bottom,],],lineWidth)};Axis.prototype.renderLine=function(){if(!this.axisLine){this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup);if(!this.chart.styledMode){this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7,})}}};Axis.prototype.getTitlePosition=function(){var horiz=this.horiz,axisLeft=this.left,axisTop=this.top,axisLength=this.len,axisTitleOptions=this.options.title,margin=horiz?axisLeft:axisTop,opposite=this.opposite,offset=this.offset,xOption=axisTitleOptions.x,yOption=axisTitleOptions.y,axisTitle=this.axisTitle,fontMetrics=this.chart.renderer.fontMetrics(axisTitleOptions.style.fontSize,axisTitle),textHeightOvershoot=Math.max(axisTitle.getBBox(null,0).height-fontMetrics.h-1,0),alongAxis={low:margin+(horiz?0:axisLength),middle:margin+axisLength/2,high:margin+(horiz?axisLength:0),}[axisTitleOptions.align],offAxis=(horiz?axisTop+this.height:axisLeft)+(horiz?1:-1)*(opposite?-1:1)*this.axisTitleMargin+[-textHeightOvershoot,textHeightOvershoot,fontMetrics.f,-textHeightOvershoot,][this.side],titlePosition={x:horiz?alongAxis+xOption:offAxis+(opposite?this.width:0)+offset+xOption,y:horiz?offAxis+yOption-(opposite?this.height:0)+offset:alongAxis+yOption,};fireEvent(this,"afterGetTitlePosition",{titlePosition:titlePosition,});return titlePosition};Axis.prototype.renderMinorTick=function(pos,slideIn){var axis=this;var minorTicks=axis.minorTicks;if(!minorTicks[pos]){minorTicks[pos]=new Tick(axis,pos,"minor")}if(slideIn&&minorTicks[pos].isNew){minorTicks[pos].render(null,true)}minorTicks[pos].render(null,false,1)};Axis.prototype.renderTick=function(pos,i,slideIn){var axis=this,isLinked=axis.isLinked,ticks=axis.ticks;if(!isLinked||(pos>=axis.min&&pos<=axis.max)||(axis.grid&&axis.grid.isColumn)){if(!ticks[pos]){ticks[pos]=new Tick(axis,pos)}if(slideIn&&ticks[pos].isNew){ticks[pos].render(i,true,-1)}ticks[pos].render(i)}};Axis.prototype.render=function(){var axis=this,chart=axis.chart,log=axis.logarithmic,renderer=chart.renderer,options=axis.options,isLinked=axis.isLinked,tickPositions=axis.tickPositions,axisTitle=axis.axisTitle,ticks=axis.ticks,minorTicks=axis.minorTicks,alternateBands=axis.alternateBands,stackLabelOptions=options.stackLabels,alternateGridColor=options.alternateGridColor,tickmarkOffset=axis.tickmarkOffset,axisLine=axis.axisLine,showAxis=axis.showAxis,animation=animObject(renderer.globalAnimation);var from,to;axis.labelEdge.length=0;axis.overlap=false;[ticks,minorTicks,alternateBands].forEach(function(coll){objectEach(coll,function(tick){tick.isActive=false})});if(axis.hasData()||isLinked){var slideInTicks_1=axis.chart.hasRendered&&axis.old&&isNumber(axis.old.min);if(axis.minorTickInterval&&!axis.categories){axis.getMinorTickPositions().forEach(function(pos){axis.renderMinorTick(pos,slideInTicks_1)})}if(tickPositions.length){tickPositions.forEach(function(pos,i){axis.renderTick(pos,i,slideInTicks_1)});if(tickmarkOffset&&(axis.min===0||axis.single)){if(!ticks[-1]){ticks[-1]=new Tick(axis,-1,null,true)}ticks[-1].render(-1)}}if(alternateGridColor){tickPositions.forEach(function(pos,i){to=typeof tickPositions[i+1]!=="undefined"?tickPositions[i+1]+tickmarkOffset:axis.max-tickmarkOffset;if(i%2===0&&pos<axis.max&&to<=axis.max+(chart.polar?-tickmarkOffset:tickmarkOffset)){if(!alternateBands[pos]){alternateBands[pos]=new H.PlotLineOrBand(axis)}from=pos+tickmarkOffset;alternateBands[pos].options={from:log?log.lin2log(from):from,to:log?log.lin2log(to):to,color:alternateGridColor,className:"highcharts-alternate-grid",};alternateBands[pos].render();alternateBands[pos].isActive=true}})}if(!axis._addedPlotLB){axis._addedPlotLB=true;(options.plotLines||[]).concat(options.plotBands||[]).forEach(function(plotLineOptions){axis.addPlotBandOrLine(plotLineOptions)})}}[ticks,minorTicks,alternateBands].forEach(function(coll){var forDestruction=[],delay=animation.duration,destroyInactiveItems=function(){var i=forDestruction.length;while(i--){if(coll[forDestruction[i]]&&!coll[forDestruction[i]].isActive){coll[forDestruction[i]].destroy();delete coll[forDestruction[i]]}}};objectEach(coll,function(tick,pos){if(!tick.isActive){tick.render(pos,false,0);tick.isActive=false;forDestruction.push(pos)}});syncTimeout(destroyInactiveItems,coll===alternateBands||!chart.hasRendered||!delay?0:delay)});if(axisLine){axisLine[axisLine.isPlaced?"animate":"attr"]({d:this.getLinePath(axisLine.strokeWidth()),});axisLine.isPlaced=true;axisLine[showAxis?"show":"hide"](showAxis)}if(axisTitle&&showAxis){var titleXy=axis.getTitlePosition();if(isNumber(titleXy.y)){axisTitle[axisTitle.isNew?"attr":"animate"](titleXy);axisTitle.isNew=false}else{axisTitle.attr("y",-9999);axisTitle.isNew=true}}if(stackLabelOptions&&stackLabelOptions.enabled&&axis.stacking){axis.stacking.renderStackTotals()}axis.old={len:axis.len,max:axis.max,min:axis.min,transA:axis.transA,userMax:axis.userMax,userMin:axis.userMin,};axis.isDirty=false;fireEvent(this,"afterRender")};Axis.prototype.redraw=function(){if(this.visible){this.render();this.plotLinesAndBands.forEach(function(plotLine){plotLine.render()})}this.series.forEach(function(series){series.isDirty=true})};Axis.prototype.getKeepProps=function(){return this.keepProps||Axis.keepProps};Axis.prototype.destroy=function(keepEvents){var axis=this,plotLinesAndBands=axis.plotLinesAndBands,eventOptions=this.eventOptions;fireEvent(this,"destroy",{keepEvents:keepEvents});if(!keepEvents){removeEvent(axis)}[axis.ticks,axis.minorTicks,axis.alternateBands].forEach(function(coll){destroyObjectProperties(coll)});if(plotLinesAndBands){var i=plotLinesAndBands.length;while(i--){plotLinesAndBands[i].destroy()}}["axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross","scrollbar",].forEach(function(prop){if(axis[prop]){axis[prop]=axis[prop].destroy()}});for(var plotGroup in axis.plotLinesAndBandsGroups){axis.plotLinesAndBandsGroups[plotGroup]=axis.plotLinesAndBandsGroups[plotGroup].destroy()}objectEach(axis,function(val,key){if(axis.getKeepProps().indexOf(key)===-1){delete axis[key]}});this.eventOptions=eventOptions};Axis.prototype.drawCrosshair=function(e,point){var options=this.crosshair,snap=pick(options&&options.snap,true),chart=this.chart;var path,pos,categorized,graphic=this.cross,crossOptions;fireEvent(this,"drawCrosshair",{e:e,point:point});if(!e){e=this.cross&&this.cross.e}if(!options||(defined(point)||!snap)===false){this.hideCrosshair()}else{if(!snap){pos=e&&(this.horiz?e.chartX-this.pos:this.len-e.chartY+this.pos)}else if(defined(point)){pos=pick(this.coll!=="colorAxis"?point.crosshairPos:null,this.isXAxis?point.plotX:this.len-point.plotY)}if(defined(pos)){crossOptions={value:point&&(this.isXAxis?point.x:pick(point.stackY,point.y)),translatedValue:pos,};if(chart.polar){extend(crossOptions,{isCrosshair:true,chartX:e&&e.chartX,chartY:e&&e.chartY,point:point,})}path=this.getPlotLinePath(crossOptions)||null}if(!defined(path)){this.hideCrosshair();return}categorized=this.categories&&!this.isRadial;if(!graphic){this.cross=graphic=chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(categorized?"category ":"thin ")+(options.className||"")).attr({zIndex:pick(options.zIndex,2),}).add();if(!chart.styledMode){graphic.attr({stroke:options.color||(categorized?Color.parse("#ccd6eb").setOpacity(0.25).get():"#cccccc"),"stroke-width":pick(options.width,1),}).css({"pointer-events":"none",});if(options.dashStyle){graphic.attr({dashstyle:options.dashStyle,})}}}graphic.show().attr({d:path,});if(categorized&&!options.width){graphic.attr({"stroke-width":this.transA,})}this.cross.e=e}fireEvent(this,"afterDrawCrosshair",{e:e,point:point})};Axis.prototype.hideCrosshair=function(){if(this.cross){this.cross.hide()}fireEvent(this,"afterHideCrosshair")};Axis.prototype.hasVerticalPanning=function(){var panningOptions=this.chart.options.chart.panning;return Boolean(panningOptions&&panningOptions.enabled&&/y/.test(panningOptions.type))};Axis.prototype.validatePositiveValue=function(value){return isNumber(value)&&value>0};Axis.prototype.update=function(options,redraw){var chart=this.chart;options=merge(this.userOptions,options);this.destroy(true);this.init(chart,options);chart.isDirtyBox=true;if(pick(redraw,true)){chart.redraw()}};Axis.prototype.remove=function(redraw){var chart=this.chart,key=this.coll,axisSeries=this.series;var i=axisSeries.length;while(i--){if(axisSeries[i]){axisSeries[i].remove(false)}}erase(chart.axes,this);erase(chart[key],this);chart[key].forEach(function(axis,i){axis.options.index=axis.userOptions.index=i});this.destroy();chart.isDirtyBox=true;if(pick(redraw,true)){chart.redraw()}};Axis.prototype.setTitle=function(titleOptions,redraw){this.update({title:titleOptions},redraw)};Axis.prototype.setCategories=function(categories,redraw){this.update({categories:categories},redraw)};Axis.defaultOptions=AxisDefaults.defaultXAxisOptions;Axis.keepProps=["extKey","hcEvents","names","series","userMax","userMin",];return Axis})();("");return Axis});_registerModule(_modules,"Core/Axis/DateTimeAxis.js",[_modules["Core/Utilities.js"]],function(U){var addEvent=U.addEvent,getMagnitude=U.getMagnitude,normalizeTickInterval=U.normalizeTickInterval,timeUnits=U.timeUnits;var DateTimeAxis;(function(DateTimeAxis){var composedClasses=[];function compose(AxisClass){if(composedClasses.indexOf(AxisClass)===-1){composedClasses.push(AxisClass);AxisClass.keepProps.push("dateTime");var axisProto=AxisClass.prototype;axisProto.getTimeTicks=getTimeTicks;addEvent(AxisClass,"init",onInit)}return AxisClass}DateTimeAxis.compose=compose;function getTimeTicks(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function onInit(e){var axis=this;var options=e.userOptions;if(options.type!=="datetime"){axis.dateTime=void 0;return}if(!axis.dateTime){axis.dateTime=new Additions(axis)}}var Additions=(function(){function Additions(axis){this.axis=axis}Additions.prototype.normalizeTimeTickInterval=function(tickInterval,unitsOption){var units=unitsOption||[["millisecond",[1,2,5,10,20,25,50,100,200,500],],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null],];var unit=units[units.length-1],interval=timeUnits[unit[0]],multiples=unit[1],i;for(i=0;i<units.length;i++){unit=units[i];interval=timeUnits[unit[0]];multiples=unit[1];if(units[i+1]){var lessThan=(interval*multiples[multiples.length-1]+timeUnits[units[i+1][0]])/2;if(tickInterval<=lessThan){break}}}if(interval===timeUnits.year&&tickInterval<5*interval){multiples=[1,2,5]}var count=normalizeTickInterval(tickInterval/interval,multiples,unit[0]==="year"?Math.max(getMagnitude(tickInterval/interval),1):1);return{unitRange:interval,count:count,unitName:unit[0],}};Additions.prototype.getXDateFormat=function(x,dateTimeLabelFormats){var axis=this.axis;return axis.closestPointRange?axis.chart.time.getDateFormat(axis.closestPointRange,x,axis.options.startOfWeek,dateTimeLabelFormats)||dateTimeLabelFormats.year:dateTimeLabelFormats.day};return Additions})();DateTimeAxis.Additions=Additions})(DateTimeAxis||(DateTimeAxis={}));return DateTimeAxis});_registerModule(_modules,"Core/Axis/LogarithmicAxis.js",[_modules["Core/Utilities.js"]],function(U){var addEvent=U.addEvent,getMagnitude=U.getMagnitude,normalizeTickInterval=U.normalizeTickInterval,pick=U.pick;var LogarithmicAxis;(function(LogarithmicAxis){var composedClasses=[];function compose(AxisClass){if(composedClasses.indexOf(AxisClass)===-1){composedClasses.push(AxisClass);AxisClass.keepProps.push("logarithmic");addEvent(AxisClass,"init",onInit);addEvent(AxisClass,"afterInit",onAfterInit)}return AxisClass}LogarithmicAxis.compose=compose;function onInit(e){var axis=this;var options=e.userOptions;var logarithmic=axis.logarithmic;if(options.type!=="logarithmic"){axis.logarithmic=void 0}else{if(!logarithmic){logarithmic=axis.logarithmic=new Additions(axis)}}}function onAfterInit(){var axis=this;var log=axis.logarithmic;if(log){axis.lin2val=function(num){return log.lin2log(num)};axis.val2lin=function(num){return log.log2lin(num)}}}var Additions=(function(){function Additions(axis){this.axis=axis}Additions.prototype.getLogTickPositions=function(interval,min,max,minor){var log=this;var axis=log.axis;var axisLength=axis.len;var options=axis.options;var positions=[];if(!minor){log.minorAutoInterval=void 0}if(interval>=0.5){interval=Math.round(interval);positions=axis.getLinearTickPositions(interval,min,max)}else if(interval>=0.08){var roundedMin=Math.floor(min);var intermediate=void 0,i=void 0,j=void 0,len=void 0,pos=void 0,lastPos=void 0,break2=void 0;if(interval>0.3){intermediate=[1,2,4]}else if(interval>0.15){intermediate=[1,2,4,6,8]}else{intermediate=[1,2,3,4,5,6,7,8,9]}for(i=roundedMin;i<max+1&&!break2;i++){len=intermediate.length;for(j=0;j<len&&!break2;j++){pos=log.log2lin(log.lin2log(i)*intermediate[j]);if(pos>min&&(!minor||lastPos<=max)&&typeof lastPos!=="undefined"){positions.push(lastPos)}if(lastPos>max){break2=true}lastPos=pos}}}else{var realMin=log.lin2log(min),realMax=log.lin2log(max),tickIntervalOption=minor?axis.getMinorTickInterval():options.tickInterval,filteredTickIntervalOption=tickIntervalOption==="auto"?null:tickIntervalOption,tickPixelIntervalOption=options.tickPixelInterval/(minor?5:1),totalPixelLength=minor?axisLength/axis.tickPositions.length:axisLength;interval=pick(filteredTickIntervalOption,log.minorAutoInterval,((realMax-realMin)*tickPixelIntervalOption)/(totalPixelLength||1));interval=normalizeTickInterval(interval,void 0,getMagnitude(interval));positions=axis.getLinearTickPositions(interval,realMin,realMax).map(log.log2lin);if(!minor){log.minorAutoInterval=interval/5}}if(!minor){axis.tickInterval=interval}return positions};Additions.prototype.lin2log=function(num){return Math.pow(10,num)};Additions.prototype.log2lin=function(num){return Math.log(num)/Math.LN10};return Additions})();LogarithmicAxis.Additions=Additions})(LogarithmicAxis||(LogarithmicAxis={}));return LogarithmicAxis});_registerModule(_modules,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[_modules["Core/Utilities.js"]],function(U){var erase=U.erase,extend=U.extend,isNumber=U.isNumber;var PlotLineOrBandAxis;(function(PlotLineOrBandAxis){var composedClasses=[];var PlotLineOrBandClass;function compose(PlotLineOrBandType,AxisClass){if(!PlotLineOrBandClass){PlotLineOrBandClass=PlotLineOrBandType}if(composedClasses.indexOf(AxisClass)===-1){composedClasses.push(AxisClass);extend(AxisClass.prototype,Additions.prototype)}return AxisClass}PlotLineOrBandAxis.compose=compose;var Additions=(function(){function Additions(){}Additions.prototype.getPlotBandPath=function(from,to,options){if(options===void 0){options=this.options}var toPath=this.getPlotLinePath({value:to,force:true,acrossPanes:options.acrossPanes,}),result=[],horiz=this.horiz,outside=!isNumber(this.min)||!isNumber(this.max)||(from<this.min&&to<this.min)||(from>this.max&&to>this.max);var path=this.getPlotLinePath({value:from,force:true,acrossPanes:options.acrossPanes,}),i,plus=1,isFlat;if(path&&toPath){if(outside){isFlat=path.toString()===toPath.toString();plus=0}for(i=0;i<path.length;i+=2){var pathStart=path[i],pathEnd=path[i+1],toPathStart=toPath[i],toPathEnd=toPath[i+1];if((pathStart[0]==="M"||pathStart[0]==="L")&&(pathEnd[0]==="M"||pathEnd[0]==="L")&&(toPathStart[0]==="M"||toPathStart[0]==="L")&&(toPathEnd[0]==="M"||toPathEnd[0]==="L")){if(horiz&&toPathStart[1]===pathStart[1]){toPathStart[1]+=plus;toPathEnd[1]+=plus}else if(!horiz&&toPathStart[2]===pathStart[2]){toPathStart[2]+=plus;toPathEnd[2]+=plus}result.push(["M",pathStart[1],pathStart[2]],["L",pathEnd[1],pathEnd[2]],["L",toPathEnd[1],toPathEnd[2]],["L",toPathStart[1],toPathStart[2]],["Z"])}result.isFlat=isFlat}}else{path=null}return result};Additions.prototype.addPlotBand=function(options){return this.addPlotBandOrLine(options,"plotBands")};Additions.prototype.addPlotLine=function(options){return this.addPlotBandOrLine(options,"plotLines")};Additions.prototype.addPlotBandOrLine=function(options,coll){var _this=this;var userOptions=this.userOptions;var obj=new PlotLineOrBandClass(this,options);if(this.visible){obj=obj.render()}if(obj){if(!this._addedPlotLB){this._addedPlotLB=true;(userOptions.plotLines||[]).concat(userOptions.plotBands||[]).forEach(function(plotLineOptions){_this.addPlotBandOrLine(plotLineOptions)})}if(coll){var updatedOptions=userOptions[coll]||[];updatedOptions.push(options);userOptions[coll]=updatedOptions}this.plotLinesAndBands.push(obj)}return obj};Additions.prototype.removePlotBandOrLine=function(id){var plotLinesAndBands=this.plotLinesAndBands,options=this.options,userOptions=this.userOptions;if(plotLinesAndBands){var i_1=plotLinesAndBands.length;while(i_1--){if(plotLinesAndBands[i_1].id===id){plotLinesAndBands[i_1].destroy()}}[options.plotLines||[],userOptions.plotLines||[],options.plotBands||[],userOptions.plotBands||[],].forEach(function(arr){i_1=arr.length;while(i_1--){if((arr[i_1]||{}).id===id){erase(arr,arr[i_1])}}})}};Additions.prototype.removePlotBand=function(id){this.removePlotBandOrLine(id)};Additions.prototype.removePlotLine=function(id){this.removePlotBandOrLine(id)};return Additions})()})(PlotLineOrBandAxis||(PlotLineOrBandAxis={}));return PlotLineOrBandAxis});_registerModule(_modules,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[_modules["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],_modules["Core/Utilities.js"],],function(PlotLineOrBandAxis,U){var arrayMax=U.arrayMax,arrayMin=U.arrayMin,defined=U.defined,destroyObjectProperties=U.destroyObjectProperties,erase=U.erase,fireEvent=U.fireEvent,merge=U.merge,objectEach=U.objectEach,pick=U.pick;var PlotLineOrBand=(function(){function PlotLineOrBand(axis,options){this.axis=axis;if(options){this.options=options;this.id=options.id}}PlotLineOrBand.compose=function(AxisClass){return PlotLineOrBandAxis.compose(PlotLineOrBand,AxisClass)};PlotLineOrBand.prototype.render=function(){fireEvent(this,"render");var plotLine=this,axis=plotLine.axis,horiz=axis.horiz,log=axis.logarithmic,options=plotLine.options,color=options.color,zIndex=pick(options.zIndex,0),events=options.events,groupAttribs={},renderer=axis.chart.renderer;var optionsLabel=options.label,label=plotLine.label,to=options.to,from=options.from,value=options.value,svgElem=plotLine.svgElem,path=[],group;var isBand=defined(from)&&defined(to),isLine=defined(value),isNew=!svgElem,attribs={class:"highcharts-plot-"+(isBand?"band ":"line ")+(options.className||""),};var groupName=isBand?"bands":"lines";if(log){from=log.log2lin(from);to=log.log2lin(to);value=log.log2lin(value)}if(!axis.chart.styledMode){if(isLine){attribs.stroke=color||"#999999";attribs["stroke-width"]=pick(options.width,1);if(options.dashStyle){attribs.dashstyle=options.dashStyle}}else if(isBand){attribs.fill=color||"#e6ebf5";if(options.borderWidth){attribs.stroke=options.borderColor;attribs["stroke-width"]=options.borderWidth}}}groupAttribs.zIndex=zIndex;groupName+="-"+zIndex;group=axis.plotLinesAndBandsGroups[groupName];if(!group){axis.plotLinesAndBandsGroups[groupName]=group=renderer.g("plot-"+groupName).attr(groupAttribs).add()}if(isNew){plotLine.svgElem=svgElem=renderer.path().attr(attribs).add(group)}if(isLine){path=axis.getPlotLinePath({value:value,lineWidth:svgElem.strokeWidth(),acrossPanes:options.acrossPanes,})}else if(isBand){path=axis.getPlotBandPath(from,to,options)}else{return}if(!plotLine.eventsAdded&&events){objectEach(events,function(event,eventType){svgElem.on(eventType,function(e){events[eventType].apply(plotLine,[e])})});plotLine.eventsAdded=true}if((isNew||!svgElem.d)&&path&&path.length){svgElem.attr({d:path})}else if(svgElem){if(path){svgElem.show(true);svgElem.animate({d:path})}else if(svgElem.d){svgElem.hide();if(label){plotLine.label=label=label.destroy()}}}if(optionsLabel&&(defined(optionsLabel.text)||defined(optionsLabel.formatter))&&path&&path.length&&axis.width>0&&axis.height>0&&!path.isFlat){optionsLabel=merge({align:horiz&&isBand&&"center",x:horiz?!isBand&&4:10,verticalAlign:!horiz&&isBand&&"middle",y:horiz?(isBand?16:10):isBand?6:-4,rotation:horiz&&!isBand&&90,},optionsLabel);this.renderLabel(optionsLabel,path,isBand,zIndex)}else if(label){label.hide()}return plotLine};PlotLineOrBand.prototype.renderLabel=function(optionsLabel,path,isBand,zIndex){var plotLine=this,axis=plotLine.axis,renderer=axis.chart.renderer;var label=plotLine.label;if(!label){plotLine.label=label=renderer.text(this.getLabelText(optionsLabel),0,0,optionsLabel.useHTML).attr({align:optionsLabel.textAlign||optionsLabel.align,rotation:optionsLabel.rotation,class:"highcharts-plot-"+(isBand?"band":"line")+"-label "+(optionsLabel.className||""),zIndex:zIndex,}).add();if(!axis.chart.styledMode){label.css(merge({textOverflow:"ellipsis",},optionsLabel.style))}}var xBounds=path.xBounds||[path[0][1],path[1][1],isBand?path[2][1]:path[0][1],];var yBounds=path.yBounds||[path[0][2],path[1][2],isBand?path[2][2]:path[0][2],];var x=arrayMin(xBounds);var y=arrayMin(yBounds);label.align(optionsLabel,false,{x:x,y:y,width:arrayMax(xBounds)-x,height:arrayMax(yBounds)-y,});if(!label.alignValue||label.alignValue==="left"){label.css({width:(label.rotation===90?axis.height-(label.alignAttr.y-axis.top):axis.width-(label.alignAttr.x-axis.left))+"px",})}label.show(true)};PlotLineOrBand.prototype.getLabelText=function(optionsLabel){return defined(optionsLabel.formatter)?optionsLabel.formatter.call(this):optionsLabel.text};PlotLineOrBand.prototype.destroy=function(){erase(this.axis.plotLinesAndBands,this);delete this.axis;destroyObjectProperties(this)};return PlotLineOrBand})();("");("");return PlotLineOrBand});_registerModule(_modules,"Core/Tooltip.js",[_modules["Core/FormatUtilities.js"],_modules["Core/Globals.js"],_modules["Core/Renderer/RendererUtilities.js"],_modules["Core/Renderer/RendererRegistry.js"],_modules["Core/Utilities.js"],],function(F,H,R,RendererRegistry,U){var format=F.format;var doc=H.doc;var distribute=R.distribute;var addEvent=U.addEvent,clamp=U.clamp,css=U.css,defined=U.defined,discardElement=U.discardElement,extend=U.extend,fireEvent=U.fireEvent,isArray=U.isArray,isNumber=U.isNumber,isString=U.isString,merge=U.merge,pick=U.pick,splat=U.splat,syncTimeout=U.syncTimeout;var Tooltip=(function(){function Tooltip(chart,options){this.allowShared=true;this.container=void 0;this.crosshairs=[];this.distance=0;this.isHidden=true;this.isSticky=false;this.now={};this.options={};this.outside=false;this.chart=chart;this.init(chart,options)}Tooltip.prototype.applyFilter=function(){var chart=this.chart;chart.renderer.definition({tagName:"filter",attributes:{id:"drop-shadow-"+chart.index,opacity:0.5,},children:[{tagName:"feGaussianBlur",attributes:{in:"SourceAlpha",stdDeviation:1,},},{tagName:"feOffset",attributes:{dx:1,dy:1,},},{tagName:"feComponentTransfer",children:[{tagName:"feFuncA",attributes:{type:"linear",slope:0.3,},},],},{tagName:"feMerge",children:[{tagName:"feMergeNode",},{tagName:"feMergeNode",attributes:{in:"SourceGraphic",},},],},],})};Tooltip.prototype.bodyFormatter=function(items){return items.map(function(item){var tooltipOptions=item.series.tooltipOptions;return(tooltipOptions[(item.point.formatPrefix||"point")+"Formatter"]||item.point.tooltipFormatter).call(item.point,tooltipOptions[(item.point.formatPrefix||"point")+"Format"]||"")})};Tooltip.prototype.cleanSplit=function(force){this.chart.series.forEach(function(series){var tt=series&&series.tt;if(tt){if(!tt.isActive||force){series.tt=tt.destroy()}else{tt.isActive=false}}})};Tooltip.prototype.defaultFormatter=function(tooltip){var items=this.points||splat(this);var s;s=[tooltip.tooltipFooterHeaderFormatter(items[0])];s=s.concat(tooltip.bodyFormatter(items));s.push(tooltip.tooltipFooterHeaderFormatter(items[0],true));return s};Tooltip.prototype.destroy=function(){if(this.label){this.label=this.label.destroy()}if(this.split&&this.tt){this.cleanSplit(true);this.tt=this.tt.destroy()}if(this.renderer){this.renderer=this.renderer.destroy();discardElement(this.container)}U.clearTimeout(this.hideTimer);U.clearTimeout(this.tooltipTimeout)};Tooltip.prototype.getAnchor=function(points,mouseEvent){var chart=this.chart,pointer=chart.pointer,inverted=chart.inverted,plotTop=chart.plotTop,plotLeft=chart.plotLeft;var ret,yAxis,xAxis,plotX=0,plotY=0;points=splat(points);if(this.followPointer&&mouseEvent){if(typeof mouseEvent.chartX==="undefined"){mouseEvent=pointer.normalize(mouseEvent)}ret=[mouseEvent.chartX-plotLeft,mouseEvent.chartY-plotTop]}else if(points[0].tooltipPos){ret=points[0].tooltipPos}else{points.forEach(function(point){yAxis=point.series.yAxis;xAxis=point.series.xAxis;plotX+=point.plotX||0;plotY+=point.plotLow?(point.plotLow+(point.plotHigh||0))/2:point.plotY||0;if(xAxis&&yAxis){if(!inverted){plotX+=xAxis.pos-plotLeft;plotY+=yAxis.pos-plotTop}else{plotX+=plotTop+chart.plotHeight-xAxis.len-xAxis.pos;plotY+=plotLeft+chart.plotWidth-yAxis.len-yAxis.pos}}});plotX/=points.length;plotY/=points.length;ret=[inverted?chart.plotWidth-plotY:plotX,inverted?chart.plotHeight-plotX:plotY,];if(this.shared&&points.length>1&&mouseEvent){if(inverted){ret[0]=mouseEvent.chartX-plotLeft}else{ret[1]=mouseEvent.chartY-plotTop}}}return ret.map(Math.round)};Tooltip.prototype.getLabel=function(){var tooltip=this,styledMode=this.chart.styledMode,options=this.options,doSplit=this.split&&this.allowShared,className="tooltip"+(defined(options.className)?" "+options.className:""),pointerEvents=options.style.pointerEvents||(!this.followPointer&&options.stickOnContact?"auto":"none"),onMouseEnter=function(){tooltip.inContact=true},onMouseLeave=function(e){var series=tooltip.chart.hoverSeries;tooltip.inContact=tooltip.shouldStickOnContact()&&tooltip.chart.pointer.inClass(e.relatedTarget,"highcharts-tooltip");if(!tooltip.inContact&&series&&series.onMouseOut){series.onMouseOut()}};var container,renderer=this.chart.renderer;if(tooltip.label){var wasSplit=!tooltip.label.hasClass("highcharts-label");if((doSplit&&!wasSplit)||(!doSplit&&wasSplit)){tooltip.destroy()}}if(!this.label){if(this.outside){var chartStyle=this.chart.options.chart.style,Renderer=RendererRegistry.getRendererType();this.container=container=H.doc.createElement("div");container.className="highcharts-tooltip-container";css(container,{position:"absolute",top:"1px",pointerEvents:pointerEvents,zIndex:Math.max(this.options.style.zIndex||0,((chartStyle&&chartStyle.zIndex)||0)+3),});addEvent(container,"mouseenter",onMouseEnter);addEvent(container,"mouseleave",onMouseLeave);H.doc.body.appendChild(container);this.renderer=renderer=new Renderer(container,0,0,chartStyle,void 0,void 0,renderer.styledMode)}if(doSplit){this.label=renderer.g(className)}else{this.label=renderer.label("",0,0,options.shape,void 0,void 0,options.useHTML,void 0,className).attr({padding:options.padding,r:options.borderRadius,});if(!styledMode){this.label.attr({fill:options.backgroundColor,"stroke-width":options.borderWidth,}).css(options.style).css({pointerEvents:pointerEvents}).shadow(options.shadow)}}if(styledMode&&options.shadow){this.applyFilter();this.label.attr({filter:"url(#drop-shadow-"+this.chart.index+")",})}if(tooltip.outside&&!tooltip.split){var label_1=this.label;var xSetter_1=label_1.xSetter,ySetter_1=label_1.ySetter;label_1.xSetter=function(value){xSetter_1.call(label_1,tooltip.distance);container.style.left=value+"px"};label_1.ySetter=function(value){ySetter_1.call(label_1,tooltip.distance);container.style.top=value+"px"}}this.label.on("mouseenter",onMouseEnter).on("mouseleave",onMouseLeave).attr({zIndex:8}).add()}return this.label};Tooltip.prototype.getPosition=function(boxWidth,boxHeight,point){var chart=this.chart,distance=this.distance,ret={},h=(chart.inverted&&point.h)||0,outside=this.outside,outerWidth=outside?doc.documentElement.clientWidth-2*distance:chart.chartWidth,outerHeight=outside?Math.max(doc.body.scrollHeight,doc.documentElement.scrollHeight,doc.body.offsetHeight,doc.documentElement.offsetHeight,doc.documentElement.clientHeight):chart.chartHeight,chartPosition=chart.pointer.getChartPosition(),scaleX=function(val){return(val*chartPosition.scaleX)},scaleY=function(val){return(val*chartPosition.scaleY)},buildDimensionArray=function(dim){var isX=dim==="x";return[dim,isX?outerWidth:outerHeight,isX?boxWidth:boxHeight,].concat(outside?[isX?scaleX(boxWidth):scaleY(boxHeight),isX?chartPosition.left-distance+scaleX(point.plotX+chart.plotLeft):chartPosition.top-distance+scaleY(point.plotY+chart.plotTop),0,isX?outerWidth:outerHeight,]:[isX?boxWidth:boxHeight,isX?point.plotX+chart.plotLeft:point.plotY+chart.plotTop,isX?chart.plotLeft:chart.plotTop,isX?chart.plotLeft+chart.plotWidth:chart.plotTop+chart.plotHeight,])};var first=buildDimensionArray("y"),second=buildDimensionArray("x"),swapped;var flipped=!!point.negative;if(!chart.polar&&chart.hoverSeries&&chart.hoverSeries.yAxis&&chart.hoverSeries.yAxis.reversed){flipped=!flipped}var preferFarSide=!this.followPointer&&pick(point.ttBelow,!chart.inverted===flipped),firstDimension=function(dim,outerSize,innerSize,scaledInnerSize,point,min,max){var scaledDist=outside?dim==="y"?scaleY(distance):scaleX(distance):distance,scaleDiff=(innerSize-scaledInnerSize)/2,roomLeft=scaledInnerSize<point-distance,roomRight=point+distance+scaledInnerSize<outerSize,alignedLeft=point-scaledDist-innerSize+scaleDiff,alignedRight=point+scaledDist-scaleDiff;if(preferFarSide&&roomRight){ret[dim]=alignedRight}else if(!preferFarSide&&roomLeft){ret[dim]=alignedLeft}else if(roomLeft){ret[dim]=Math.min(max-scaledInnerSize,alignedLeft-h<0?alignedLeft:alignedLeft-h)}else if(roomRight){ret[dim]=Math.max(min,alignedRight+h+innerSize>outerSize?alignedRight:alignedRight+h)}else{return false}},secondDimension=function(dim,outerSize,innerSize,scaledInnerSize,point){var retVal;if(point<distance||point>outerSize-distance){retVal=false}else if(point<innerSize/2){ret[dim]=1}else if(point>outerSize-scaledInnerSize/2){ret[dim]=outerSize-scaledInnerSize-2}else{ret[dim]=point-innerSize/2}return retVal},swap=function(count){var temp=first;first=second;second=temp;swapped=count},run=function(){if(firstDimension.apply(0,first)!==false){if(secondDimension.apply(0,second)===false&&!swapped){swap(true);run()}}else if(!swapped){swap(true);run()}else{ret.x=ret.y=0}};if(chart.inverted||this.len>1){swap()}run();return ret};Tooltip.prototype.hide=function(delay){var tooltip=this;U.clearTimeout(this.hideTimer);delay=pick(delay,this.options.hideDelay);if(!this.isHidden){this.hideTimer=syncTimeout(function(){tooltip.getLabel().fadeOut(delay?void 0:delay);tooltip.isHidden=true},delay)}};Tooltip.prototype.init=function(chart,options){this.chart=chart;this.options=options;this.crosshairs=[];this.now={x:0,y:0};this.isHidden=true;this.split=options.split&&!chart.inverted&&!chart.polar;this.shared=options.shared||this.split;this.outside=pick(options.outside,Boolean(chart.scrollablePixelsX||chart.scrollablePixelsY))};Tooltip.prototype.shouldStickOnContact=function(){return!!(!this.followPointer&&this.options.stickOnContact)};Tooltip.prototype.isStickyOnContact=function(){return!!(this.shouldStickOnContact()&&this.inContact)};Tooltip.prototype.move=function(x,y,anchorX,anchorY){var tooltip=this,now=tooltip.now,animate=tooltip.options.animation!==false&&!tooltip.isHidden&&(Math.abs(x-now.x)>1||Math.abs(y-now.y)>1),skipAnchor=tooltip.followPointer||tooltip.len>1;extend(now,{x:animate?(2*now.x+x)/3:x,y:animate?(now.y+y)/2:y,anchorX:skipAnchor?void 0:animate?(2*now.anchorX+anchorX)/3:anchorX,anchorY:skipAnchor?void 0:animate?(now.anchorY+anchorY)/2:anchorY,});tooltip.getLabel().attr(now);tooltip.drawTracker();if(animate){U.clearTimeout(this.tooltipTimeout);this.tooltipTimeout=setTimeout(function(){if(tooltip){tooltip.move(x,y,anchorX,anchorY)}},32)}};Tooltip.prototype.refresh=function(pointOrPoints,mouseEvent){var tooltip=this,chart=this.chart,options=tooltip.options,points=splat(pointOrPoints),point=points[0],pointConfig=[],formatter=options.formatter||tooltip.defaultFormatter,shared=tooltip.shared,styledMode=chart.styledMode;var textConfig={};if(!options.enabled){return}U.clearTimeout(this.hideTimer);tooltip.allowShared=!(!isArray(pointOrPoints)&&pointOrPoints.series&&pointOrPoints.series.noSharedTooltip);tooltip.followPointer=!tooltip.split&&point.series.tooltipOptions.followPointer;var anchor=tooltip.getAnchor(pointOrPoints,mouseEvent),x=anchor[0],y=anchor[1];if(shared&&tooltip.allowShared){chart.pointer.applyInactiveState(points);points.forEach(function(item){item.setState("hover");pointConfig.push(item.getLabelConfig())});textConfig={x:point.category,y:point.y,};textConfig.points=pointConfig}else{textConfig=point.getLabelConfig()}this.len=pointConfig.length;var text=formatter.call(textConfig,tooltip);var currentSeries=point.series;this.distance=pick(currentSeries.tooltipOptions.distance,16);if(text===false){this.hide()}else{if(tooltip.split&&tooltip.allowShared){this.renderSplit(text,points)}else{var checkX_1=x;var checkY_1=y;if(mouseEvent&&chart.pointer.isDirectTouch){checkX_1=mouseEvent.chartX-chart.plotLeft;checkY_1=mouseEvent.chartY-chart.plotTop}if(chart.polar||currentSeries.options.clip===false||points.some(function(p){return p.series.shouldShowTooltip(checkX_1,checkY_1)})){var label=tooltip.getLabel();if(!options.style.width||styledMode){label.css({width:this.chart.spacingBox.width+"px",})}label.attr({text:text&&text.join?text.join(""):text,});label.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+pick(point.colorIndex,currentSeries.colorIndex));if(!styledMode){label.attr({stroke:options.borderColor||point.color||currentSeries.color||"#666666",})}tooltip.updatePosition({plotX:x,plotY:y,negative:point.negative,ttBelow:point.ttBelow,h:anchor[2]||0,})}else{tooltip.hide();return}}if(tooltip.isHidden&&tooltip.label){tooltip.label.attr({opacity:1,}).show()}tooltip.isHidden=false}fireEvent(this,"refresh")};Tooltip.prototype.renderSplit=function(labels,points){var tooltip=this;var chart=tooltip.chart,_a=tooltip.chart,chartWidth=_a.chartWidth,chartHeight=_a.chartHeight,plotHeight=_a.plotHeight,plotLeft=_a.plotLeft,plotTop=_a.plotTop,pointer=_a.pointer,_b=_a.scrollablePixelsY,scrollablePixelsY=_b===void 0?0:_b,scrollablePixelsX=_a.scrollablePixelsX,_c=_a.scrollingContainer,_d=_c===void 0?{scrollLeft:0,scrollTop:0}:_c,scrollLeft=_d.scrollLeft,scrollTop=_d.scrollTop,styledMode=_a.styledMode,distance=tooltip.distance,options=tooltip.options,positioner=tooltip.options.positioner;var bounds=tooltip.outside&&typeof scrollablePixelsX!=="number"?doc.documentElement.getBoundingClientRect():{left:scrollLeft,right:scrollLeft+chartWidth,top:scrollTop,bottom:scrollTop+chartHeight,};var tooltipLabel=tooltip.getLabel();var ren=this.renderer||chart.renderer;var headerTop=Boolean(chart.xAxis[0]&&chart.xAxis[0].opposite);var _e=pointer.getChartPosition(),chartLeft=_e.left,chartTop=_e.top;var distributionBoxTop=plotTop+scrollTop;var headerHeight=0;var adjustedPlotHeight=plotHeight-scrollablePixelsY;function getAnchor(point){var isHeader=point.isHeader,_a=point.plotX,plotX=_a===void 0?0:_a,_b=point.plotY,plotY=_b===void 0?0:_b,series=point.series;var anchorX;var anchorY;if(isHeader){anchorX=plotLeft+plotX;anchorY=plotTop+plotHeight/2}else{var xAxis=series.xAxis,yAxis=series.yAxis;anchorX=xAxis.pos+clamp(plotX,-distance,xAxis.len+distance);if(series.shouldShowTooltip(0,yAxis.pos-plotTop+plotY,{ignoreX:true,})){anchorY=yAxis.pos+plotY}}anchorX=clamp(anchorX,bounds.left-distance,bounds.right+distance);return{anchorX:anchorX,anchorY:anchorY}}function defaultPositioner(anchorX,anchorY,isHeader,boxWidth,alignedLeft){if(alignedLeft===void 0){alignedLeft=true}var y;var x;if(isHeader){y=headerTop?0:adjustedPlotHeight;x=clamp(anchorX-boxWidth/2,bounds.left,bounds.right-boxWidth-(tooltip.outside?chartLeft:0))}else{y=anchorY-distributionBoxTop;x=alignedLeft?anchorX-boxWidth-distance:anchorX+distance;x=clamp(x,alignedLeft?x:bounds.left,bounds.right)}return{x:x,y:y}}function updatePartialTooltip(partialTooltip,point,str){var tt=partialTooltip;var isHeader=point.isHeader,series=point.series;var colorClass="highcharts-color-"+pick(point.colorIndex,series.colorIndex,"none");if(!tt){var attribs={padding:options.padding,r:options.borderRadius,};if(!styledMode){attribs.fill=options.backgroundColor;attribs["stroke-width"]=options.borderWidth}tt=ren.label("",0,0,options[isHeader?"headerShape":"shape"],void 0,void 0,options.useHTML).addClass((isHeader?"highcharts-tooltip-header ":"")+"highcharts-tooltip-box "+colorClass).attr(attribs).add(tooltipLabel)}tt.isActive=true;tt.attr({text:str,});if(!styledMode){tt.css(options.style).shadow(options.shadow).attr({stroke:options.borderColor||point.color||series.color||"#333333",})}return tt}if(isString(labels)){labels=[false,labels]}var boxes=labels.slice(0,points.length+1).reduce(function(boxes,str,i){if(str!==false&&str!==""){var point=points[i-1]||{isHeader:true,plotX:points[0].plotX,plotY:plotHeight,series:{},};var isHeader=point.isHeader;var owner=isHeader?tooltip:point.series;var tt=(owner.tt=updatePartialTooltip(owner.tt,point,str.toString()));var bBox=tt.getBBox();var boxWidth=bBox.width+tt.strokeWidth();if(isHeader){headerHeight=bBox.height;adjustedPlotHeight+=headerHeight;if(headerTop){distributionBoxTop-=headerHeight}}var _a=getAnchor(point),anchorX=_a.anchorX,anchorY=_a.anchorY;if(typeof anchorY==="number"){var size=bBox.height+1;var boxPosition=positioner?positioner.call(tooltip,boxWidth,size,point):defaultPositioner(anchorX,anchorY,isHeader,boxWidth);boxes.push({align:positioner?0:void 0,anchorX:anchorX,anchorY:anchorY,boxWidth:boxWidth,point:point,rank:pick(boxPosition.rank,isHeader?1:0),size:size,target:boxPosition.y,tt:tt,x:boxPosition.x,})}else{tt.isActive=false}}return boxes},[]);if(!positioner&&boxes.some(function(box){var outside=tooltip.outside;var boxStart=(outside?chartLeft:0)+box.anchorX;if(boxStart<bounds.left&&boxStart+box.boxWidth<bounds.right){return true}return(boxStart<chartLeft-bounds.left+box.boxWidth&&bounds.right-boxStart>boxStart)})){boxes=boxes.map(function(box){var _a=defaultPositioner(box.anchorX,box.anchorY,box.point.isHeader,box.boxWidth,false),x=_a.x,y=_a.y;return extend(box,{target:y,x:x,})})}tooltip.cleanSplit();distribute(boxes,adjustedPlotHeight);var boxExtremes={left:chartLeft,right:chartLeft,};boxes.forEach(function(box){var x=box.x,boxWidth=box.boxWidth,isHeader=box.isHeader;if(!isHeader){if(tooltip.outside&&chartLeft+x<boxExtremes.left){boxExtremes.left=chartLeft+x}if(!isHeader&&tooltip.outside&&boxExtremes.left+boxWidth>boxExtremes.right){boxExtremes.right=chartLeft+x}}});boxes.forEach(function(box){var x=box.x,anchorX=box.anchorX,anchorY=box.anchorY,pos=box.pos,isHeader=box.point.isHeader;var attributes={visibility:typeof pos==="undefined"?"hidden":"inherit",x:x,y:pos+distributionBoxTop,anchorX:anchorX,anchorY:anchorY,};if(tooltip.outside&&x<anchorX){var offset=chartLeft-boxExtremes.left;if(offset>0){if(!isHeader){attributes.x=x+offset;attributes.anchorX=anchorX+offset}if(isHeader){attributes.x=(boxExtremes.right-boxExtremes.left)/2;attributes.anchorX=anchorX+offset}}}box.tt.attr(attributes)});var container=tooltip.container,outside=tooltip.outside,renderer=tooltip.renderer;if(outside&&container&&renderer){var _f=tooltipLabel.getBBox(),width=_f.width,height=_f.height,x=_f.x,y=_f.y;renderer.setSize(width+x,height+y,false);container.style.left=boxExtremes.left+"px";container.style.top=chartTop+"px"}};Tooltip.prototype.drawTracker=function(){var tooltip=this;if(tooltip.followPointer||!tooltip.options.stickOnContact){if(tooltip.tracker){tooltip.tracker.destroy()}return}var chart=tooltip.chart;var label=tooltip.label;var points=tooltip.shared?chart.hoverPoints:chart.hoverPoint;if(!label||!points){return}var box={x:0,y:0,width:0,height:0,};var anchorPos=this.getAnchor(points);var labelBBox=label.getBBox();anchorPos[0]+=chart.plotLeft-label.translateX;anchorPos[1]+=chart.plotTop-label.translateY;box.x=Math.min(0,anchorPos[0]);box.y=Math.min(0,anchorPos[1]);box.width=anchorPos[0]<0?Math.max(Math.abs(anchorPos[0]),labelBBox.width-anchorPos[0]):Math.max(Math.abs(anchorPos[0]),labelBBox.width);box.height=anchorPos[1]<0?Math.max(Math.abs(anchorPos[1]),labelBBox.height-Math.abs(anchorPos[1])):Math.max(Math.abs(anchorPos[1]),labelBBox.height);if(tooltip.tracker){tooltip.tracker.attr(box)}else{tooltip.tracker=label.renderer.rect(box).addClass("highcharts-tracker").add(label);if(!chart.styledMode){tooltip.tracker.attr({fill:"rgba(0,0,0,0)",})}}};Tooltip.prototype.styledModeFormat=function(formatString){return formatString.replace('style="font-size: 10px"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex}"')};Tooltip.prototype.tooltipFooterHeaderFormatter=function(labelConfig,isFooter){var series=labelConfig.series,tooltipOptions=series.tooltipOptions,xAxis=series.xAxis,dateTime=xAxis&&xAxis.dateTime,e={isFooter:isFooter,labelConfig:labelConfig,};var xDateFormat=tooltipOptions.xDateFormat,formatString=tooltipOptions[isFooter?"footerFormat":"headerFormat"];fireEvent(this,"headerFormatter",e,function(e){if(dateTime&&!xDateFormat&&isNumber(labelConfig.key)){xDateFormat=dateTime.getXDateFormat(labelConfig.key,tooltipOptions.dateTimeLabelFormats)}if(dateTime&&xDateFormat){((labelConfig.point&&labelConfig.point.tooltipDateKeys)||["key",]).forEach(function(key){formatString=formatString.replace("{point."+key+"}","{point."+key+":"+xDateFormat+"}")})}if(series.chart.styledMode){formatString=this.styledModeFormat(formatString)}e.text=format(formatString,{point:labelConfig,series:series,},this.chart)});return e.text};Tooltip.prototype.update=function(options){this.destroy();merge(true,this.chart.options.tooltip.userOptions,options);this.init(this.chart,merge(true,this.options,options))};Tooltip.prototype.updatePosition=function(point){var chart=this.chart,options=this.options,pointer=chart.pointer,label=this.getLabel(),chartPosition=pointer.getChartPosition(),pos=(options.positioner||this.getPosition).call(this,label.width,label.height,point);var anchorX=point.plotX+chart.plotLeft,anchorY=point.plotY+chart.plotTop,pad;if(this.outside){pad=options.borderWidth+2*this.distance;this.renderer.setSize(label.width+pad,label.height+pad,false);if(chartPosition.scaleX!==1||chartPosition.scaleY!==1){css(this.container,{transform:"scale("+chartPosition.scaleX+", "+chartPosition.scaleY+")",});anchorX*=chartPosition.scaleX;anchorY*=chartPosition.scaleY}anchorX+=chartPosition.left-pos.x;anchorY+=chartPosition.top-pos.y}this.move(Math.round(pos.x),Math.round(pos.y||0),anchorX,anchorY)};return Tooltip})();("");return Tooltip});_registerModule(_modules,"Core/Series/Point.js",[_modules["Core/Renderer/HTML/AST.js"],_modules["Core/Animation/AnimationUtilities.js"],_modules["Core/DefaultOptions.js"],_modules["Core/FormatUtilities.js"],_modules["Core/Utilities.js"],],function(AST,A,D,F,U){var animObject=A.animObject;var defaultOptions=D.defaultOptions;var format=F.format;var addEvent=U.addEvent,defined=U.defined,erase=U.erase,extend=U.extend,fireEvent=U.fireEvent,getNestedProperty=U.getNestedProperty,isArray=U.isArray,isFunction=U.isFunction,isNumber=U.isNumber,isObject=U.isObject,merge=U.merge,objectEach=U.objectEach,pick=U.pick,syncTimeout=U.syncTimeout,removeEvent=U.removeEvent,uniqueKey=U.uniqueKey;var Point=(function(){function Point(){this.category=void 0;this.colorIndex=void 0;this.formatPrefix="point";this.id=void 0;this.isNull=false;this.name=void 0;this.options=void 0;this.percentage=void 0;this.selected=false;this.series=void 0;this.total=void 0;this.visible=true;this.x=void 0}Point.prototype.animateBeforeDestroy=function(){var point=this,animateParams={x:point.startXPos,opacity:0},graphicalProps=point.getGraphicalProps();graphicalProps.singular.forEach(function(prop){var isDataLabel=prop==="dataLabel";point[prop]=point[prop].animate(isDataLabel?{x:point[prop].startXPos,y:point[prop].startYPos,opacity:0,}:animateParams)});graphicalProps.plural.forEach(function(plural){point[plural].forEach(function(item){if(item.element){item.animate(extend({x:point.startXPos},item.startYPos?{x:item.startXPos,y:item.startYPos,}:{}))}})})};Point.prototype.applyOptions=function(options,x){var point=this,series=point.series,pointValKey=series.options.pointValKey||series.pointValKey;options=Point.prototype.optionsToObject.call(this,options);extend(point,options);point.options=point.options?extend(point.options,options):options;if(options.group){delete point.group}if(options.dataLabels){delete point.dataLabels}if(pointValKey){point.y=Point.prototype.getNestedProperty.call(point,pointValKey)}point.isNull=pick(point.isValid&&!point.isValid(),point.x===null||!isNumber(point.y));point.formatPrefix=point.isNull?"null":"point";if(point.selected){point.state="select"}if("name"in point&&typeof x==="undefined"&&series.xAxis&&series.xAxis.hasNames){point.x=series.xAxis.nameToX(point)}if(typeof point.x==="undefined"&&series){if(typeof x==="undefined"){point.x=series.autoIncrement()}else{point.x=x}}else if(isNumber(options.x)&&series.options.relativeXValue){point.x=series.autoIncrement(options.x)}return point};Point.prototype.destroy=function(){var point=this,series=point.series,chart=series.chart,dataSorting=series.options.dataSorting,hoverPoints=chart.hoverPoints,globalAnimation=point.series.chart.renderer.globalAnimation,animation=animObject(globalAnimation);var prop;function destroyPoint(){if(point.graphic||point.dataLabel||point.dataLabels){removeEvent(point);point.destroyElements()}for(prop in point){point[prop]=null}}if(point.legendItem){chart.legend.destroyItem(point)}if(hoverPoints){point.setState();erase(hoverPoints,point);if(!hoverPoints.length){chart.hoverPoints=null}}if(point===chart.hoverPoint){point.onMouseOut()}if(!dataSorting||!dataSorting.enabled){destroyPoint()}else{this.animateBeforeDestroy();syncTimeout(destroyPoint,animation.duration)}chart.pointCount--};Point.prototype.destroyElements=function(kinds){var point=this,props=point.getGraphicalProps(kinds);props.singular.forEach(function(prop){point[prop]=point[prop].destroy()});props.plural.forEach(function(plural){point[plural].forEach(function(item){if(item.element){item.destroy()}});delete point[plural]})};Point.prototype.firePointEvent=function(eventType,eventArgs,defaultFunction){var point=this,series=this.series,seriesOptions=series.options;if(seriesOptions.point.events[eventType]||(point.options&&point.options.events&&point.options.events[eventType])){point.importEvents()}if(eventType==="click"&&seriesOptions.allowPointSelect){defaultFunction=function(event){if(point.select){point.select(null,event.ctrlKey||event.metaKey||event.shiftKey)}}}fireEvent(point,eventType,eventArgs,defaultFunction)};Point.prototype.getClassName=function(){var point=this;return("highcharts-point"+(point.selected?" highcharts-point-select":"")+(point.negative?" highcharts-negative":"")+(point.isNull?" highcharts-null-point":"")+(typeof point.colorIndex!=="undefined"?" highcharts-color-"+point.colorIndex:"")+(point.options.className?" "+point.options.className:"")+(point.zone&&point.zone.className?" "+point.zone.className.replace("highcharts-negative",""):""))};Point.prototype.getGraphicalProps=function(kinds){var point=this,props=[],graphicalProps={singular:[],plural:[]};var prop,i;kinds=kinds||{graphic:1,dataLabel:1};if(kinds.graphic){props.push("graphic","upperGraphic","shadowGroup")}if(kinds.dataLabel){props.push("dataLabel","dataLabelUpper","connector")}i=props.length;while(i--){prop=props[i];if(point[prop]){graphicalProps.singular.push(prop)}}["dataLabel","connector"].forEach(function(prop){var plural=prop+"s";if(kinds[prop]&&point[plural]){graphicalProps.plural.push(plural)}});return graphicalProps};Point.prototype.getLabelConfig=function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal,}};Point.prototype.getNestedProperty=function(key){if(!key){return}if(key.indexOf("custom.")===0){return getNestedProperty(key,this.options)}return this[key]};Point.prototype.getZone=function(){var series=this.series,zones=series.zones,zoneAxis=series.zoneAxis||"y";var zone,i=0;zone=zones[i];while(this[zoneAxis]>=zone.value){zone=zones[++i]}if(!this.nonZonedColor){this.nonZonedColor=this.color}if(zone&&zone.color&&!this.options.color){this.color=zone.color}else{this.color=this.nonZonedColor}return zone};Point.prototype.hasNewShapeType=function(){var point=this;var oldShapeType=point.graphic&&(point.graphic.symbolName||point.graphic.element.nodeName);return oldShapeType!==this.shapeType};Point.prototype.init=function(series,options,x){this.series=series;this.applyOptions(options,x);this.id=defined(this.id)?this.id:uniqueKey();this.resolveColor();series.chart.pointCount++;fireEvent(this,"afterInit");return this};Point.prototype.optionsToObject=function(options){var series=this.series,keys=series.options.keys,pointArrayMap=keys||series.pointArrayMap||["y"],valueCount=pointArrayMap.length;var ret={},firstItemType,i=0,j=0;if(isNumber(options)||options===null){ret[pointArrayMap[0]]=options}else if(isArray(options)){if(!keys&&options.length>valueCount){firstItemType=typeof options[0];if(firstItemType==="string"){ret.name=options[0]}else if(firstItemType==="number"){ret.x=options[0]}i++}while(j<valueCount){if(!keys||typeof options[i]!=="undefined"){if(pointArrayMap[j].indexOf(".")>0){Point.prototype.setNestedProperty(ret,options[i],pointArrayMap[j])}else{ret[pointArrayMap[j]]=options[i]}}i++;j++}}else if(typeof options==="object"){ret=options;if(options.dataLabels){series._hasPointLabels=true}if(options.marker){series._hasPointMarkers=true}}return ret};Point.prototype.resolveColor=function(){var series=this.series,optionsChart=series.chart.options.chart,styledMode=series.chart.styledMode;var color,colors,colorCount=optionsChart.colorCount,colorIndex;delete this.nonZonedColor;if(series.options.colorByPoint){if(!styledMode){colors=series.options.colors||series.chart.options.colors;color=colors[series.colorCounter];colorCount=colors.length}colorIndex=series.colorCounter;series.colorCounter++;if(series.colorCounter===colorCount){series.colorCounter=0}}else{if(!styledMode){color=series.color}colorIndex=series.colorIndex}this.colorIndex=pick(this.options.colorIndex,colorIndex);this.color=pick(this.options.color,color)};Point.prototype.setNestedProperty=function(object,value,key){var nestedKeys=key.split(".");nestedKeys.reduce(function(result,key,i,arr){var isLastKey=arr.length-1===i;result[key]=isLastKey?value:isObject(result[key],true)?result[key]:{};return result[key]},object);return object};Point.prototype.tooltipFormatter=function(pointFormat){var series=this.series,seriesTooltipOptions=series.tooltipOptions,valueDecimals=pick(seriesTooltipOptions.valueDecimals,""),valuePrefix=seriesTooltipOptions.valuePrefix||"",valueSuffix=seriesTooltipOptions.valueSuffix||"";if(series.chart.styledMode){pointFormat=series.chart.tooltip.styledModeFormat(pointFormat)}(series.pointArrayMap||["y"]).forEach(function(key){key="{point."+key;if(valuePrefix||valueSuffix){pointFormat=pointFormat.replace(RegExp(key+"}","g"),valuePrefix+key+"}"+valueSuffix)}pointFormat=pointFormat.replace(RegExp(key+"}","g"),key+":,."+valueDecimals+"f}")});return format(pointFormat,{point:this,series:this.series,},series.chart)};Point.prototype.update=function(options,redraw,animation,runEvent){var point=this,series=point.series,graphic=point.graphic,chart=series.chart,seriesOptions=series.options;var i;redraw=pick(redraw,true);function update(){point.applyOptions(options);var hasDummyGraphic=graphic&&point.hasDummyGraphic;var shouldDestroyGraphic=point.y===null?!hasDummyGraphic:hasDummyGraphic;if(graphic&&shouldDestroyGraphic){point.graphic=graphic.destroy();delete point.hasDummyGraphic}if(isObject(options,true)){if(graphic&&graphic.element){if(options&&options.marker&&typeof options.marker.symbol!=="undefined"){point.graphic=graphic.destroy()}}if(options&&options.dataLabels&&point.dataLabel){point.dataLabel=point.dataLabel.destroy()}if(point.connector){point.connector=point.connector.destroy()}}i=point.index;series.updateParallelArrays(point,i);seriesOptions.data[i]=isObject(seriesOptions.data[i],true)||isObject(options,true)?point.options:pick(options,seriesOptions.data[i]);series.isDirty=series.isDirtyData=true;if(!series.fixedBox&&series.hasCartesianSeries){chart.isDirtyBox=true}if(seriesOptions.legendType==="point"){chart.isDirtyLegend=true}if(redraw){chart.redraw(animation)}}if(runEvent===false){update()}else{point.firePointEvent("update",{options:options},update)}};Point.prototype.remove=function(redraw,animation){this.series.removePoint(this.series.data.indexOf(this),redraw,animation)};Point.prototype.select=function(selected,accumulate){var point=this,series=point.series,chart=series.chart;selected=pick(selected,!point.selected);this.selectedStaging=selected;point.firePointEvent(selected?"select":"unselect",{accumulate:accumulate},function(){point.selected=point.options.selected=selected;series.options.data[series.data.indexOf(point)]=point.options;point.setState(selected&&"select");if(!accumulate){chart.getSelectedPoints().forEach(function(loopPoint){var loopSeries=loopPoint.series;if(loopPoint.selected&&loopPoint!==point){loopPoint.selected=loopPoint.options.selected=false;loopSeries.options.data[loopSeries.data.indexOf(loopPoint)]=loopPoint.options;loopPoint.setState(chart.hoverPoints&&loopSeries.options.inactiveOtherPoints?"inactive":"");loopPoint.firePointEvent("unselect")}})}});delete this.selectedStaging};Point.prototype.onMouseOver=function(e){var point=this,series=point.series,chart=series.chart,pointer=chart.pointer;e=e?pointer.normalize(e):pointer.getChartCoordinatesFromPoint(point,chart.inverted);pointer.runPointActions(e,point)};Point.prototype.onMouseOut=function(){var point=this,chart=point.series.chart;point.firePointEvent("mouseOut");if(!point.series.options.inactiveOtherPoints){(chart.hoverPoints||[]).forEach(function(p){p.setState()})}chart.hoverPoints=chart.hoverPoint=null};Point.prototype.importEvents=function(){if(!this.hasImportedEvents){var point_1=this,options=merge(point_1.series.options.point,point_1.options),events=options.events;point_1.events=events;objectEach(events,function(event,eventType){if(isFunction(event)){addEvent(point_1,eventType,event)}});this.hasImportedEvents=true}};Point.prototype.setState=function(state,move){var point=this,series=point.series,previousState=point.state,stateOptions=series.options.states[state||"normal"]||{},markerOptions=defaultOptions.plotOptions[series.type].marker&&series.options.marker,normalDisabled=markerOptions&&markerOptions.enabled===false,markerStateOptions=(markerOptions&&markerOptions.states&&markerOptions.states[state||"normal"])||{},stateDisabled=markerStateOptions.enabled===false,pointMarker=point.marker||{},chart=series.chart,hasMarkers=markerOptions&&series.markerAttribs;var halo=series.halo,markerAttribs,pointAttribs,pointAttribsAnimation,stateMarkerGraphic=series.stateMarkerGraphic,newSymbol;state=state||"";if((state===point.state&&!move)||(point.selected&&state!=="select")||stateOptions.enabled===false||(state&&(stateDisabled||(normalDisabled&&markerStateOptions.enabled===false)))||(state&&pointMarker.states&&pointMarker.states[state]&&pointMarker.states[state].enabled===false)){return}point.state=state;if(hasMarkers){markerAttribs=series.markerAttribs(point,state)}if(point.graphic&&!point.hasDummyGraphic){if(previousState){point.graphic.removeClass("highcharts-point-"+previousState)}if(state){point.graphic.addClass("highcharts-point-"+state)}if(!chart.styledMode){pointAttribs=series.pointAttribs(point,state);pointAttribsAnimation=pick(chart.options.chart.animation,stateOptions.animation);if(series.options.inactiveOtherPoints&&isNumber(pointAttribs.opacity)){(point.dataLabels||[]).forEach(function(label){if(label){label.animate({opacity:pointAttribs.opacity,},pointAttribsAnimation)}});if(point.connector){point.connector.animate({opacity:pointAttribs.opacity,},pointAttribsAnimation)}}point.graphic.animate(pointAttribs,pointAttribsAnimation)}if(markerAttribs){point.graphic.animate(markerAttribs,pick(chart.options.chart.animation,markerStateOptions.animation,markerOptions.animation))}if(stateMarkerGraphic){stateMarkerGraphic.hide()}}else{if(state&&markerStateOptions){newSymbol=pointMarker.symbol||series.symbol;if(stateMarkerGraphic&&stateMarkerGraphic.currentSymbol!==newSymbol){stateMarkerGraphic=stateMarkerGraphic.destroy()}if(markerAttribs){if(!stateMarkerGraphic){if(newSymbol){series.stateMarkerGraphic=stateMarkerGraphic=chart.renderer.symbol(newSymbol,markerAttribs.x,markerAttribs.y,markerAttribs.width,markerAttribs.height).add(series.markerGroup);stateMarkerGraphic.currentSymbol=newSymbol}}else{stateMarkerGraphic[move?"animate":"attr"]({x:markerAttribs.x,y:markerAttribs.y,})}}if(!chart.styledMode&&stateMarkerGraphic&&point.state!=="inactive"){stateMarkerGraphic.attr(series.pointAttribs(point,state))}}if(stateMarkerGraphic){stateMarkerGraphic[state&&point.isInside?"show":"hide"]();stateMarkerGraphic.element.point=point;stateMarkerGraphic.addClass(point.getClassName(),true)}}var haloOptions=stateOptions.halo;var markerGraphic=point.graphic||stateMarkerGraphic;var markerVisibility=(markerGraphic&&markerGraphic.visibility)||"inherit";if(haloOptions&&haloOptions.size&&markerGraphic&&markerVisibility!=="hidden"&&!point.isCluster){if(!halo){series.halo=halo=chart.renderer.path().add(markerGraphic.parentGroup)}halo.show()[move?"animate":"attr"]({d:point.haloPath(haloOptions.size),});halo.attr({class:"highcharts-halo highcharts-color-"+pick(point.colorIndex,series.colorIndex)+(point.className?" "+point.className:""),visibility:markerVisibility,zIndex:-1,});halo.point=point;if(!chart.styledMode){halo.attr(extend({fill:point.color||series.color,"fill-opacity":haloOptions.opacity,},AST.filterUserAttributes(haloOptions.attributes||{})))}}else if(halo&&halo.point&&halo.point.haloPath){halo.animate({d:halo.point.haloPath(0)},null,halo.hide)}fireEvent(point,"afterSetState",{state:state})};Point.prototype.haloPath=function(size){var series=this.series,chart=series.chart;return chart.renderer.symbols.circle(Math.floor(this.plotX)-size,this.plotY-size,size*2,size*2)};return Point})();("");return Point});_registerModule(_modules,"Core/Pointer.js",[_modules["Core/Color/Color.js"],_modules["Core/Globals.js"],_modules["Core/Tooltip.js"],_modules["Core/Utilities.js"],],function(Color,H,Tooltip,U){var color=Color.parse;var charts=H.charts,noop=H.noop;var addEvent=U.addEvent,attr=U.attr,css=U.css,defined=U.defined,extend=U.extend,find=U.find,fireEvent=U.fireEvent,isNumber=U.isNumber,isObject=U.isObject,objectEach=U.objectEach,offset=U.offset,pick=U.pick,splat=U.splat;var Pointer=(function(){function Pointer(chart,options){this.lastValidTouch={};this.pinchDown=[];this.runChartClick=false;this.eventsToUnbind=[];this.chart=chart;this.hasDragged=false;this.options=options;this.init(chart,options)}Pointer.prototype.applyInactiveState=function(points){var activeSeries=[],series;(points||[]).forEach(function(item){series=item.series;activeSeries.push(series);if(series.linkedParent){activeSeries.push(series.linkedParent)}if(series.linkedSeries){activeSeries=activeSeries.concat(series.linkedSeries)}if(series.navigatorSeries){activeSeries.push(series.navigatorSeries)}});this.chart.series.forEach(function(inactiveSeries){if(activeSeries.indexOf(inactiveSeries)===-1){inactiveSeries.setState("inactive",true)}else if(inactiveSeries.options.inactiveOtherPoints){inactiveSeries.setAllPointsToState("inactive")}})};Pointer.prototype.destroy=function(){var pointer=this;this.eventsToUnbind.forEach(function(unbind){return unbind()});this.eventsToUnbind=[];if(!H.chartCount){if(Pointer.unbindDocumentMouseUp){Pointer.unbindDocumentMouseUp=Pointer.unbindDocumentMouseUp()}if(Pointer.unbindDocumentTouchEnd){Pointer.unbindDocumentTouchEnd=Pointer.unbindDocumentTouchEnd()}}clearInterval(pointer.tooltipTimeout);objectEach(pointer,function(_val,prop){pointer[prop]=void 0})};Pointer.prototype.drag=function(e){var chart=this.chart,chartOptions=chart.options.chart,zoomHor=this.zoomHor,zoomVert=this.zoomVert,plotLeft=chart.plotLeft,plotTop=chart.plotTop,plotWidth=chart.plotWidth,plotHeight=chart.plotHeight,mouseDownX=this.mouseDownX||0,mouseDownY=this.mouseDownY||0,panningEnabled=isObject(chartOptions.panning)?chartOptions.panning&&chartOptions.panning.enabled:chartOptions.panning,panKey=chartOptions.panKey&&e[chartOptions.panKey+"Key"];var chartX=e.chartX,chartY=e.chartY,clickedInside,size,selectionMarker=this.selectionMarker;if(selectionMarker&&selectionMarker.touch){return}if(chartX<plotLeft){chartX=plotLeft}else if(chartX>plotLeft+plotWidth){chartX=plotLeft+plotWidth}if(chartY<plotTop){chartY=plotTop}else if(chartY>plotTop+plotHeight){chartY=plotTop+plotHeight}this.hasDragged=Math.sqrt(Math.pow(mouseDownX-chartX,2)+Math.pow(mouseDownY-chartY,2));if(this.hasDragged>10){clickedInside=chart.isInsidePlot(mouseDownX-plotLeft,mouseDownY-plotTop,{visiblePlotOnly:true,});if((chart.hasCartesianSeries||chart.mapView)&&(this.zoomX||this.zoomY)&&clickedInside&&!panKey){if(!selectionMarker){this.selectionMarker=selectionMarker=chart.renderer.rect(plotLeft,plotTop,zoomHor?1:plotWidth,zoomVert?1:plotHeight,0).attr({class:"highcharts-selection-marker",zIndex:7,}).add();if(!chart.styledMode){selectionMarker.attr({fill:chartOptions.selectionMarkerFill||color("#335cad").setOpacity(0.25).get(),})}}}if(selectionMarker&&zoomHor){size=chartX-mouseDownX;selectionMarker.attr({width:Math.abs(size),x:(size>0?0:size)+mouseDownX,})}if(selectionMarker&&zoomVert){size=chartY-mouseDownY;selectionMarker.attr({height:Math.abs(size),y:(size>0?0:size)+mouseDownY,})}if(clickedInside&&!selectionMarker&&panningEnabled){chart.pan(e,chartOptions.panning)}}};Pointer.prototype.dragStart=function(e){var chart=this.chart;chart.mouseIsDown=e.type;chart.cancelClick=false;chart.mouseDownX=this.mouseDownX=e.chartX;chart.mouseDownY=this.mouseDownY=e.chartY};Pointer.prototype.drop=function(e){var pointer=this,chart=this.chart,hasPinched=this.hasPinched;if(this.selectionMarker){var selectionBox=this.selectionMarker,x_1=selectionBox.attr?selectionBox.attr("x"):selectionBox.x,y_1=selectionBox.attr?selectionBox.attr("y"):selectionBox.y,width_1=selectionBox.attr?selectionBox.attr("width"):selectionBox.width,height_1=selectionBox.attr?selectionBox.attr("height"):selectionBox.height,selectionData_1={originalEvent:e,xAxis:[],yAxis:[],x:x_1,y:y_1,width:width_1,height:height_1,},runZoom_1=Boolean(chart.mapView);if(this.hasDragged||hasPinched){chart.axes.forEach(function(axis){if(axis.zoomEnabled&&defined(axis.min)&&(hasPinched||pointer[{xAxis:"zoomX",yAxis:"zoomY",}[axis.coll]])&&isNumber(x_1)&&isNumber(y_1)){var horiz=axis.horiz,minPixelPadding=e.type==="touchend"?axis.minPixelPadding:0,selectionMin=axis.toValue((horiz?x_1:y_1)+minPixelPadding),selectionMax=axis.toValue((horiz?x_1+width_1:y_1+height_1)-minPixelPadding);selectionData_1[axis.coll].push({axis:axis,min:Math.min(selectionMin,selectionMax),max:Math.max(selectionMin,selectionMax),});runZoom_1=true}});if(runZoom_1){fireEvent(chart,"selection",selectionData_1,function(args){chart.zoom(extend(args,hasPinched?{animation:false}:null))})}}if(isNumber(chart.index)){this.selectionMarker=this.selectionMarker.destroy()}if(hasPinched){this.scaleGroups()}}if(chart&&isNumber(chart.index)){css(chart.container,{cursor:chart._cursor});chart.cancelClick=this.hasDragged>10;chart.mouseIsDown=this.hasDragged=this.hasPinched=false;this.pinchDown=[]}};Pointer.prototype.findNearestKDPoint=function(series,shared,e){var chart=this.chart;var hoverPoint=chart.hoverPoint;var tooltip=chart.tooltip;if(hoverPoint&&tooltip&&tooltip.isStickyOnContact()){return hoverPoint}var closest;function sort(p1,p2){var isCloserX=p1.distX-p2.distX,isCloser=p1.dist-p2.dist,isAbove=(p2.series.group&&p2.series.group.zIndex)-(p1.series.group&&p1.series.group.zIndex);var result;if(isCloserX!==0&&shared){result=isCloserX}else if(isCloser!==0){result=isCloser}else if(isAbove!==0){result=isAbove}else{result=p1.series.index>p2.series.index?-1:1}return result}series.forEach(function(s){var noSharedTooltip=s.noSharedTooltip&&shared,compareX=!noSharedTooltip&&s.options.findNearestPointBy.indexOf("y")<0,point=s.searchPoint(e,compareX);if(isObject(point,true)&&point.series&&(!isObject(closest,true)||sort(closest,point)>0)){closest=point}});return closest};Pointer.prototype.getChartCoordinatesFromPoint=function(point,inverted){var series=point.series,xAxis=series.xAxis,yAxis=series.yAxis,shapeArgs=point.shapeArgs;if(xAxis&&yAxis){var x=pick(point.clientX,point.plotX);var y=point.plotY||0;if(point.isNode&&shapeArgs&&isNumber(shapeArgs.x)&&isNumber(shapeArgs.y)){x=shapeArgs.x;y=shapeArgs.y}return inverted?{chartX:yAxis.len+yAxis.pos-y,chartY:xAxis.len+xAxis.pos-x,}:{chartX:x+xAxis.pos,chartY:y+yAxis.pos,}}if(shapeArgs&&shapeArgs.x&&shapeArgs.y){return{chartX:shapeArgs.x,chartY:shapeArgs.y,}}};Pointer.prototype.getChartPosition=function(){if(this.chartPosition){return this.chartPosition}var container=this.chart.container;var pos=offset(container);this.chartPosition={left:pos.left,top:pos.top,scaleX:1,scaleY:1,};var offsetWidth=container.offsetWidth;var offsetHeight=container.offsetHeight;if(offsetWidth>2&&offsetHeight>2){this.chartPosition.scaleX=pos.width/offsetWidth;this.chartPosition.scaleY=pos.height/offsetHeight}return this.chartPosition};Pointer.prototype.getCoordinates=function(e){var coordinates={xAxis:[],yAxis:[],};this.chart.axes.forEach(function(axis){coordinates[axis.isXAxis?"xAxis":"yAxis"].push({axis:axis,value:axis.toValue(e[axis.horiz?"chartX":"chartY"]),})});return coordinates};Pointer.prototype.getHoverData=function(existingHoverPoint,existingHoverSeries,series,isDirectTouch,shared,e){var hoverPoints=[],useExisting=!!(isDirectTouch&&existingHoverPoint),filter=function(s){return(s.visible&&!(!shared&&s.directTouch)&&pick(s.options.enableMouseTracking,true))};var hoverSeries=existingHoverSeries,searchSeries,eventArgs={chartX:e?e.chartX:void 0,chartY:e?e.chartY:void 0,shared:shared,};fireEvent(this,"beforeGetHoverData",eventArgs);var notSticky=hoverSeries&&!hoverSeries.stickyTracking;searchSeries=notSticky?[hoverSeries]:series.filter(function(s){return eventArgs.filter?eventArgs.filter(s):filter(s)&&s.stickyTracking});var hoverPoint=useExisting||!e?existingHoverPoint:this.findNearestKDPoint(searchSeries,shared,e);hoverSeries=hoverPoint&&hoverPoint.series;if(hoverPoint){if(shared&&!hoverSeries.noSharedTooltip){searchSeries=series.filter(function(s){return eventArgs.filter?eventArgs.filter(s):filter(s)&&!s.noSharedTooltip});searchSeries.forEach(function(s){var point=find(s.points,function(p){return p.x===hoverPoint.x&&!p.isNull});if(isObject(point)){if(s.chart.isBoosting){point=s.getPoint(point)}hoverPoints.push(point)}})}else{hoverPoints.push(hoverPoint)}}eventArgs={hoverPoint:hoverPoint};fireEvent(this,"afterGetHoverData",eventArgs);return{hoverPoint:eventArgs.hoverPoint,hoverSeries:hoverSeries,hoverPoints:hoverPoints,}};Pointer.prototype.getPointFromEvent=function(e){var target=e.target,point;while(target&&!point){point=target.point;target=target.parentNode}return point};Pointer.prototype.onTrackerMouseOut=function(e){var chart=this.chart;var relatedTarget=e.relatedTarget||e.toElement;var series=chart.hoverSeries;this.isDirectTouch=false;if(series&&relatedTarget&&!series.stickyTracking&&!this.inClass(relatedTarget,"highcharts-tooltip")&&(!this.inClass(relatedTarget,"highcharts-series-"+series.index)||!this.inClass(relatedTarget,"highcharts-tracker"))){series.onMouseOut()}};Pointer.prototype.inClass=function(element,className){var elemClassName;while(element){elemClassName=attr(element,"class");if(elemClassName){if(elemClassName.indexOf(className)!==-1){return true}if(elemClassName.indexOf("highcharts-container")!==-1){return false}}element=element.parentNode}};Pointer.prototype.init=function(chart,options){this.options=options;this.chart=chart;this.runChartClick=Boolean(options.chart.events&&options.chart.events.click);this.pinchDown=[];this.lastValidTouch={};if(Tooltip){chart.tooltip=new Tooltip(chart,options.tooltip);this.followTouchMove=pick(options.tooltip.followTouchMove,true)}this.setDOMEvents()};Pointer.prototype.normalize=function(e,chartPosition){var touches=e.touches;var ePos=touches?touches.length?touches.item(0):pick(touches.changedTouches,e.changedTouches)[0]:e;if(!chartPosition){chartPosition=this.getChartPosition()}var chartX=ePos.pageX-chartPosition.left,chartY=ePos.pageY-chartPosition.top;chartX/=chartPosition.scaleX;chartY/=chartPosition.scaleY;return extend(e,{chartX:Math.round(chartX),chartY:Math.round(chartY),})};Pointer.prototype.onContainerClick=function(e){var chart=this.chart;var hoverPoint=chart.hoverPoint;var pEvt=this.normalize(e);var plotLeft=chart.plotLeft;var plotTop=chart.plotTop;if(!chart.cancelClick){if(hoverPoint&&this.inClass(pEvt.target,"highcharts-tracker")){fireEvent(hoverPoint.series,"click",extend(pEvt,{point:hoverPoint,}));if(chart.hoverPoint){hoverPoint.firePointEvent("click",pEvt)}}else{extend(pEvt,this.getCoordinates(pEvt));if(chart.isInsidePlot(pEvt.chartX-plotLeft,pEvt.chartY-plotTop,{visiblePlotOnly:true,})){fireEvent(chart,"click",pEvt)}}}};Pointer.prototype.onContainerMouseDown=function(e){var isPrimaryButton=((e.buttons||e.button)&1)===1;e=this.normalize(e);if(H.isFirefox&&e.button!==0){this.onContainerMouseMove(e)}if(typeof e.button==="undefined"||isPrimaryButton){this.zoomOption(e);if(isPrimaryButton&&e.preventDefault){e.preventDefault()}this.dragStart(e)}};Pointer.prototype.onContainerMouseLeave=function(e){var chart=charts[pick(Pointer.hoverChartIndex,-1)];var tooltip=this.chart.tooltip;if(tooltip&&tooltip.shouldStickOnContact()&&this.inClass(e.relatedTarget,"highcharts-tooltip-container")){return}e=this.normalize(e);if(chart&&(e.relatedTarget||e.toElement)){chart.pointer.reset();chart.pointer.chartPosition=void 0}if(tooltip&&!tooltip.isHidden){this.reset()}};Pointer.prototype.onContainerMouseEnter=function(e){delete this.chartPosition};Pointer.prototype.onContainerMouseMove=function(e){var chart=this.chart;var pEvt=this.normalize(e);this.setHoverChartIndex();if(!pEvt.preventDefault){pEvt.returnValue=false}if(chart.mouseIsDown==="mousedown"||this.touchSelect(pEvt)){this.drag(pEvt)}if(!chart.openMenu&&(this.inClass(pEvt.target,"highcharts-tracker")||chart.isInsidePlot(pEvt.chartX-chart.plotLeft,pEvt.chartY-chart.plotTop,{visiblePlotOnly:true,}))){if(this.inClass(pEvt.target,"highcharts-no-tooltip")){this.reset(false,0)}else{this.runPointActions(pEvt)}}};Pointer.prototype.onDocumentTouchEnd=function(e){var hoverChart=charts[pick(Pointer.hoverChartIndex,-1)];if(hoverChart){hoverChart.pointer.drop(e)}};Pointer.prototype.onContainerTouchMove=function(e){if(this.touchSelect(e)){this.onContainerMouseMove(e)}else{this.touch(e)}};Pointer.prototype.onContainerTouchStart=function(e){if(this.touchSelect(e)){this.onContainerMouseDown(e)}else{this.zoomOption(e);this.touch(e,true)}};Pointer.prototype.onDocumentMouseMove=function(e){var chart=this.chart;var chartPosition=this.chartPosition;var pEvt=this.normalize(e,chartPosition);var tooltip=chart.tooltip;if(chartPosition&&(!tooltip||!tooltip.isStickyOnContact())&&!chart.isInsidePlot(pEvt.chartX-chart.plotLeft,pEvt.chartY-chart.plotTop,{visiblePlotOnly:true,})&&!this.inClass(pEvt.target,"highcharts-tracker")){this.reset()}};Pointer.prototype.onDocumentMouseUp=function(e){var chart=charts[pick(Pointer.hoverChartIndex,-1)];if(chart){chart.pointer.drop(e)}};Pointer.prototype.pinch=function(e){var self=this,chart=self.chart,pinchDown=self.pinchDown,touches=e.touches||[],touchesLength=touches.length,lastValidTouch=self.lastValidTouch,hasZoom=self.hasZoom,transform={},fireClickEvent=touchesLength===1&&((self.inClass(e.target,"highcharts-tracker")&&chart.runTrackerClick)||self.runChartClick),clip={};var selectionMarker=self.selectionMarker;if(touchesLength>1){self.initiated=true}else if(touchesLength===1&&this.followTouchMove){self.initiated=false}if(hasZoom&&self.initiated&&!fireClickEvent&&e.cancelable!==false){e.preventDefault()}[].map.call(touches,function(e){return self.normalize(e)});if(e.type==="touchstart"){[].forEach.call(touches,function(e,i){pinchDown[i]={chartX:e.chartX,chartY:e.chartY}});lastValidTouch.x=[pinchDown[0].chartX,pinchDown[1]&&pinchDown[1].chartX,];lastValidTouch.y=[pinchDown[0].chartY,pinchDown[1]&&pinchDown[1].chartY,];chart.axes.forEach(function(axis){if(axis.zoomEnabled){var bounds=chart.bounds[axis.horiz?"h":"v"],minPixelPadding=axis.minPixelPadding,min=axis.toPixels(Math.min(pick(axis.options.min,axis.dataMin),axis.dataMin)),max=axis.toPixels(Math.max(pick(axis.options.max,axis.dataMax),axis.dataMax)),absMin=Math.min(min,max),absMax=Math.max(min,max);bounds.min=Math.min(axis.pos,absMin-minPixelPadding);bounds.max=Math.max(axis.pos+axis.len,absMax+minPixelPadding)}});self.res=true}else if(self.followTouchMove&&touchesLength===1){this.runPointActions(self.normalize(e))}else if(pinchDown.length){fireEvent(chart,"touchpan",{originalEvent:e},function(){if(!selectionMarker){self.selectionMarker=selectionMarker=extend({destroy:noop,touch:true,},chart.plotBox)}self.pinchTranslate(pinchDown,touches,transform,selectionMarker,clip,lastValidTouch);self.hasPinched=hasZoom;self.scaleGroups(transform,clip)});if(self.res){self.res=false;this.reset(false,0)}}};Pointer.prototype.pinchTranslate=function(pinchDown,touches,transform,selectionMarker,clip,lastValidTouch){if(this.zoomHor){this.pinchTranslateDirection(true,pinchDown,touches,transform,selectionMarker,clip,lastValidTouch)}if(this.zoomVert){this.pinchTranslateDirection(false,pinchDown,touches,transform,selectionMarker,clip,lastValidTouch)}};Pointer.prototype.pinchTranslateDirection=function(horiz,pinchDown,touches,transform,selectionMarker,clip,lastValidTouch,forcedScale){var chart=this.chart,xy=horiz?"x":"y",XY=horiz?"X":"Y",sChartXY="chart"+XY,wh=horiz?"width":"height",plotLeftTop=chart["plot"+(horiz?"Left":"Top")],inverted=chart.inverted,bounds=chart.bounds[horiz?"h":"v"],singleTouch=pinchDown.length===1,touch0Start=pinchDown[0][sChartXY],touch1Start=!singleTouch&&pinchDown[1][sChartXY],setScale=function(){if(typeof touch1Now==="number"&&Math.abs(touch0Start-touch1Start)>20){scale=forcedScale||Math.abs(touch0Now-touch1Now)/Math.abs(touch0Start-touch1Start)}clipXY=(plotLeftTop-touch0Now)/scale+touch0Start;selectionWH=chart["plot"+(horiz?"Width":"Height")]/scale};var selectionWH,selectionXY,clipXY,scale=forcedScale||1,touch0Now=touches[0][sChartXY],touch1Now=!singleTouch&&touches[1][sChartXY],outOfBounds;setScale();selectionXY=clipXY;if(selectionXY<bounds.min){selectionXY=bounds.min;outOfBounds=true}else if(selectionXY+selectionWH>bounds.max){selectionXY=bounds.max-selectionWH;outOfBounds=true}if(outOfBounds){touch0Now-=0.8*(touch0Now-lastValidTouch[xy][0]);if(typeof touch1Now==="number"){touch1Now-=0.8*(touch1Now-lastValidTouch[xy][1])}setScale()}else{lastValidTouch[xy]=[touch0Now,touch1Now]}if(!inverted){clip[xy]=clipXY-plotLeftTop;clip[wh]=selectionWH}var scaleKey=inverted?horiz?"scaleY":"scaleX":"scale"+XY;var transformScale=inverted?1/scale:scale;selectionMarker[wh]=selectionWH;selectionMarker[xy]=selectionXY;transform[scaleKey]=scale;transform["translate"+XY]=transformScale*plotLeftTop+(touch0Now-transformScale*touch0Start)};Pointer.prototype.reset=function(allowMove,delay){var pointer=this,chart=pointer.chart,hoverSeries=chart.hoverSeries,hoverPoint=chart.hoverPoint,hoverPoints=chart.hoverPoints,tooltip=chart.tooltip,tooltipPoints=tooltip&&tooltip.shared?hoverPoints:hoverPoint;if(allowMove&&tooltipPoints){splat(tooltipPoints).forEach(function(point){if(point.series.isCartesian&&typeof point.plotX==="undefined"){allowMove=false}})}if(allowMove){if(tooltip&&tooltipPoints&&splat(tooltipPoints).length){tooltip.refresh(tooltipPoints);if(tooltip.shared&&hoverPoints){hoverPoints.forEach(function(point){point.setState(point.state,true);if(point.series.isCartesian){if(point.series.xAxis.crosshair){point.series.xAxis.drawCrosshair(null,point)}if(point.series.yAxis.crosshair){point.series.yAxis.drawCrosshair(null,point)}}})}else if(hoverPoint){hoverPoint.setState(hoverPoint.state,true);chart.axes.forEach(function(axis){if(axis.crosshair&&hoverPoint.series[axis.coll]===axis){axis.drawCrosshair(null,hoverPoint)}})}}}else{if(hoverPoint){hoverPoint.onMouseOut()}if(hoverPoints){hoverPoints.forEach(function(point){point.setState()})}if(hoverSeries){hoverSeries.onMouseOut()}if(tooltip){tooltip.hide(delay)}if(pointer.unDocMouseMove){pointer.unDocMouseMove=pointer.unDocMouseMove()}chart.axes.forEach(function(axis){axis.hideCrosshair()});pointer.hoverX=chart.hoverPoints=chart.hoverPoint=null}};Pointer.prototype.runPointActions=function(e,p){var pointer=this,chart=pointer.chart,series=chart.series,tooltip=chart.tooltip&&chart.tooltip.options.enabled?chart.tooltip:void 0,shared=tooltip?tooltip.shared:false;var hoverPoint=p||chart.hoverPoint,hoverSeries=(hoverPoint&&hoverPoint.series)||chart.hoverSeries;var isDirectTouch=(!e||e.type!=="touchmove")&&(!!p||(hoverSeries&&hoverSeries.directTouch&&pointer.isDirectTouch)),hoverData=this.getHoverData(hoverPoint,hoverSeries,series,isDirectTouch,shared,e);hoverPoint=hoverData.hoverPoint;hoverSeries=hoverData.hoverSeries;var points=hoverData.hoverPoints,followPointer=hoverSeries&&hoverSeries.tooltipOptions.followPointer&&!hoverSeries.tooltipOptions.split,useSharedTooltip=shared&&hoverSeries&&!hoverSeries.noSharedTooltip;if(hoverPoint&&(hoverPoint!==chart.hoverPoint||(tooltip&&tooltip.isHidden))){(chart.hoverPoints||[]).forEach(function(p){if(points.indexOf(p)===-1){p.setState()}});if(chart.hoverSeries!==hoverSeries){hoverSeries.onMouseOver()}pointer.applyInactiveState(points);(points||[]).forEach(function(p){p.setState("hover")});if(chart.hoverPoint){chart.hoverPoint.firePointEvent("mouseOut")}if(!hoverPoint.series){return}chart.hoverPoints=points;chart.hoverPoint=hoverPoint;hoverPoint.firePointEvent("mouseOver");if(tooltip){tooltip.refresh(useSharedTooltip?points:hoverPoint,e)}}else if(followPointer&&tooltip&&!tooltip.isHidden){var anchor=tooltip.getAnchor([{}],e);if(chart.isInsidePlot(anchor[0],anchor[1],{visiblePlotOnly:true,})){tooltip.updatePosition({plotX:anchor[0],plotY:anchor[1]})}}if(!pointer.unDocMouseMove){pointer.unDocMouseMove=addEvent(chart.container.ownerDocument,"mousemove",function(e){var chart=charts[Pointer.hoverChartIndex];if(chart){chart.pointer.onDocumentMouseMove(e)}});pointer.eventsToUnbind.push(pointer.unDocMouseMove)}chart.axes.forEach(function drawAxisCrosshair(axis){var snap=pick((axis.crosshair||{}).snap,true);var point;if(snap){point=chart.hoverPoint;if(!point||point.series[axis.coll]!==axis){point=find(points,function(p){return p.series[axis.coll]===axis})}}if(point||!snap){axis.drawCrosshair(e,point)}else{axis.hideCrosshair()}})};Pointer.prototype.scaleGroups=function(attribs,clip){var chart=this.chart;chart.series.forEach(function(series){var seriesAttribs=attribs||series.getPlotBox();if(series.group&&((series.xAxis&&series.xAxis.zoomEnabled)||chart.mapView)){series.group.attr(seriesAttribs);if(series.markerGroup){series.markerGroup.attr(seriesAttribs);series.markerGroup.clip(clip?chart.clipRect:null)}if(series.dataLabelsGroup){series.dataLabelsGroup.attr(seriesAttribs)}}});chart.clipRect.attr(clip||chart.clipBox)};Pointer.prototype.setDOMEvents=function(){var _this=this;var container=this.chart.container,ownerDoc=container.ownerDocument;container.onmousedown=this.onContainerMouseDown.bind(this);container.onmousemove=this.onContainerMouseMove.bind(this);container.onclick=this.onContainerClick.bind(this);this.eventsToUnbind.push(addEvent(container,"mouseenter",this.onContainerMouseEnter.bind(this)));this.eventsToUnbind.push(addEvent(container,"mouseleave",this.onContainerMouseLeave.bind(this)));if(!Pointer.unbindDocumentMouseUp){Pointer.unbindDocumentMouseUp=addEvent(ownerDoc,"mouseup",this.onDocumentMouseUp.bind(this))}var parent=this.chart.renderTo.parentElement;while(parent&&parent.tagName!=="BODY"){this.eventsToUnbind.push(addEvent(parent,"scroll",function(){delete _this.chartPosition}));parent=parent.parentElement}if(H.hasTouch){this.eventsToUnbind.push(addEvent(container,"touchstart",this.onContainerTouchStart.bind(this),{passive:false}));this.eventsToUnbind.push(addEvent(container,"touchmove",this.onContainerTouchMove.bind(this),{passive:false}));if(!Pointer.unbindDocumentTouchEnd){Pointer.unbindDocumentTouchEnd=addEvent(ownerDoc,"touchend",this.onDocumentTouchEnd.bind(this),{passive:false})}}};Pointer.prototype.setHoverChartIndex=function(){var chart=this.chart;var hoverChart=H.charts[pick(Pointer.hoverChartIndex,-1)];if(hoverChart&&hoverChart!==chart){hoverChart.pointer.onContainerMouseLeave({relatedTarget:true})}if(!hoverChart||!hoverChart.mouseIsDown){Pointer.hoverChartIndex=chart.index}};Pointer.prototype.touch=function(e,start){var chart=this.chart;var hasMoved,pinchDown,isInside;this.setHoverChartIndex();if(e.touches.length===1){e=this.normalize(e);isInside=chart.isInsidePlot(e.chartX-chart.plotLeft,e.chartY-chart.plotTop,{visiblePlotOnly:true,});if(isInside&&!chart.openMenu){if(start){this.runPointActions(e)}if(e.type==="touchmove"){pinchDown=this.pinchDown;hasMoved=pinchDown[0]?Math.sqrt(Math.pow(pinchDown[0].chartX-e.chartX,2)+Math.pow(pinchDown[0].chartY-e.chartY,2))>=4:false}if(pick(hasMoved,true)){this.pinch(e)}}else if(start){this.reset()}}else if(e.touches.length===2){this.pinch(e)}};Pointer.prototype.touchSelect=function(e){return Boolean(this.chart.options.chart.zoomBySingleTouch&&e.touches&&e.touches.length===1)};Pointer.prototype.zoomOption=function(e){var chart=this.chart,options=chart.options.chart,inverted=chart.inverted;var zoomType=options.zoomType||"",zoomX,zoomY;if(/touch/.test(e.type)){zoomType=pick(options.pinchType,zoomType)}this.zoomX=zoomX=/x/.test(zoomType);this.zoomY=zoomY=/y/.test(zoomType);this.zoomHor=(zoomX&&!inverted)||(zoomY&&inverted);this.zoomVert=(zoomY&&!inverted)||(zoomX&&inverted);this.hasZoom=zoomX||zoomY};return Pointer})();("");return Pointer});_registerModule(_modules,"Core/MSPointer.js",[_modules["Core/Globals.js"],_modules["Core/Pointer.js"],_modules["Core/Utilities.js"],],function(H,Pointer,U){var __extends=(this&&this.__extends)||(function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b})||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):((__.prototype=b.prototype),new __())}})();var charts=H.charts,doc=H.doc,noop=H.noop,win=H.win;var addEvent=U.addEvent,css=U.css,objectEach=U.objectEach,removeEvent=U.removeEvent;var touches={};var hasPointerEvent=!!win.PointerEvent;function getWebkitTouches(){var fake=[];fake.item=function(i){return this[i]};objectEach(touches,function(touch){fake.push({pageX:touch.pageX,pageY:touch.pageY,target:touch.target,})});return fake}function translateMSPointer(e,method,wktype,func){var chart=charts[Pointer.hoverChartIndex||NaN];if((e.pointerType==="touch"||e.pointerType===e.MSPOINTER_TYPE_TOUCH)&&chart){var p=chart.pointer;func(e);p[method]({type:wktype,target:e.currentTarget,preventDefault:noop,touches:getWebkitTouches(),})}}var MSPointer=(function(_super){__extends(MSPointer,_super);function MSPointer(){return(_super!==null&&_super.apply(this,arguments))||this}MSPointer.isRequired=function(){return!!(!H.hasTouch&&(win.PointerEvent||win.MSPointerEvent))};MSPointer.prototype.batchMSEvents=function(fn){fn(this.chart.container,hasPointerEvent?"pointerdown":"MSPointerDown",this.onContainerPointerDown);fn(this.chart.container,hasPointerEvent?"pointermove":"MSPointerMove",this.onContainerPointerMove);fn(doc,hasPointerEvent?"pointerup":"MSPointerUp",this.onDocumentPointerUp)};MSPointer.prototype.destroy=function(){this.batchMSEvents(removeEvent);_super.prototype.destroy.call(this)};MSPointer.prototype.init=function(chart,options){_super.prototype.init.call(this,chart,options);if(this.hasZoom){css(chart.container,{"-ms-touch-action":"none","touch-action":"none",})}};MSPointer.prototype.onContainerPointerDown=function(e){translateMSPointer(e,"onContainerTouchStart","touchstart",function(e){touches[e.pointerId]={pageX:e.pageX,pageY:e.pageY,target:e.currentTarget,}})};MSPointer.prototype.onContainerPointerMove=function(e){translateMSPointer(e,"onContainerTouchMove","touchmove",function(e){touches[e.pointerId]={pageX:e.pageX,pageY:e.pageY};if(!touches[e.pointerId].target){touches[e.pointerId].target=e.currentTarget}})};MSPointer.prototype.onDocumentPointerUp=function(e){translateMSPointer(e,"onDocumentTouchEnd","touchend",function(e){delete touches[e.pointerId]})};MSPointer.prototype.setDOMEvents=function(){_super.prototype.setDOMEvents.call(this);if(this.hasZoom||this.followTouchMove){this.batchMSEvents(addEvent)}};return MSPointer})(Pointer);return MSPointer});_registerModule(_modules,"Core/Legend/Legend.js",[_modules["Core/Animation/AnimationUtilities.js"],_modules["Core/FormatUtilities.js"],_modules["Core/Globals.js"],_modules["Core/Series/Point.js"],_modules["Core/Renderer/RendererUtilities.js"],_modules["Core/Utilities.js"],],function(A,F,H,Point,R,U){var animObject=A.animObject,setAnimation=A.setAnimation;var format=F.format;var isFirefox=H.isFirefox,marginNames=H.marginNames,win=H.win;var distribute=R.distribute;var addEvent=U.addEvent,createElement=U.createElement,css=U.css,defined=U.defined,discardElement=U.discardElement,find=U.find,fireEvent=U.fireEvent,isNumber=U.isNumber,merge=U.merge,pick=U.pick,relativeLength=U.relativeLength,stableSort=U.stableSort,syncTimeout=U.syncTimeout,wrap=U.wrap;var Legend=(function(){function Legend(chart,options){this.allItems=[];this.box=void 0;this.contentGroup=void 0;this.display=false;this.group=void 0;this.initialItemY=0;this.itemHeight=0;this.itemMarginBottom=0;this.itemMarginTop=0;this.itemX=0;this.itemY=0;this.lastItemY=0;this.lastLineHeight=0;this.legendHeight=0;this.legendWidth=0;this.maxItemWidth=0;this.maxLegendWidth=0;this.offsetWidth=0;this.options={};this.padding=0;this.pages=[];this.proximate=false;this.scrollGroup=void 0;this.symbolHeight=0;this.symbolWidth=0;this.titleHeight=0;this.totalItemWidth=0;this.widthOption=0;this.chart=chart;this.init(chart,options)}Legend.prototype.init=function(chart,options){this.chart=chart;this.setOptions(options);if(options.enabled){this.render();addEvent(this.chart,"endResize",function(){this.legend.positionCheckboxes()});if(this.proximate){this.unchartrender=addEvent(this.chart,"render",function(){this.legend.proximatePositions();this.legend.positionItems()})}else if(this.unchartrender){this.unchartrender()}}};Legend.prototype.setOptions=function(options){var padding=pick(options.padding,8);this.options=options;if(!this.chart.styledMode){this.itemStyle=options.itemStyle;this.itemHiddenStyle=merge(this.itemStyle,options.itemHiddenStyle)}this.itemMarginTop=options.itemMarginTop||0;this.itemMarginBottom=options.itemMarginBottom||0;this.padding=padding;this.initialItemY=padding-5;this.symbolWidth=pick(options.symbolWidth,16);this.pages=[];this.proximate=options.layout==="proximate"&&!this.chart.inverted;this.baseline=void 0};Legend.prototype.update=function(options,redraw){var chart=this.chart;this.setOptions(merge(true,this.options,options));this.destroy();chart.isDirtyLegend=chart.isDirtyBox=true;if(pick(redraw,true)){chart.redraw()}fireEvent(this,"afterUpdate")};Legend.prototype.colorizeItem=function(item,visible){item.legendGroup[visible?"removeClass":"addClass"]("highcharts-legend-item-hidden");if(!this.chart.styledMode){var legend=this,options=legend.options,legendItem=item.legendItem,legendLine=item.legendLine,legendSymbol=item.legendSymbol,hiddenColor=legend.itemHiddenStyle.color,textColor=visible?options.itemStyle.color:hiddenColor,symbolColor=visible?item.color||hiddenColor:hiddenColor,markerOptions=item.options&&item.options.marker;var symbolAttr={fill:symbolColor};if(legendItem){legendItem.css({fill:textColor,color:textColor,})}if(legendLine){legendLine.attr({stroke:symbolColor})}if(legendSymbol){if(markerOptions&&legendSymbol.isMarker){symbolAttr=item.pointAttribs();if(!visible){symbolAttr.stroke=symbolAttr.fill=hiddenColor}}legendSymbol.attr(symbolAttr)}}fireEvent(this,"afterColorizeItem",{item:item,visible:visible,})};Legend.prototype.positionItems=function(){this.allItems.forEach(this.positionItem,this);if(!this.chart.isResizing){this.positionCheckboxes()}};Legend.prototype.positionItem=function(item){var _this=this;var legend=this,options=legend.options,symbolPadding=options.symbolPadding,ltr=!options.rtl,legendItemPos=item._legendItemPos,itemX=legendItemPos[0],itemY=legendItemPos[1],checkbox=item.checkbox,legendGroup=item.legendGroup;if(legendGroup&&legendGroup.element){var attribs={translateX:ltr?itemX:legend.legendWidth-itemX-2*symbolPadding-4,translateY:itemY,};var complete=function(){fireEvent(_this,"afterPositionItem",{item:item})};if(defined(legendGroup.translateY)){legendGroup.animate(attribs,void 0,complete)}else{legendGroup.attr(attribs);complete()}}if(checkbox){checkbox.x=itemX;checkbox.y=itemY}};Legend.prototype.destroyItem=function(item){var checkbox=item.checkbox;["legendItem","legendLine","legendSymbol","legendGroup"].forEach(function(key){if(item[key]){item[key]=item[key].destroy()}});if(checkbox){discardElement(item.checkbox)}};Legend.prototype.destroy=function(){function destroyItems(key){if(this[key]){this[key]=this[key].destroy()}}this.getAllItems().forEach(function(item){["legendItem","legendGroup"].forEach(destroyItems,item)});["clipRect","up","down","pager","nav","box","title","group",].forEach(destroyItems,this);this.display=null};Legend.prototype.positionCheckboxes=function(){var alignAttr=this.group&&this.group.alignAttr,clipHeight=this.clipHeight||this.legendHeight,titleHeight=this.titleHeight;var translateY;if(alignAttr){translateY=alignAttr.translateY;this.allItems.forEach(function(item){var checkbox=item.checkbox;var top;if(checkbox){top=translateY+titleHeight+checkbox.y+(this.scrollOffset||0)+3;css(checkbox,{left:alignAttr.translateX+item.checkboxOffset+checkbox.x-20+"px",top:top+"px",display:this.proximate||(top>translateY-6&&top<translateY+clipHeight-6)?"":"none",})}},this)}};Legend.prototype.renderTitle=function(){var options=this.options,padding=this.padding,titleOptions=options.title;var bBox,titleHeight=0;if(titleOptions.text){if(!this.title){this.title=this.chart.renderer.label(titleOptions.text,padding-3,padding-4,null,null,null,options.useHTML,null,"legend-title").attr({zIndex:1});if(!this.chart.styledMode){this.title.css(titleOptions.style)}this.title.add(this.group)}if(!titleOptions.width){this.title.css({width:this.maxLegendWidth+"px",})}bBox=this.title.getBBox();titleHeight=bBox.height;this.offsetWidth=bBox.width;this.contentGroup.attr({translateY:titleHeight})}this.titleHeight=titleHeight};Legend.prototype.setText=function(item){var options=this.options;item.legendItem.attr({text:options.labelFormat?format(options.labelFormat,item,this.chart):options.labelFormatter.call(item),})};Legend.prototype.renderItem=function(item){var legend=this,chart=legend.chart,renderer=chart.renderer,options=legend.options,horizontal=options.layout==="horizontal",symbolWidth=legend.symbolWidth,symbolPadding=options.symbolPadding||0,itemStyle=legend.itemStyle,itemHiddenStyle=legend.itemHiddenStyle,itemDistance=horizontal?pick(options.itemDistance,20):0,ltr=!options.rtl,isSeries=!item.series,series=!isSeries&&item.series.drawLegendSymbol?item.series:item,seriesOptions=series.options,showCheckbox=legend.createCheckboxForItem&&seriesOptions&&seriesOptions.showCheckbox,useHTML=options.useHTML,itemClassName=item.options.className;var li=item.legendItem,itemExtraWidth=symbolWidth+symbolPadding+itemDistance+(showCheckbox?20:0);if(!li){item.legendGroup=renderer.g("legend-item").addClass("highcharts-"+series.type+"-series "+"highcharts-color-"+item.colorIndex+(itemClassName?" "+itemClassName:"")+(isSeries?" highcharts-series-"+item.index:"")).attr({zIndex:1}).add(legend.scrollGroup);item.legendItem=li=renderer.text("",ltr?symbolWidth+symbolPadding:-symbolPadding,legend.baseline||0,useHTML);if(!chart.styledMode){li.css(merge(item.visible?itemStyle:itemHiddenStyle))}li.attr({align:ltr?"left":"right",zIndex:2,}).add(item.legendGroup);if(!legend.baseline){legend.fontMetrics=renderer.fontMetrics(chart.styledMode?12:itemStyle.fontSize,li);legend.baseline=legend.fontMetrics.f+3+legend.itemMarginTop;li.attr("y",legend.baseline);legend.symbolHeight=options.symbolHeight||legend.fontMetrics.f;if(options.squareSymbol){legend.symbolWidth=pick(options.symbolWidth,Math.max(legend.symbolHeight,16));itemExtraWidth=legend.symbolWidth+symbolPadding+itemDistance+(showCheckbox?20:0);if(ltr){li.attr("x",legend.symbolWidth+symbolPadding)}}}series.drawLegendSymbol(legend,item);if(legend.setItemEvents){legend.setItemEvents(item,li,useHTML)}}if(showCheckbox&&!item.checkbox&&legend.createCheckboxForItem){legend.createCheckboxForItem(item)}legend.colorizeItem(item,item.visible);if(chart.styledMode||!itemStyle.width){li.css({width:(options.itemWidth||legend.widthOption||chart.spacingBox.width)-itemExtraWidth+"px",})}legend.setText(item);var bBox=li.getBBox();item.itemWidth=item.checkboxOffset=options.itemWidth||item.legendItemWidth||bBox.width+itemExtraWidth;legend.maxItemWidth=Math.max(legend.maxItemWidth,item.itemWidth);legend.totalItemWidth+=item.itemWidth;legend.itemHeight=item.itemHeight=Math.round(item.legendItemHeight||bBox.height||legend.symbolHeight)};Legend.prototype.layoutItem=function(item){var options=this.options,padding=this.padding,horizontal=options.layout==="horizontal",itemHeight=item.itemHeight,itemMarginBottom=this.itemMarginBottom,itemMarginTop=this.itemMarginTop,itemDistance=horizontal?pick(options.itemDistance,20):0,maxLegendWidth=this.maxLegendWidth,itemWidth=options.alignColumns&&this.totalItemWidth>maxLegendWidth?this.maxItemWidth:item.itemWidth;if(horizontal&&this.itemX-padding+itemWidth>maxLegendWidth){this.itemX=padding;if(this.lastLineHeight){this.itemY+=itemMarginTop+this.lastLineHeight+itemMarginBottom}this.lastLineHeight=0}this.lastItemY=itemMarginTop+this.itemY+itemMarginBottom;this.lastLineHeight=Math.max(itemHeight,this.lastLineHeight);item._legendItemPos=[this.itemX,this.itemY];if(horizontal){this.itemX+=itemWidth}else{this.itemY+=itemMarginTop+itemHeight+itemMarginBottom;this.lastLineHeight=itemHeight}this.offsetWidth=this.widthOption||Math.max((horizontal?this.itemX-padding-(item.checkbox?0:itemDistance):itemWidth)+padding,this.offsetWidth)};Legend.prototype.getAllItems=function(){var allItems=[];this.chart.series.forEach(function(series){var seriesOptions=series&&series.options;if(series&&pick(seriesOptions.showInLegend,!defined(seriesOptions.linkedTo)?void 0:false,true)){allItems=allItems.concat(series.legendItems||(seriesOptions.legendType==="point"?series.data:series))}});fireEvent(this,"afterGetAllItems",{allItems:allItems});return allItems};Legend.prototype.getAlignment=function(){var options=this.options;if(this.proximate){return options.align.charAt(0)+"tv"}return options.floating?"":options.align.charAt(0)+options.verticalAlign.charAt(0)+options.layout.charAt(0)};Legend.prototype.adjustMargins=function(margin,spacing){var chart=this.chart,options=this.options,alignment=this.getAlignment();if(alignment){[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/,].forEach(function(alignments,side){if(alignments.test(alignment)&&!defined(margin[side])){chart[marginNames[side]]=Math.max(chart[marginNames[side]],chart.legend[(side+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][side]*options[side%2?"x":"y"]+pick(options.margin,12)+spacing[side]+(chart.titleOffset[side]||0))}})}};Legend.prototype.proximatePositions=function(){var chart=this.chart,boxes=[],alignLeft=this.options.align==="left";this.allItems.forEach(function(item){var lastPoint,height,useFirstPoint=alignLeft,target,top;if(item.yAxis){if(item.xAxis.options.reversed){useFirstPoint=!useFirstPoint}if(item.points){lastPoint=find(useFirstPoint?item.points:item.points.slice(0).reverse(),function(item){return isNumber(item.plotY)})}height=this.itemMarginTop+item.legendItem.getBBox().height+this.itemMarginBottom;top=item.yAxis.top-chart.plotTop;if(item.visible){target=lastPoint?lastPoint.plotY:item.yAxis.height;target+=top-0.3*height}else{target=top+item.yAxis.height}boxes.push({target:target,size:height,item:item,})}},this);distribute(boxes,chart.plotHeight).forEach(function(box){if(box.item._legendItemPos){box.item._legendItemPos[1]=chart.plotTop-chart.spacing[0]+box.pos}})};Legend.prototype.render=function(){var legend=this,chart=legend.chart,renderer=chart.renderer,options=legend.options,padding=legend.padding,allItems=legend.getAllItems();var display,legendWidth,legendHeight,legendGroup=legend.group,allowedWidth,box=legend.box;legend.itemX=padding;legend.itemY=legend.initialItemY;legend.offsetWidth=0;legend.lastItemY=0;legend.widthOption=relativeLength(options.width,chart.spacingBox.width-padding);allowedWidth=chart.spacingBox.width-2*padding-options.x;if(["rm","lm"].indexOf(legend.getAlignment().substring(0,2))>-1){allowedWidth/=2}legend.maxLegendWidth=legend.widthOption||allowedWidth;if(!legendGroup){legend.group=legendGroup=renderer.g("legend").addClass(options.className||"").attr({zIndex:7}).add();legend.contentGroup=renderer.g().attr({zIndex:1}).add(legendGroup);legend.scrollGroup=renderer.g().add(legend.contentGroup)}legend.renderTitle();stableSort(allItems,function(a,b){return(((a.options&&a.options.legendIndex)||0)-((b.options&&b.options.legendIndex)||0))});if(options.reversed){allItems.reverse()}legend.allItems=allItems;legend.display=display=!!allItems.length;legend.lastLineHeight=0;legend.maxItemWidth=0;legend.totalItemWidth=0;legend.itemHeight=0;allItems.forEach(legend.renderItem,legend);allItems.forEach(legend.layoutItem,legend);legendWidth=(legend.widthOption||legend.offsetWidth)+padding;legendHeight=legend.lastItemY+legend.lastLineHeight+legend.titleHeight;legendHeight=legend.handleOverflow(legendHeight);legendHeight+=padding;if(!box){legend.box=box=renderer.rect().addClass("highcharts-legend-box").attr({r:options.borderRadius,}).add(legendGroup);box.isNew=true}if(!chart.styledMode){box.attr({stroke:options.borderColor,"stroke-width":options.borderWidth||0,fill:options.backgroundColor||"none",}).shadow(options.shadow)}if(legendWidth>0&&legendHeight>0){box[box.isNew?"attr":"animate"](box.crisp.call({},{x:0,y:0,width:legendWidth,height:legendHeight,},box.strokeWidth()));box.isNew=false}box[display?"show":"hide"]();if(chart.styledMode&&legendGroup.getStyle("display")==="none"){legendWidth=legendHeight=0}legend.legendWidth=legendWidth;legend.legendHeight=legendHeight;if(display){legend.align()}if(!this.proximate){this.positionItems()}fireEvent(this,"afterRender")};Legend.prototype.align=function(alignTo){if(alignTo===void 0){alignTo=this.chart.spacingBox}var chart=this.chart,options=this.options;var y=alignTo.y;if(/(lth|ct|rth)/.test(this.getAlignment())&&chart.titleOffset[0]>0){y+=chart.titleOffset[0]}else if(/(lbh|cb|rbh)/.test(this.getAlignment())&&chart.titleOffset[2]>0){y-=chart.titleOffset[2]}if(y!==alignTo.y){alignTo=merge(alignTo,{y:y})}this.group.align(merge(options,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":options.verticalAlign,}),true,alignTo)};Legend.prototype.handleOverflow=function(legendHeight){var legend=this,chart=this.chart,renderer=chart.renderer,options=this.options,optionsY=options.y,alignTop=options.verticalAlign==="top",padding=this.padding,maxHeight=options.maxHeight,navOptions=options.navigation,animation=pick(navOptions.animation,true),arrowSize=navOptions.arrowSize||12,pages=this.pages,allItems=this.allItems,clipToHeight=function(height){if(typeof height==="number"){clipRect.attr({height:height,})}else if(clipRect){legend.clipRect=clipRect.destroy();legend.contentGroup.clip()}if(legend.contentGroup.div){legend.contentGroup.div.style.clip=height?"rect("+padding+"px,9999px,"+(padding+height)+"px,0)":"auto"}},addTracker=function(key){legend[key]=renderer.circle(0,0,arrowSize*1.3).translate(arrowSize/2,arrowSize/2).add(nav);if(!chart.styledMode){legend[key].attr("fill","rgba(0,0,0,0.0001)")}return legend[key]};var clipHeight,lastY,spaceHeight=chart.spacingBox.height+(alignTop?-optionsY:optionsY)-padding,nav=this.nav,clipRect=this.clipRect;if(options.layout==="horizontal"&&options.verticalAlign!=="middle"&&!options.floating){spaceHeight/=2}if(maxHeight){spaceHeight=Math.min(spaceHeight,maxHeight)}pages.length=0;if(legendHeight&&spaceHeight>0&&legendHeight>spaceHeight&&navOptions.enabled!==false){this.clipHeight=clipHeight=Math.max(spaceHeight-20-this.titleHeight-padding,0);this.currentPage=pick(this.currentPage,1);this.fullHeight=legendHeight;allItems.forEach(function(item,i){var y=item._legendItemPos[1],h=Math.round(item.legendItem.getBBox().height);var len=pages.length;if(!len||(y-pages[len-1]>clipHeight&&(lastY||y)!==pages[len-1])){pages.push(lastY||y);len++}item.pageIx=len-1;if(lastY){allItems[i-1].pageIx=len-1}if(i===allItems.length-1&&y+h-pages[len-1]>clipHeight&&h<=clipHeight){pages.push(y);item.pageIx=len}if(y!==lastY){lastY=y}});if(!clipRect){clipRect=legend.clipRect=renderer.clipRect(0,padding,9999,0);legend.contentGroup.clip(clipRect)}clipToHeight(clipHeight);if(!nav){this.nav=nav=renderer.g().attr({zIndex:1}).add(this.group);this.up=renderer.symbol("triangle",0,0,arrowSize,arrowSize).add(nav);addTracker("upTracker").on("click",function(){legend.scroll(-1,animation)});this.pager=renderer.text("",15,10).addClass("highcharts-legend-navigation");if(!chart.styledMode){this.pager.css(navOptions.style)}this.pager.add(nav);this.down=renderer.symbol("triangle-down",0,0,arrowSize,arrowSize).add(nav);addTracker("downTracker").on("click",function(){legend.scroll(1,animation)})}legend.scroll(0);legendHeight=spaceHeight}else if(nav){clipToHeight();this.nav=nav.destroy();this.scrollGroup.attr({translateY:1,});this.clipHeight=0}return legendHeight};Legend.prototype.scroll=function(scrollBy,animation){var _this=this;var chart=this.chart,pages=this.pages,pageCount=pages.length,clipHeight=this.clipHeight,navOptions=this.options.navigation,pager=this.pager,padding=this.padding;var currentPage=this.currentPage+scrollBy;if(currentPage>pageCount){currentPage=pageCount}if(currentPage>0){if(typeof animation!=="undefined"){setAnimation(animation,chart)}this.nav.attr({translateX:padding,translateY:clipHeight+this.padding+7+this.titleHeight,visibility:"visible",});[this.up,this.upTracker].forEach(function(elem){elem.attr({class:currentPage===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active",})});pager.attr({text:currentPage+"/"+pageCount,});[this.down,this.downTracker].forEach(function(elem){elem.attr({x:18+this.pager.getBBox().width,class:currentPage===pageCount?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active",})},this);if(!chart.styledMode){this.up.attr({fill:currentPage===1?navOptions.inactiveColor:navOptions.activeColor,});this.upTracker.css({cursor:currentPage===1?"default":"pointer",});this.down.attr({fill:currentPage===pageCount?navOptions.inactiveColor:navOptions.activeColor,});this.downTracker.css({cursor:currentPage===pageCount?"default":"pointer",})}this.scrollOffset=-pages[currentPage-1]+this.initialItemY;this.scrollGroup.animate({translateY:this.scrollOffset,});this.currentPage=currentPage;this.positionCheckboxes();var animOptions=animObject(pick(animation,chart.renderer.globalAnimation,true));syncTimeout(function(){fireEvent(_this,"afterScroll",{currentPage:currentPage})},animOptions.duration)}};Legend.prototype.setItemEvents=function(item,legendItem,useHTML){var legend=this,boxWrapper=legend.chart.renderer.boxWrapper,isPoint=item instanceof Point,activeClass="highcharts-legend-"+(isPoint?"point":"series")+"-active",styledMode=legend.chart.styledMode,legendItems=useHTML?[legendItem,item.legendSymbol]:[item.legendGroup];var setOtherItemsState=function(state){legend.allItems.forEach(function(otherItem){if(item!==otherItem){[otherItem].concat(otherItem.linkedSeries||[]).forEach(function(otherItem){otherItem.setState(state,!isPoint)})}})};legendItems.forEach(function(element){if(element){element.on("mouseover",function(){if(item.visible){setOtherItemsState("inactive")}item.setState("hover");if(item.visible){boxWrapper.addClass(activeClass)}if(!styledMode){legendItem.css(legend.options.itemHoverStyle)}}).on("mouseout",function(){if(!legend.chart.styledMode){legendItem.css(merge(item.visible?legend.itemStyle:legend.itemHiddenStyle))}setOtherItemsState("");boxWrapper.removeClass(activeClass);item.setState()}).on("click",function(event){var strLegendItemClick="legendItemClick",fnLegendItemClick=function(){if(item.setVisible){item.setVisible()}setOtherItemsState(item.visible?"inactive":"")};boxWrapper.removeClass(activeClass);event={browserEvent:event,};if(item.firePointEvent){item.firePointEvent(strLegendItemClick,event,fnLegendItemClick)}else{fireEvent(item,strLegendItemClick,event,fnLegendItemClick)}})}})};Legend.prototype.createCheckboxForItem=function(item){var legend=this;item.checkbox=createElement("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:item.selected,defaultChecked:item.selected,},legend.options.itemCheckboxStyle,legend.chart.container);addEvent(item.checkbox,"click",function(event){var target=event.target;fireEvent(item.series||item,"checkboxClick",{checked:target.checked,item:item,},function(){item.select()})})};return Legend})();if(/Trident\/7\.0/.test(win.navigator&&win.navigator.userAgent)||isFirefox){wrap(Legend.prototype,"positionItem",function(proceed,item){var legend=this,runPositionItem=function(){if(item._legendItemPos){proceed.call(legend,item)}};runPositionItem();if(!legend.bubbleLegend){setTimeout(runPositionItem)}})}("");return Legend});_registerModule(_modules,"Core/Series/SeriesRegistry.js",[_modules["Core/Globals.js"],_modules["Core/DefaultOptions.js"],_modules["Core/Series/Point.js"],_modules["Core/Utilities.js"],],function(H,D,Point,U){var defaultOptions=D.defaultOptions;var error=U.error,extendClass=U.extendClass,merge=U.merge;var SeriesRegistry;(function(SeriesRegistry){SeriesRegistry.seriesTypes=H.seriesTypes;function getSeries(chart,options){if(options===void 0){options={}}var optionsChart=chart.options.chart,type=options.type||optionsChart.type||optionsChart.defaultSeriesType||"",SeriesClass=SeriesRegistry.seriesTypes[type];if(!SeriesRegistry){error(17,true,chart,{missingModuleFor:type})}var series=new SeriesClass();if(typeof series.init==="function"){series.init(chart,options)}return series}SeriesRegistry.getSeries=getSeries;function registerSeriesType(seriesType,seriesClass){var defaultPlotOptions=defaultOptions.plotOptions||{},seriesOptions=seriesClass.defaultOptions;if(!seriesClass.prototype.pointClass){seriesClass.prototype.pointClass=Point}seriesClass.prototype.type=seriesType;if(seriesOptions){defaultPlotOptions[seriesType]=seriesOptions}SeriesRegistry.seriesTypes[seriesType]=seriesClass}SeriesRegistry.registerSeriesType=registerSeriesType;function seriesType(type,parent,options,seriesProto,pointProto){var defaultPlotOptions=defaultOptions.plotOptions||{};parent=parent||"";defaultPlotOptions[type]=merge(defaultPlotOptions[parent],options);registerSeriesType(type,extendClass(SeriesRegistry.seriesTypes[parent]||function(){},seriesProto));SeriesRegistry.seriesTypes[type].prototype.type=type;if(pointProto){SeriesRegistry.seriesTypes[type].prototype.pointClass=extendClass(Point,pointProto)}return SeriesRegistry.seriesTypes[type]}SeriesRegistry.seriesType=seriesType})(SeriesRegistry||(SeriesRegistry={}));return SeriesRegistry});_registerModule(_modules,"Core/Chart/Chart.js",[_modules["Core/Animation/AnimationUtilities.js"],_modules["Core/Axis/Axis.js"],_modules["Core/FormatUtilities.js"],_modules["Core/Foundation.js"],_modules["Core/Globals.js"],_modules["Core/Legend/Legend.js"],_modules["Core/MSPointer.js"],_modules["Core/DefaultOptions.js"],_modules["Core/Pointer.js"],_modules["Core/Renderer/RendererRegistry.js"],_modules["Core/Series/SeriesRegistry.js"],_modules["Core/Renderer/SVG/SVGRenderer.js"],_modules["Core/Time.js"],_modules["Core/Utilities.js"],_modules["Core/Renderer/HTML/AST.js"],],function(A,Axis,FormatUtilities,Foundation,H,Legend,MSPointer,D,Pointer,RendererRegistry,SeriesRegistry,SVGRenderer,Time,U,AST){var animate=A.animate,animObject=A.animObject,setAnimation=A.setAnimation;var numberFormat=FormatUtilities.numberFormat;var registerEventOptions=Foundation.registerEventOptions;var charts=H.charts,doc=H.doc,marginNames=H.marginNames,svg=H.svg,win=H.win;var defaultOptions=D.defaultOptions,defaultTime=D.defaultTime;var seriesTypes=SeriesRegistry.seriesTypes;var addEvent=U.addEvent,attr=U.attr,cleanRecursively=U.cleanRecursively,createElement=U.createElement,css=U.css,defined=U.defined,discardElement=U.discardElement,erase=U.erase,error=U.error,extend=U.extend,find=U.find,fireEvent=U.fireEvent,getStyle=U.getStyle,isArray=U.isArray,isFunction=U.isFunction,isNumber=U.isNumber,isObject=U.isObject,isString=U.isString,merge=U.merge,objectEach=U.objectEach,pick=U.pick,pInt=U.pInt,relativeLength=U.relativeLength,removeEvent=U.removeEvent,splat=U.splat,syncTimeout=U.syncTimeout,uniqueKey=U.uniqueKey;var Chart=(function(){function Chart(a,b,c){this.axes=void 0;this.axisOffset=void 0;this.bounds=void 0;this.chartHeight=void 0;this.chartWidth=void 0;this.clipBox=void 0;this.colorCounter=void 0;this.container=void 0;this.eventOptions=void 0;this.index=void 0;this.isResizing=void 0;this.labelCollectors=void 0;this.legend=void 0;this.margin=void 0;this.numberFormatter=void 0;this.options=void 0;this.plotBox=void 0;this.plotHeight=void 0;this.plotLeft=void 0;this.plotTop=void 0;this.plotWidth=void 0;this.pointCount=void 0;this.pointer=void 0;this.renderer=void 0;this.renderTo=void 0;this.series=void 0;this.sharedClips={};this.spacing=void 0;this.spacingBox=void 0;this.symbolCounter=void 0;this.time=void 0;this.titleOffset=void 0;this.userOptions=void 0;this.xAxis=void 0;this.yAxis=void 0;this.getArgs(a,b,c)}Chart.chart=function(a,b,c){return new Chart(a,b,c)};Chart.prototype.getArgs=function(a,b,c){if(isString(a)||a.nodeName){this.renderTo=a;this.init(b,c)}else{this.init(a,b)}};Chart.prototype.init=function(userOptions,callback){var userPlotOptions=userOptions.plotOptions||{};fireEvent(this,"init",{args:arguments},function(){var options=merge(defaultOptions,userOptions);var optionsChart=options.chart;objectEach(options.plotOptions,function(typeOptions,type){if(isObject(typeOptions)){typeOptions.tooltip=(userPlotOptions[type]&&merge(userPlotOptions[type].tooltip))||void 0}});options.tooltip.userOptions=(userOptions.chart&&userOptions.chart.forExport&&userOptions.tooltip.userOptions)||userOptions.tooltip;this.userOptions=userOptions;this.margin=[];this.spacing=[];this.bounds={h:{},v:{}};this.labelCollectors=[];this.callback=callback;this.isResizing=0;this.options=options;this.axes=[];this.series=[];this.time=userOptions.time&&Object.keys(userOptions.time).length?new Time(userOptions.time):H.time;this.numberFormatter=optionsChart.numberFormatter||numberFormat;this.styledMode=optionsChart.styledMode;this.hasCartesianSeries=optionsChart.showAxes;var chart=this;chart.index=charts.length;charts.push(chart);H.chartCount++;registerEventOptions(this,optionsChart);chart.xAxis=[];chart.yAxis=[];chart.pointCount=chart.colorCounter=chart.symbolCounter=0;fireEvent(chart,"afterInit");chart.firstRender()})};Chart.prototype.initSeries=function(options){var chart=this,optionsChart=chart.options.chart,type=options.type||optionsChart.type||optionsChart.defaultSeriesType,SeriesClass=seriesTypes[type];if(!SeriesClass){error(17,true,chart,{missingModuleFor:type})}var series=new SeriesClass();if(typeof series.init==="function"){series.init(chart,options)}return series};Chart.prototype.setSeriesData=function(){this.getSeriesOrderByLinks().forEach(function(series){if(!series.points&&!series.data&&series.enabledDataSorting){series.setData(series.options.data,false)}})};Chart.prototype.getSeriesOrderByLinks=function(){return this.series.concat().sort(function(a,b){if(a.linkedSeries.length||b.linkedSeries.length){return b.linkedSeries.length-a.linkedSeries.length}return 0})};Chart.prototype.orderSeries=function(fromIndex){var series=this.series;for(var i=fromIndex||0,iEnd=series.length;i<iEnd;++i){if(series[i]){series[i].index=i;series[i].name=series[i].getName()}}};Chart.prototype.isInsidePlot=function(plotX,plotY,options){var _a;if(options===void 0){options={}}var _b=this,inverted=_b.inverted,plotBox=_b.plotBox,plotLeft=_b.plotLeft,plotTop=_b.plotTop,scrollablePlotBox=_b.scrollablePlotBox;var scrollLeft=0,scrollTop=0;if(options.visiblePlotOnly&&this.scrollingContainer){(_a=this.scrollingContainer),(scrollLeft=_a.scrollLeft),(scrollTop=_a.scrollTop)}var series=options.series,box=(options.visiblePlotOnly&&scrollablePlotBox)||plotBox,x=options.inverted?plotY:plotX,y=options.inverted?plotX:plotY,e={x:x,y:y,isInsidePlot:true,};if(!options.ignoreX){var xAxis=(series&&(inverted?series.yAxis:series.xAxis))||{pos:plotLeft,len:Infinity,};var chartX=options.paneCoordinates?xAxis.pos+x:plotLeft+x;if(!(chartX>=Math.max(scrollLeft+plotLeft,xAxis.pos)&&chartX<=Math.min(scrollLeft+plotLeft+box.width,xAxis.pos+xAxis.len))){e.isInsidePlot=false}}if(!options.ignoreY&&e.isInsidePlot){var yAxis=(series&&(inverted?series.xAxis:series.yAxis))||{pos:plotTop,len:Infinity,};var chartY=options.paneCoordinates?yAxis.pos+y:plotTop+y;if(!(chartY>=Math.max(scrollTop+plotTop,yAxis.pos)&&chartY<=Math.min(scrollTop+plotTop+box.height,yAxis.pos+yAxis.len))){e.isInsidePlot=false}}fireEvent(this,"afterIsInsidePlot",e);return e.isInsidePlot};Chart.prototype.redraw=function(animation){fireEvent(this,"beforeRedraw");var chart=this,axes=chart.hasCartesianSeries?chart.axes:chart.colorAxis||[],series=chart.series,pointer=chart.pointer,legend=chart.legend,legendUserOptions=chart.userOptions.legend,renderer=chart.renderer,isHiddenChart=renderer.isHidden(),afterRedraw=[];var hasDirtyStacks,hasStackedSeries,i,isDirtyBox=chart.isDirtyBox,redrawLegend=chart.isDirtyLegend,serie;if(chart.setResponsive){chart.setResponsive(false)}setAnimation(chart.hasRendered?animation:false,chart);if(isHiddenChart){chart.temporaryDisplay()}chart.layOutTitles();i=series.length;while(i--){serie=series[i];if(serie.options.stacking||serie.options.centerInCategory){hasStackedSeries=true;if(serie.isDirty){hasDirtyStacks=true;break}}}if(hasDirtyStacks){i=series.length;while(i--){serie=series[i];if(serie.options.stacking){serie.isDirty=true}}}series.forEach(function(serie){if(serie.isDirty){if(serie.options.legendType==="point"){if(typeof serie.updateTotals==="function"){serie.updateTotals()}redrawLegend=true}else if(legendUserOptions&&(legendUserOptions.labelFormatter||legendUserOptions.labelFormat)){redrawLegend=true}}if(serie.isDirtyData){fireEvent(serie,"updatedData")}});if(redrawLegend&&legend&&legend.options.enabled){legend.render();chart.isDirtyLegend=false}if(hasStackedSeries){chart.getStacks()}axes.forEach(function(axis){axis.updateNames();axis.setScale()});chart.getMargins();axes.forEach(function(axis){if(axis.isDirty){isDirtyBox=true}});axes.forEach(function(axis){var key=axis.min+","+axis.max;if(axis.extKey!==key){axis.extKey=key;afterRedraw.push(function(){fireEvent(axis,"afterSetExtremes",extend(axis.eventArgs,axis.getExtremes()));delete axis.eventArgs})}if(isDirtyBox||hasStackedSeries){axis.redraw()}});if(isDirtyBox){chart.drawChartBox()}fireEvent(chart,"predraw");series.forEach(function(serie){if((isDirtyBox||serie.isDirty)&&serie.visible){serie.redraw()}serie.isDirtyData=false});if(pointer){pointer.reset(true)}renderer.draw();fireEvent(chart,"redraw");fireEvent(chart,"render");if(isHiddenChart){chart.temporaryDisplay(true)}afterRedraw.forEach(function(callback){callback.call()})};Chart.prototype.get=function(id){var series=this.series;function itemById(item){return item.id===id||(item.options&&item.options.id===id)}var ret=find(this.axes,itemById)||find(this.series,itemById);for(var i=0;!ret&&i<series.length;i++){ret=find(series[i].points||[],itemById)}return ret};Chart.prototype.getAxes=function(){var chart=this,options=this.options,xAxisOptions=(options.xAxis=splat(options.xAxis||{})),yAxisOptions=(options.yAxis=splat(options.yAxis||{}));fireEvent(this,"getAxes");xAxisOptions.forEach(function(axis,i){axis.index=i;axis.isX=true});yAxisOptions.forEach(function(axis,i){axis.index=i});var optionsArray=xAxisOptions.concat(yAxisOptions);optionsArray.forEach(function(axisOptions){new Axis(chart,axisOptions)});fireEvent(this,"afterGetAxes")};Chart.prototype.getSelectedPoints=function(){return this.series.reduce(function(acc,series){series.getPointsCollection().forEach(function(point){if(pick(point.selectedStaging,point.selected)){acc.push(point)}});return acc},[])};Chart.prototype.getSelectedSeries=function(){return this.series.filter(function(serie){return serie.selected})};Chart.prototype.setTitle=function(titleOptions,subtitleOptions,redraw){this.applyDescription("title",titleOptions);this.applyDescription("subtitle",subtitleOptions);this.applyDescription("caption",void 0);this.layOutTitles(redraw)};Chart.prototype.applyDescription=function(name,explicitOptions){var chart=this;var style=name==="title"?{color:"#333333",fontSize:this.options.isStock?"16px":"18px",}:{color:"#666666",};var options=(this.options[name]=merge(!this.styledMode&&{style:style},this.options[name],explicitOptions));var elem=this[name];if(elem&&explicitOptions){this[name]=elem=elem.destroy()}if(options&&!elem){elem=this.renderer.text(options.text,0,0,options.useHTML).attr({align:options.align,class:"highcharts-"+name,zIndex:options.zIndex||4,}).add();elem.update=function(updateOptions){var fn={title:"setTitle",subtitle:"setSubtitle",caption:"setCaption",}[name];chart[fn](updateOptions)};if(!this.styledMode){elem.css(options.style)}this[name]=elem}};Chart.prototype.layOutTitles=function(redraw){var titleOffset=[0,0,0],renderer=this.renderer,spacingBox=this.spacingBox;["title","subtitle","caption"].forEach(function(key){var title=this[key],titleOptions=this.options[key],verticalAlign=titleOptions.verticalAlign||"top",offset=key==="title"?verticalAlign==="top"?-3:0:verticalAlign==="top"?titleOffset[0]+2:0;var titleSize,height;if(title){if(!this.styledMode){titleSize=titleOptions.style&&titleOptions.style.fontSize}titleSize=renderer.fontMetrics(titleSize,title).b;title.css({width:(titleOptions.width||spacingBox.width+(titleOptions.widthAdjust||0))+"px",});height=Math.round(title.getBBox(titleOptions.useHTML).height);title.align(extend({y:verticalAlign==="bottom"?titleSize:offset+titleSize,height:height,},titleOptions),false,"spacingBox");if(!titleOptions.floating){if(verticalAlign==="top"){titleOffset[0]=Math.ceil(titleOffset[0]+height)}else if(verticalAlign==="bottom"){titleOffset[2]=Math.ceil(titleOffset[2]+height)}}}},this);if(titleOffset[0]&&(this.options.title.verticalAlign||"top")==="top"){titleOffset[0]+=this.options.title.margin}if(titleOffset[2]&&this.options.caption.verticalAlign==="bottom"){titleOffset[2]+=this.options.caption.margin}var requiresDirtyBox=!this.titleOffset||this.titleOffset.join(",")!==titleOffset.join(",");this.titleOffset=titleOffset;fireEvent(this,"afterLayOutTitles");if(!this.isDirtyBox&&requiresDirtyBox){this.isDirtyBox=this.isDirtyLegend=requiresDirtyBox;if(this.hasRendered&&pick(redraw,true)&&this.isDirtyBox){this.redraw()}}};Chart.prototype.getChartSize=function(){var chart=this,optionsChart=chart.options.chart,widthOption=optionsChart.width,heightOption=optionsChart.height,renderTo=chart.renderTo;if(!defined(widthOption)){chart.containerWidth=getStyle(renderTo,"width")}if(!defined(heightOption)){chart.containerHeight=getStyle(renderTo,"height")}chart.chartWidth=Math.max(0,widthOption||chart.containerWidth||600);chart.chartHeight=Math.max(0,relativeLength(heightOption,chart.chartWidth)||(chart.containerHeight>1?chart.containerHeight:400))};Chart.prototype.temporaryDisplay=function(revert){var node=this.renderTo,tempStyle;if(!revert){while(node&&node.style){if(!doc.body.contains(node)&&!node.parentNode){node.hcOrigDetached=true;doc.body.appendChild(node)}if(getStyle(node,"display",false)==="none"||node.hcOricDetached){node.hcOrigStyle={display:node.style.display,height:node.style.height,overflow:node.style.overflow,};tempStyle={display:"block",overflow:"hidden",};if(node!==this.renderTo){tempStyle.height=0}css(node,tempStyle);if(!node.offsetWidth){node.style.setProperty("display","block","important")}}node=node.parentNode;if(node===doc.body){break}}}else{while(node&&node.style){if(node.hcOrigStyle){css(node,node.hcOrigStyle);delete node.hcOrigStyle}if(node.hcOrigDetached){doc.body.removeChild(node);node.hcOrigDetached=false}node=node.parentNode}}};Chart.prototype.setClassName=function(className){this.container.className="highcharts-container "+(className||"")};Chart.prototype.getContainer=function(){var chart=this,options=chart.options,optionsChart=options.chart,indexAttrName="data-highcharts-chart",containerId=uniqueKey();var containerStyle,renderTo=chart.renderTo;if(!renderTo){chart.renderTo=renderTo=optionsChart.renderTo}if(isString(renderTo)){chart.renderTo=renderTo=doc.getElementById(renderTo)}if(!renderTo){error(13,true,chart)}var oldChartIndex=pInt(attr(renderTo,indexAttrName));if(isNumber(oldChartIndex)&&charts[oldChartIndex]&&charts[oldChartIndex].hasRendered){charts[oldChartIndex].destroy()}attr(renderTo,indexAttrName,chart.index);renderTo.innerHTML="";if(!optionsChart.skipClone&&!renderTo.offsetWidth){chart.temporaryDisplay()}chart.getChartSize();var chartWidth=chart.chartWidth;var chartHeight=chart.chartHeight;css(renderTo,{overflow:"hidden"});if(!chart.styledMode){containerStyle=extend({position:"relative",overflow:"hidden",width:chartWidth+"px",height:chartHeight+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none",},optionsChart.style||{})}var container=createElement("div",{id:containerId,},containerStyle,renderTo);chart.container=container;chart._cursor=container.style.cursor;var Renderer=optionsChart.renderer||!svg?RendererRegistry.getRendererType(optionsChart.renderer):SVGRenderer;chart.renderer=new Renderer(container,chartWidth,chartHeight,void 0,optionsChart.forExport,options.exporting&&options.exporting.allowHTML,chart.styledMode);setAnimation(void 0,chart);chart.setClassName(optionsChart.className);if(!chart.styledMode){chart.renderer.setStyle(optionsChart.style)}else{for(var key in options.defs){this.renderer.definition(options.defs[key])}}chart.renderer.chartIndex=chart.index;fireEvent(this,"afterGetContainer")};Chart.prototype.getMargins=function(skipAxes){var _a=this,spacing=_a.spacing,margin=_a.margin,titleOffset=_a.titleOffset;this.resetMargins();if(titleOffset[0]&&!defined(margin[0])){this.plotTop=Math.max(this.plotTop,titleOffset[0]+spacing[0])}if(titleOffset[2]&&!defined(margin[2])){this.marginBottom=Math.max(this.marginBottom,titleOffset[2]+spacing[2])}if(this.legend&&this.legend.display){this.legend.adjustMargins(margin,spacing)}fireEvent(this,"getMargins");if(!skipAxes){this.getAxisMargins()}};Chart.prototype.getAxisMargins=function(){var chart=this,axisOffset=(chart.axisOffset=[0,0,0,0]),colorAxis=chart.colorAxis,margin=chart.margin,getOffset=function(axes){axes.forEach(function(axis){if(axis.visible){axis.getOffset()}})};if(chart.hasCartesianSeries){getOffset(chart.axes)}else if(colorAxis&&colorAxis.length){getOffset(colorAxis)}marginNames.forEach(function(m,side){if(!defined(margin[side])){chart[m]+=axisOffset[side]}});chart.setChartSize()};Chart.prototype.reflow=function(e){var chart=this,optionsChart=chart.options.chart,renderTo=chart.renderTo,hasUserSize=defined(optionsChart.width)&&defined(optionsChart.height),width=optionsChart.width||getStyle(renderTo,"width"),height=optionsChart.height||getStyle(renderTo,"height"),target=e?e.target:win;delete chart.pointer.chartPosition;if(!hasUserSize&&!chart.isPrinting&&width&&height&&(target===win||target===doc)){if(width!==chart.containerWidth||height!==chart.containerHeight){U.clearTimeout(chart.reflowTimeout);chart.reflowTimeout=syncTimeout(function(){if(chart.container){chart.setSize(void 0,void 0,false)}},e?100:0)}chart.containerWidth=width;chart.containerHeight=height}};Chart.prototype.setReflow=function(reflow){var chart=this;if(reflow!==false&&!this.unbindReflow){this.unbindReflow=addEvent(win,"resize",function(e){if(chart.options){chart.reflow(e)}});addEvent(this,"destroy",this.unbindReflow)}else if(reflow===false&&this.unbindReflow){this.unbindReflow=this.unbindReflow()}};Chart.prototype.setSize=function(width,height,animation){var chart=this,renderer=chart.renderer;chart.isResizing+=1;setAnimation(animation,chart);var globalAnimation=renderer.globalAnimation;chart.oldChartHeight=chart.chartHeight;chart.oldChartWidth=chart.chartWidth;if(typeof width!=="undefined"){chart.options.chart.width=width}if(typeof height!=="undefined"){chart.options.chart.height=height}chart.getChartSize();if(!chart.styledMode){(globalAnimation?animate:css)(chart.container,{width:chart.chartWidth+"px",height:chart.chartHeight+"px",},globalAnimation)}chart.setChartSize(true);renderer.setSize(chart.chartWidth,chart.chartHeight,globalAnimation);chart.axes.forEach(function(axis){axis.isDirty=true;axis.setScale()});chart.isDirtyLegend=true;chart.isDirtyBox=true;chart.layOutTitles();chart.getMargins();chart.redraw(globalAnimation);chart.oldChartHeight=null;fireEvent(chart,"resize");syncTimeout(function(){if(chart){fireEvent(chart,"endResize",null,function(){chart.isResizing-=1})}},animObject(globalAnimation).duration)};Chart.prototype.setChartSize=function(skipAxes){var chart=this,inverted=chart.inverted,renderer=chart.renderer,chartWidth=chart.chartWidth,chartHeight=chart.chartHeight,optionsChart=chart.options.chart,spacing=chart.spacing,clipOffset=chart.clipOffset;var plotLeft,plotTop,plotWidth,plotHeight;chart.plotLeft=plotLeft=Math.round(chart.plotLeft);chart.plotTop=plotTop=Math.round(chart.plotTop);chart.plotWidth=plotWidth=Math.max(0,Math.round(chartWidth-plotLeft-chart.marginRight));chart.plotHeight=plotHeight=Math.max(0,Math.round(chartHeight-plotTop-chart.marginBottom));chart.plotSizeX=inverted?plotHeight:plotWidth;chart.plotSizeY=inverted?plotWidth:plotHeight;chart.plotBorderWidth=optionsChart.plotBorderWidth||0;chart.spacingBox=renderer.spacingBox={x:spacing[3],y:spacing[0],width:chartWidth-spacing[3]-spacing[1],height:chartHeight-spacing[0]-spacing[2],};chart.plotBox=renderer.plotBox={x:plotLeft,y:plotTop,width:plotWidth,height:plotHeight,};var plotBorderWidth=2*Math.floor(chart.plotBorderWidth/2),clipX=Math.ceil(Math.max(plotBorderWidth,clipOffset[3])/2),clipY=Math.ceil(Math.max(plotBorderWidth,clipOffset[0])/2);chart.clipBox={x:clipX,y:clipY,width:Math.floor(chart.plotSizeX-Math.max(plotBorderWidth,clipOffset[1])/2-clipX),height:Math.max(0,Math.floor(chart.plotSizeY-Math.max(plotBorderWidth,clipOffset[2])/2-clipY)),};if(!skipAxes){chart.axes.forEach(function(axis){axis.setAxisSize();axis.setAxisTranslation()});renderer.alignElements()}fireEvent(chart,"afterSetChartSize",{skipAxes:skipAxes})};Chart.prototype.resetMargins=function(){fireEvent(this,"resetMargins");var chart=this,chartOptions=chart.options.chart;["margin","spacing"].forEach(function splashArrays(target){var value=chartOptions[target],values=isObject(value)?value:[value,value,value,value];["Top","Right","Bottom","Left"].forEach(function(sideName,side){chart[target][side]=pick(chartOptions[target+sideName],values[side])})});marginNames.forEach(function(m,side){chart[m]=pick(chart.margin[side],chart.spacing[side])});chart.axisOffset=[0,0,0,0];chart.clipOffset=[0,0,0,0]};Chart.prototype.drawChartBox=function(){var chart=this,optionsChart=chart.options.chart,renderer=chart.renderer,chartWidth=chart.chartWidth,chartHeight=chart.chartHeight,styledMode=chart.styledMode,plotBGImage=chart.plotBGImage,chartBackgroundColor=optionsChart.backgroundColor,plotBackgroundColor=optionsChart.plotBackgroundColor,plotBackgroundImage=optionsChart.plotBackgroundImage,plotLeft=chart.plotLeft,plotTop=chart.plotTop,plotWidth=chart.plotWidth,plotHeight=chart.plotHeight,plotBox=chart.plotBox,clipRect=chart.clipRect,clipBox=chart.clipBox;var chartBackground=chart.chartBackground,plotBackground=chart.plotBackground,plotBorder=chart.plotBorder,chartBorderWidth,mgn,bgAttr,verb="animate";if(!chartBackground){chart.chartBackground=chartBackground=renderer.rect().addClass("highcharts-background").add();verb="attr"}if(!styledMode){chartBorderWidth=optionsChart.borderWidth||0;mgn=chartBorderWidth+(optionsChart.shadow?8:0);bgAttr={fill:chartBackgroundColor||"none",};if(chartBorderWidth||chartBackground["stroke-width"]){bgAttr.stroke=optionsChart.borderColor;bgAttr["stroke-width"]=chartBorderWidth}chartBackground.attr(bgAttr).shadow(optionsChart.shadow)}else{chartBorderWidth=mgn=chartBackground.strokeWidth()}chartBackground[verb]({x:mgn/2,y:mgn/2,width:chartWidth-mgn-(chartBorderWidth%2),height:chartHeight-mgn-(chartBorderWidth%2),r:optionsChart.borderRadius,});verb="animate";if(!plotBackground){verb="attr";chart.plotBackground=plotBackground=renderer.rect().addClass("highcharts-plot-background").add()}plotBackground[verb](plotBox);if(!styledMode){plotBackground.attr({fill:plotBackgroundColor||"none",}).shadow(optionsChart.plotShadow);if(plotBackgroundImage){if(!plotBGImage){chart.plotBGImage=renderer.image(plotBackgroundImage,plotLeft,plotTop,plotWidth,plotHeight).add()}else{if(plotBackgroundImage!==plotBGImage.attr("href")){plotBGImage.attr("href",plotBackgroundImage)}plotBGImage.animate(plotBox)}}}if(!clipRect){chart.clipRect=renderer.clipRect(clipBox)}else{clipRect.animate({width:clipBox.width,height:clipBox.height,})}verb="animate";if(!plotBorder){verb="attr";chart.plotBorder=plotBorder=renderer.rect().addClass("highcharts-plot-border").attr({zIndex:1,}).add()}if(!styledMode){plotBorder.attr({stroke:optionsChart.plotBorderColor,"stroke-width":optionsChart.plotBorderWidth||0,fill:"none",})}plotBorder[verb](plotBorder.crisp({x:plotLeft,y:plotTop,width:plotWidth,height:plotHeight,},-plotBorder.strokeWidth()));chart.isDirtyBox=false;fireEvent(this,"afterDrawChartBox")};Chart.prototype.propFromSeries=function(){var chart=this,optionsChart=chart.options.chart,seriesOptions=chart.options.series;var i,klass,value;["inverted","angular","polar"].forEach(function(key){klass=seriesTypes[optionsChart.type||optionsChart.defaultSeriesType];value=optionsChart[key]||(klass&&klass.prototype[key]);i=seriesOptions&&seriesOptions.length;while(!value&&i--){klass=seriesTypes[seriesOptions[i].type];if(klass&&klass.prototype[key]){value=true}}chart[key]=value})};Chart.prototype.linkSeries=function(){var chart=this,chartSeries=chart.series;chartSeries.forEach(function(series){series.linkedSeries.length=0});chartSeries.forEach(function(series){var linkedTo=series.options.linkedTo;if(isString(linkedTo)){if(linkedTo===":previous"){linkedTo=chart.series[series.index-1]}else{linkedTo=chart.get(linkedTo)}if(linkedTo&&linkedTo.linkedParent!==series){linkedTo.linkedSeries.push(series);series.linkedParent=linkedTo;if(linkedTo.enabledDataSorting){series.setDataSortingOptions()}series.visible=pick(series.options.visible,linkedTo.options.visible,series.visible)}}});fireEvent(this,"afterLinkSeries")};Chart.prototype.renderSeries=function(){this.series.forEach(function(serie){serie.translate();serie.render()})};Chart.prototype.renderLabels=function(){var chart=this,labels=chart.options.labels;if(labels.items){labels.items.forEach(function(label){var style=extend(labels.style,label.style),x=pInt(style.left)+chart.plotLeft,y=pInt(style.top)+chart.plotTop+12;delete style.left;delete style.top;chart.renderer.text(label.html,x,y).attr({zIndex:2}).css(style).add()})}};Chart.prototype.render=function(){var chart=this,axes=chart.axes,colorAxis=chart.colorAxis,renderer=chart.renderer,options=chart.options,renderAxes=function(axes){axes.forEach(function(axis){if(axis.visible){axis.render()}})};var correction=0;chart.setTitle();chart.legend=new Legend(chart,options.legend);if(chart.getStacks){chart.getStacks()}chart.getMargins(true);chart.setChartSize();var tempWidth=chart.plotWidth;axes.some(function(axis){if(axis.horiz&&axis.visible&&axis.options.labels.enabled&&axis.series.length){correction=21;return true}});chart.plotHeight=Math.max(chart.plotHeight-correction,0);var tempHeight=chart.plotHeight;axes.forEach(function(axis){axis.setScale()});chart.getAxisMargins();var redoHorizontal=tempWidth/chart.plotWidth>1.1;var redoVertical=tempHeight/chart.plotHeight>1.05;if(redoHorizontal||redoVertical){axes.forEach(function(axis){if((axis.horiz&&redoHorizontal)||(!axis.horiz&&redoVertical)){axis.setTickInterval(true)}});chart.getMargins()}chart.drawChartBox();if(chart.hasCartesianSeries){renderAxes(axes)}else if(colorAxis&&colorAxis.length){renderAxes(colorAxis)}if(!chart.seriesGroup){chart.seriesGroup=renderer.g("series-group").attr({zIndex:3}).add()}chart.renderSeries();chart.renderLabels();chart.addCredits();if(chart.setResponsive){chart.setResponsive()}chart.hasRendered=true};Chart.prototype.addCredits=function(credits){var chart=this,creds=merge(true,this.options.credits,credits);if(creds.enabled&&!this.credits){this.credits=this.renderer.text(creds.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){if(creds.href){win.location.href=creds.href}}).attr({align:creds.position.align,zIndex:8,});if(!chart.styledMode){this.credits.css(creds.style)}this.credits.add().align(creds.position);this.credits.update=function(options){chart.credits=chart.credits.destroy();chart.addCredits(options)}}};Chart.prototype.destroy=function(){var chart=this,axes=chart.axes,series=chart.series,container=chart.container,parentNode=container&&container.parentNode;var i;fireEvent(chart,"destroy");if(chart.renderer.forExport){erase(charts,chart)}else{charts[chart.index]=void 0}H.chartCount--;chart.renderTo.removeAttribute("data-highcharts-chart");removeEvent(chart);i=axes.length;while(i--){axes[i]=axes[i].destroy()}if(this.scroller&&this.scroller.destroy){this.scroller.destroy()}i=series.length;while(i--){series[i]=series[i].destroy()}["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer",].forEach(function(name){var prop=chart[name];if(prop&&prop.destroy){chart[name]=prop.destroy()}});if(container){container.innerHTML="";removeEvent(container);if(parentNode){discardElement(container)}}objectEach(chart,function(val,key){delete chart[key]})};Chart.prototype.firstRender=function(){var chart=this,options=chart.options;if(chart.isReadyToRender&&!chart.isReadyToRender()){return}chart.getContainer();chart.resetMargins();chart.setChartSize();chart.propFromSeries();chart.getAxes();(isArray(options.series)?options.series:[]).forEach(function(serieOptions){chart.initSeries(serieOptions)});chart.linkSeries();chart.setSeriesData();fireEvent(chart,"beforeRender");if(Pointer){if(MSPointer.isRequired()){chart.pointer=new MSPointer(chart,options)}else{chart.pointer=new Pointer(chart,options)}}chart.render();chart.pointer.getChartPosition();if(!chart.renderer.imgCount&&!chart.hasLoaded){chart.onload()}chart.temporaryDisplay(true)};Chart.prototype.onload=function(){this.callbacks.concat([this.callback]).forEach(function(fn){if(fn&&typeof this.index!=="undefined"){fn.apply(this,[this])}},this);fireEvent(this,"load");fireEvent(this,"render");if(defined(this.index)){this.setReflow(this.options.chart.reflow)}this.hasLoaded=true};Chart.prototype.addSeries=function(options,redraw,animation){var chart=this;var series;if(options){redraw=pick(redraw,true);fireEvent(chart,"addSeries",{options:options},function(){series=chart.initSeries(options);chart.isDirtyLegend=true;chart.linkSeries();if(series.enabledDataSorting){series.setData(options.data,false)}fireEvent(chart,"afterAddSeries",{series:series});if(redraw){chart.redraw(animation)}})}return series};Chart.prototype.addAxis=function(options,isX,redraw,animation){return this.createAxis(isX?"xAxis":"yAxis",{axis:options,redraw:redraw,animation:animation,})};Chart.prototype.addColorAxis=function(options,redraw,animation){return this.createAxis("colorAxis",{axis:options,redraw:redraw,animation:animation,})};Chart.prototype.createAxis=function(type,options){var axis=new Axis(this,merge(options.axis,{index:this[type].length,isX:type==="xAxis",}));if(pick(options.redraw,true)){this.redraw(options.animation)}return axis};Chart.prototype.showLoading=function(str){var chart=this,options=chart.options,loadingOptions=options.loading,setLoadingSize=function(){if(loadingDiv){css(loadingDiv,{left:chart.plotLeft+"px",top:chart.plotTop+"px",width:chart.plotWidth+"px",height:chart.plotHeight+"px",})}};var loadingDiv=chart.loadingDiv,loadingSpan=chart.loadingSpan;if(!loadingDiv){chart.loadingDiv=loadingDiv=createElement("div",{className:"highcharts-loading highcharts-loading-hidden",},null,chart.container)}if(!loadingSpan){chart.loadingSpan=loadingSpan=createElement("span",{className:"highcharts-loading-inner"},null,loadingDiv);addEvent(chart,"redraw",setLoadingSize)}loadingDiv.className="highcharts-loading";AST.setElementHTML(loadingSpan,pick(str,options.lang.loading,""));if(!chart.styledMode){css(loadingDiv,extend(loadingOptions.style,{zIndex:10,}));css(loadingSpan,loadingOptions.labelStyle);if(!chart.loadingShown){css(loadingDiv,{opacity:0,display:"",});animate(loadingDiv,{opacity:loadingOptions.style.opacity||0.5,},{duration:loadingOptions.showDuration||0,})}}chart.loadingShown=true;setLoadingSize()};Chart.prototype.hideLoading=function(){var options=this.options,loadingDiv=this.loadingDiv;if(loadingDiv){loadingDiv.className="highcharts-loading highcharts-loading-hidden";if(!this.styledMode){animate(loadingDiv,{opacity:0,},{duration:options.loading.hideDuration||100,complete:function(){css(loadingDiv,{display:"none"})},})}}this.loadingShown=false};Chart.prototype.update=function(options,redraw,oneToOne,animation){var chart=this,adders={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption",},isResponsiveOptions=options.isResponsiveOptions,itemsForRemoval=[];var updateAllAxes,updateAllSeries,runSetSize;fireEvent(chart,"update",{options:options});if(!isResponsiveOptions){chart.setResponsive(false,true)}options=cleanRecursively(options,chart.options);chart.userOptions=merge(chart.userOptions,options);var optionsChart=options.chart;if(optionsChart){merge(true,chart.options.chart,optionsChart);if("className"in optionsChart){chart.setClassName(optionsChart.className)}if("reflow"in optionsChart){chart.setReflow(optionsChart.reflow)}if("inverted"in optionsChart||"polar"in optionsChart||"type"in optionsChart){chart.propFromSeries();updateAllAxes=true}if("alignTicks"in optionsChart){updateAllAxes=true}if("events"in optionsChart){registerEventOptions(this,optionsChart)}objectEach(optionsChart,function(val,key){if(chart.propsRequireUpdateSeries.indexOf("chart."+key)!==-1){updateAllSeries=true}if(chart.propsRequireDirtyBox.indexOf(key)!==-1){chart.isDirtyBox=true}if(chart.propsRequireReflow.indexOf(key)!==-1){if(isResponsiveOptions){chart.isDirtyBox=true}else{runSetSize=true}}});if(!chart.styledMode&&optionsChart.style){chart.renderer.setStyle(chart.options.chart.style||{})}}if(!chart.styledMode&&options.colors){this.options.colors=options.colors}if(options.time){if(this.time===defaultTime){this.time=new Time(options.time)}merge(true,chart.options.time,options.time)}objectEach(options,function(val,key){if(chart[key]&&typeof chart[key].update==="function"){chart[key].update(val,false)}else if(typeof chart[adders[key]]==="function"){chart[adders[key]](val)}else if(key!=="colors"&&chart.collectionsWithUpdate.indexOf(key)===-1){merge(true,chart.options[key],options[key])}if(key!=="chart"&&chart.propsRequireUpdateSeries.indexOf(key)!==-1){updateAllSeries=true}});this.collectionsWithUpdate.forEach(function(coll){var indexMap;if(options[coll]){indexMap=[];chart[coll].forEach(function(s,i){if(!s.options.isInternal){indexMap.push(pick(s.options.index,i))}});splat(options[coll]).forEach(function(newOptions,i){var hasId=defined(newOptions.id);var item;if(hasId){item=chart.get(newOptions.id)}if(!item&&chart[coll]){item=chart[coll][indexMap?indexMap[i]:i];if(item&&hasId&&defined(item.options.id)){item=void 0}}if(item&&item.coll===coll){item.update(newOptions,false);if(oneToOne){item.touched=true}}if(!item&&oneToOne&&chart.collectionsWithInit[coll]){chart.collectionsWithInit[coll][0].apply(chart,[newOptions].concat(chart.collectionsWithInit[coll][1]||[]).concat([false])).touched=true}});if(oneToOne){chart[coll].forEach(function(item){if(!item.touched&&!item.options.isInternal){itemsForRemoval.push(item)}else{delete item.touched}})}}});itemsForRemoval.forEach(function(item){if(item.chart&&item.remove){item.remove(false)}});if(updateAllAxes){chart.axes.forEach(function(axis){axis.update({},false)})}if(updateAllSeries){chart.getSeriesOrderByLinks().forEach(function(series){if(series.chart){series.update({},false)}},this)}var newWidth=optionsChart&&optionsChart.width;var newHeight=optionsChart&&(isString(optionsChart.height)?relativeLength(optionsChart.height,newWidth||chart.chartWidth):optionsChart.height);if(runSetSize||(isNumber(newWidth)&&newWidth!==chart.chartWidth)||(isNumber(newHeight)&&newHeight!==chart.chartHeight)){chart.setSize(newWidth,newHeight,animation)}else if(pick(redraw,true)){chart.redraw(animation)}fireEvent(chart,"afterUpdate",{options:options,redraw:redraw,animation:animation,})};Chart.prototype.setSubtitle=function(options,redraw){this.applyDescription("subtitle",options);this.layOutTitles(redraw)};Chart.prototype.setCaption=function(options,redraw){this.applyDescription("caption",options);this.layOutTitles(redraw)};Chart.prototype.showResetZoom=function(){var chart=this,lang=defaultOptions.lang,btnOptions=chart.options.chart.resetZoomButton,theme=btnOptions.theme,states=theme.states,alignTo=btnOptions.relativeTo==="chart"||btnOptions.relativeTo==="spacingBox"?null:"scrollablePlotBox";function zoomOut(){chart.zoomOut()}fireEvent(this,"beforeShowResetZoom",null,function(){chart.resetZoomButton=chart.renderer.button(lang.resetZoom,null,null,zoomOut,theme,states&&states.hover).attr({align:btnOptions.position.align,title:lang.resetZoomTitle,}).addClass("highcharts-reset-zoom").add().align(btnOptions.position,false,alignTo)});fireEvent(this,"afterShowResetZoom")};Chart.prototype.zoomOut=function(){fireEvent(this,"selection",{resetSelection:true},this.zoom)};Chart.prototype.zoom=function(event){var chart=this,pointer=chart.pointer,mouseDownPos=chart.inverted?pointer.mouseDownX:pointer.mouseDownY;var displayButton=false,hasZoomed;if(!event||event.resetSelection){chart.axes.forEach(function(axis){hasZoomed=axis.zoom()});pointer.initiated=false}else{event.xAxis.concat(event.yAxis).forEach(function(axisData){var axis=axisData.axis,axisStartPos=chart.inverted?axis.left:axis.top,axisEndPos=chart.inverted?axisStartPos+axis.width:axisStartPos+axis.height,isXAxis=axis.isXAxis;var isWithinPane=false;if((!isXAxis&&mouseDownPos>=axisStartPos&&mouseDownPos<=axisEndPos)||isXAxis||!defined(mouseDownPos)){isWithinPane=true}if(pointer[isXAxis?"zoomX":"zoomY"]&&isWithinPane){hasZoomed=axis.zoom(axisData.min,axisData.max);if(axis.displayBtn){displayButton=true}}})}var resetZoomButton=chart.resetZoomButton;if(displayButton&&!resetZoomButton){chart.showResetZoom()}else if(!displayButton&&isObject(resetZoomButton)){chart.resetZoomButton=resetZoomButton.destroy()}if(hasZoomed){chart.redraw(pick(chart.options.chart.animation,event&&event.animation,chart.pointCount<100))}};Chart.prototype.pan=function(e,panning){var chart=this,hoverPoints=chart.hoverPoints,panningOptions=typeof panning==="object"?panning:{enabled:panning,type:"x",},chartOptions=chart.options.chart,hasMapNavigation=chart.options.mapNavigation&&chart.options.mapNavigation.enabled;if(chartOptions&&chartOptions.panning){chartOptions.panning=panningOptions}var type=panningOptions.type;var doRedraw;fireEvent(this,"pan",{originalEvent:e},function(){if(hoverPoints){hoverPoints.forEach(function(point){point.setState()})}var axes=chart.xAxis;if(type==="xy"){axes=axes.concat(chart.yAxis)}else if(type==="y"){axes=chart.yAxis}var nextMousePos={};axes.forEach(function(axis){if(!axis.options.panningEnabled||axis.options.isInternal){return}var horiz=axis.horiz,mousePos=e[horiz?"chartX":"chartY"],mouseDown=horiz?"mouseDownX":"mouseDownY",startPos=chart[mouseDown],halfPointRange=axis.minPointOffset||0,pointRangeDirection=(axis.reversed&&!chart.inverted)||(!axis.reversed&&chart.inverted)?-1:1,extremes=axis.getExtremes(),panMin=axis.toValue(startPos-mousePos,true)+halfPointRange*pointRangeDirection,panMax=axis.toValue(startPos+axis.len-mousePos,true)-(halfPointRange*pointRangeDirection||(axis.isXAxis&&axis.pointRangePadding)||0),flipped=panMax<panMin,hasVerticalPanning=axis.hasVerticalPanning();var newMin=flipped?panMax:panMin,newMax=flipped?panMin:panMax,panningState=axis.panningState,spill;if(hasVerticalPanning&&!axis.isXAxis&&(!panningState||panningState.isDirty)){axis.series.forEach(function(series){var processedData=series.getProcessedData(true),dataExtremes=series.getExtremes(processedData.yData,true);if(!panningState){panningState={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE,}}if(isNumber(dataExtremes.dataMin)&&isNumber(dataExtremes.dataMax)){panningState.startMin=Math.min(pick(series.options.threshold,Infinity),dataExtremes.dataMin,panningState.startMin);panningState.startMax=Math.max(pick(series.options.threshold,-Infinity),dataExtremes.dataMax,panningState.startMax)}})}var paddedMin=Math.min(pick(panningState&&panningState.startMin,extremes.dataMin),halfPointRange?extremes.min:axis.toValue(axis.toPixels(extremes.min)-axis.minPixelPadding));var paddedMax=Math.max(pick(panningState&&panningState.startMax,extremes.dataMax),halfPointRange?extremes.max:axis.toValue(axis.toPixels(extremes.max)+axis.minPixelPadding));axis.panningState=panningState;if(!axis.isOrdinal){spill=paddedMin-newMin;if(spill>0){newMax+=spill;newMin=paddedMin}spill=newMax-paddedMax;if(spill>0){newMax=paddedMax;newMin-=spill}if(axis.series.length&&newMin!==extremes.min&&newMax!==extremes.max&&newMin>=paddedMin&&newMax<=paddedMax){axis.setExtremes(newMin,newMax,false,false,{trigger:"pan",});if(!chart.resetZoomButton&&!hasMapNavigation&&newMin!==paddedMin&&newMax!==paddedMax&&type.match("y")){chart.showResetZoom();axis.displayBtn=false}doRedraw=true}nextMousePos[mouseDown]=mousePos}});objectEach(nextMousePos,function(pos,down){chart[down]=pos});if(doRedraw){chart.redraw(false)}css(chart.container,{cursor:"move"})})};return Chart})();extend(Chart.prototype,{callbacks:[],collectionsWithInit:{xAxis:[Chart.prototype.addAxis,[true]],yAxis:[Chart.prototype.addAxis,[false]],series:[Chart.prototype.addSeries],},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow",],propsRequireReflow:["margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft",],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","time","tooltip",],});("");return Chart});_registerModule(_modules,"Core/Legend/LegendSymbol.js",[_modules["Core/Utilities.js"]],function(U){var merge=U.merge,pick=U.pick;var LegendSymbol;(function(LegendSymbol){function drawLineMarker(legend){var options=this.options,symbolWidth=legend.symbolWidth,symbolHeight=legend.symbolHeight,generalRadius=symbolHeight/2,renderer=this.chart.renderer,legendItemGroup=this.legendGroup,verticalCenter=legend.baseline-Math.round(legend.fontMetrics.b*0.3);var attr={},legendSymbol,markerOptions=options.marker;if(!this.chart.styledMode){attr={"stroke-width":options.lineWidth||0,};if(options.dashStyle){attr.dashstyle=options.dashStyle}}this.legendLine=renderer.path([["M",0,verticalCenter],["L",symbolWidth,verticalCenter],]).addClass("highcharts-graph").attr(attr).add(legendItemGroup);if(markerOptions&&markerOptions.enabled!==false&&symbolWidth){var radius=Math.min(pick(markerOptions.radius,generalRadius),generalRadius);if(this.symbol.indexOf("url")===0){markerOptions=merge(markerOptions,{width:symbolHeight,height:symbolHeight,});radius=0}this.legendSymbol=legendSymbol=renderer.symbol(this.symbol,symbolWidth/2-radius,verticalCenter-radius,2*radius,2*radius,markerOptions).addClass("highcharts-point").add(legendItemGroup);legendSymbol.isMarker=true}}LegendSymbol.drawLineMarker=drawLineMarker;function drawRectangle(legend,item){var options=legend.options,symbolHeight=legend.symbolHeight,square=options.squareSymbol,symbolWidth=square?symbolHeight:legend.symbolWidth;item.legendSymbol=this.chart.renderer.rect(square?(legend.symbolWidth-symbolHeight)/2:0,legend.baseline-symbolHeight+1,symbolWidth,symbolHeight,pick(legend.options.symbolRadius,symbolHeight/2)).addClass("highcharts-point").attr({zIndex:3,}).add(item.legendGroup)}LegendSymbol.drawRectangle=drawRectangle})(LegendSymbol||(LegendSymbol={}));return LegendSymbol});_registerModule(_modules,"Core/Series/SeriesDefaults.js",[],function(){var seriesDefaults={lineWidth:2,allowPointSelect:false,crisp:true,showCheckbox:false,animation:{duration:1000,},events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:true,},hover:{animation:{duration:50,},enabled:true,radiusPlus:2,lineWidthPlus:1,},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2,},},},point:{events:{},},dataLabels:{animation:{},align:"center",defer:true,formatter:function(){var numberFormatter=this.series.chart.numberFormatter;return typeof this.y!=="number"?"":numberFormatter(this.y,-1)},padding:5,style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast",},verticalAlign:"bottom",x:0,y:0,},cropThreshold:300,opacity:1,pointRange:0,softThreshold:true,states:{normal:{animation:true,},hover:{animation:{duration:50,},lineWidthPlus:1,marker:{},halo:{size:10,opacity:0.25,},},select:{animation:{duration:0,},},inactive:{animation:{duration:50,},opacity:0.2,},},stickyTracking:true,turboThreshold:1000,findNearestPointBy:"x",};return seriesDefaults});_registerModule(_modules,"Core/Series/Series.js",[_modules["Core/Animation/AnimationUtilities.js"],_modules["Core/DefaultOptions.js"],_modules["Core/Foundation.js"],_modules["Core/Globals.js"],_modules["Core/Legend/LegendSymbol.js"],_modules["Core/Series/Point.js"],_modules["Core/Series/SeriesDefaults.js"],_modules["Core/Series/SeriesRegistry.js"],_modules["Core/Renderer/SVG/SVGElement.js"],_modules["Core/Utilities.js"],],function(A,D,F,H,LegendSymbol,Point,SeriesDefaults,SeriesRegistry,SVGElement,U){var animObject=A.animObject,setAnimation=A.setAnimation;var defaultOptions=D.defaultOptions;var registerEventOptions=F.registerEventOptions;var hasTouch=H.hasTouch,svg=H.svg,win=H.win;var seriesTypes=SeriesRegistry.seriesTypes;var addEvent=U.addEvent,arrayMax=U.arrayMax,arrayMin=U.arrayMin,clamp=U.clamp,cleanRecursively=U.cleanRecursively,correctFloat=U.correctFloat,defined=U.defined,erase=U.erase,error=U.error,extend=U.extend,find=U.find,fireEvent=U.fireEvent,getNestedProperty=U.getNestedProperty,isArray=U.isArray,isNumber=U.isNumber,isString=U.isString,merge=U.merge,objectEach=U.objectEach,pick=U.pick,removeEvent=U.removeEvent,splat=U.splat,syncTimeout=U.syncTimeout;var Series=(function(){function Series(){this._i=void 0;this.chart=void 0;this.data=void 0;this.eventOptions=void 0;this.eventsToUnbind=void 0;this.index=void 0;this.linkedSeries=void 0;this.options=void 0;this.points=void 0;this.processedXData=void 0;this.processedYData=void 0;this.tooltipOptions=void 0;this.userOptions=void 0;this.xAxis=void 0;this.yAxis=void 0;this.zones=void 0}Series.prototype.init=function(chart,userOptions){fireEvent(this,"init",{options:userOptions});var series=this,chartSeries=chart.series;this.eventsToUnbind=[];series.chart=chart;series.options=series.setOptions(userOptions);var options=series.options;series.linkedSeries=[];series.bindAxes();extend(series,{name:options.name,state:"",visible:options.visible!==false,selected:options.selected===true,});registerEventOptions(this,options);var events=options.events;if((events&&events.click)||(options.point&&options.point.events&&options.point.events.click)||options.allowPointSelect){chart.runTrackerClick=true}series.getColor();series.getSymbol();series.parallelArrays.forEach(function(key){if(!series[key+"Data"]){series[key+"Data"]=[]}});if(series.isCartesian){chart.hasCartesianSeries=true}var lastSeries;if(chartSeries.length){lastSeries=chartSeries[chartSeries.length-1]}series._i=pick(lastSeries&&lastSeries._i,-1)+1;series.opacity=series.options.opacity;chart.orderSeries(this.insert(chartSeries));if(options.dataSorting&&options.dataSorting.enabled){series.setDataSortingOptions()}else if(!series.points&&!series.data){series.setData(options.data,false)}fireEvent(this,"afterInit")};Series.prototype.is=function(type){return seriesTypes[type]&&this instanceof seriesTypes[type]};Series.prototype.insert=function(collection){var indexOption=this.options.index;var i;if(isNumber(indexOption)){i=collection.length;while(i--){if(indexOption>=pick(collection[i].options.index,collection[i]._i)){collection.splice(i+1,0,this);break}}if(i===-1){collection.unshift(this)}i=i+1}else{collection.push(this)}return pick(i,collection.length-1)};Series.prototype.bindAxes=function(){var series=this,seriesOptions=series.options,chart=series.chart;var axisOptions;fireEvent(this,"bindAxes",null,function(){(series.axisTypes||[]).forEach(function(AXIS){var index=0;chart[AXIS].forEach(function(axis){axisOptions=axis.options;if((seriesOptions[AXIS]===index&&!axisOptions.isInternal)||(typeof seriesOptions[AXIS]!=="undefined"&&seriesOptions[AXIS]===axisOptions.id)||(typeof seriesOptions[AXIS]==="undefined"&&axisOptions.index===0)){series.insert(axis.series);series[AXIS]=axis;axis.isDirty=true}if(!axisOptions.isInternal){index++}});if(!series[AXIS]&&series.optionalAxis!==AXIS){error(18,true,chart)}})});fireEvent(this,"afterBindAxes")};Series.prototype.updateParallelArrays=function(point,i){var series=point.series,args=arguments,fn=isNumber(i)?function(key){var val=key==="y"&&series.toYData?series.toYData(point):point[key];series[key+"Data"][i]=val}:function(key){Array.prototype[i].apply(series[key+"Data"],Array.prototype.slice.call(args,2))};series.parallelArrays.forEach(fn)};Series.prototype.hasData=function(){return((this.visible&&typeof this.dataMax!=="undefined"&&typeof this.dataMin!=="undefined")||(this.visible&&this.yData&&this.yData.length>0))};Series.prototype.autoIncrement=function(x){var options=this.options,pointIntervalUnit=options.pointIntervalUnit,relativeXValue=options.relativeXValue,time=this.chart.time;var xIncrement=this.xIncrement,date,pointInterval;xIncrement=pick(xIncrement,options.pointStart,0);this.pointInterval=pointInterval=pick(this.pointInterval,options.pointInterval,1);if(relativeXValue&&isNumber(x)){pointInterval*=x}if(pointIntervalUnit){date=new time.Date(xIncrement);if(pointIntervalUnit==="day"){time.set("Date",date,time.get("Date",date)+pointInterval)}else if(pointIntervalUnit==="month"){time.set("Month",date,time.get("Month",date)+pointInterval)}else if(pointIntervalUnit==="year"){time.set("FullYear",date,time.get("FullYear",date)+pointInterval)}pointInterval=date.getTime()-xIncrement}if(relativeXValue&&isNumber(x)){return xIncrement+pointInterval}this.xIncrement=xIncrement+pointInterval;return xIncrement};Series.prototype.setDataSortingOptions=function(){var options=this.options;extend(this,{requireSorting:false,sorted:false,enabledDataSorting:true,allowDG:false,});if(!defined(options.pointRange)){options.pointRange=1}};Series.prototype.setOptions=function(itemOptions){var chart=this.chart,chartOptions=chart.options,plotOptions=chartOptions.plotOptions,userOptions=chart.userOptions||{},seriesUserOptions=merge(itemOptions),styledMode=chart.styledMode,e={plotOptions:plotOptions,userOptions:seriesUserOptions,};var zone;fireEvent(this,"setOptions",e);var typeOptions=e.plotOptions[this.type],userPlotOptions=userOptions.plotOptions||{};this.userOptions=e.userOptions;var options=merge(typeOptions,plotOptions.series,userOptions.plotOptions&&userOptions.plotOptions[this.type],seriesUserOptions);this.tooltipOptions=merge(defaultOptions.tooltip,defaultOptions.plotOptions.series&&defaultOptions.plotOptions.series.tooltip,defaultOptions.plotOptions[this.type].tooltip,chartOptions.tooltip.userOptions,plotOptions.series&&plotOptions.series.tooltip,plotOptions[this.type].tooltip,seriesUserOptions.tooltip);this.stickyTracking=pick(seriesUserOptions.stickyTracking,userPlotOptions[this.type]&&userPlotOptions[this.type].stickyTracking,userPlotOptions.series&&userPlotOptions.series.stickyTracking,this.tooltipOptions.shared&&!this.noSharedTooltip?true:options.stickyTracking);if(typeOptions.marker===null){delete options.marker}this.zoneAxis=options.zoneAxis;var zones=(this.zones=(options.zones||[]).slice());if((options.negativeColor||options.negativeFillColor)&&!options.zones){zone={value:options[this.zoneAxis+"Threshold"]||options.threshold||0,className:"highcharts-negative",};if(!styledMode){zone.color=options.negativeColor;zone.fillColor=options.negativeFillColor}zones.push(zone)}if(zones.length){if(defined(zones[zones.length-1].value)){zones.push(styledMode?{}:{color:this.color,fillColor:this.fillColor,})}}fireEvent(this,"afterSetOptions",{options:options});return options};Series.prototype.getName=function(){return pick(this.options.name,"Series "+(this.index+1))};Series.prototype.getCyclic=function(prop,value,defaults){var chart=this.chart,userOptions=this.userOptions,indexName=prop+"Index",counterName=prop+"Counter",len=defaults?defaults.length:pick(chart.options.chart[prop+"Count"],chart[prop+"Count"]);var i,setting;if(!value){setting=pick(userOptions[indexName],userOptions["_"+indexName]);if(defined(setting)){i=setting}else{if(!chart.series.length){chart[counterName]=0}userOptions["_"+indexName]=i=chart[counterName]%len;chart[counterName]+=1}if(defaults){value=defaults[i]}}if(typeof i!=="undefined"){this[indexName]=i}this[prop]=value};Series.prototype.getColor=function(){if(this.chart.styledMode){this.getCyclic("color")}else if(this.options.colorByPoint){this.color="#cccccc"}else{this.getCyclic("color",this.options.color||defaultOptions.plotOptions[this.type].color,this.chart.options.colors)}};Series.prototype.getPointsCollection=function(){return(this.hasGroupedData?this.points:this.data)||[]};Series.prototype.getSymbol=function(){var seriesMarkerOption=this.options.marker;this.getCyclic("symbol",seriesMarkerOption.symbol,this.chart.options.symbols)};Series.prototype.findPointIndex=function(optionsObject,fromIndex){var id=optionsObject.id,x=optionsObject.x,oldData=this.points,dataSorting=this.options.dataSorting;var matchingPoint,matchedById,pointIndex;if(id){var item=this.chart.get(id);if(item instanceof Point){matchingPoint=item}}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){var matcher=function(oldPoint){return(!oldPoint.touched&&oldPoint.index===optionsObject.index)};if(dataSorting&&dataSorting.matchByName){matcher=function(oldPoint){return(!oldPoint.touched&&oldPoint.name===optionsObject.name)}}else if(this.options.relativeXValue){matcher=function(oldPoint){return(!oldPoint.touched&&oldPoint.options.x===optionsObject.x)}}matchingPoint=find(oldData,matcher);if(!matchingPoint){return void 0}}if(matchingPoint){pointIndex=matchingPoint&&matchingPoint.index;if(typeof pointIndex!=="undefined"){matchedById=true}}if(typeof pointIndex==="undefined"&&isNumber(x)){pointIndex=this.xData.indexOf(x,fromIndex)}if(pointIndex!==-1&&typeof pointIndex!=="undefined"&&this.cropped){pointIndex=pointIndex>=this.cropStart?pointIndex-this.cropStart:pointIndex}if(!matchedById&&isNumber(pointIndex)&&oldData[pointIndex]&&oldData[pointIndex].touched){pointIndex=void 0}return pointIndex};Series.prototype.updateData=function(data,animation){var options=this.options,dataSorting=options.dataSorting,oldData=this.points,pointsToAdd=[],requireSorting=this.requireSorting,equalLength=data.length===oldData.length;var hasUpdatedByKey,i,point,lastIndex,succeeded=true;this.xIncrement=null;data.forEach(function(pointOptions,i){var optionsObject=(defined(pointOptions)&&this.pointClass.prototype.optionsToObject.call({series:this},pointOptions))||{};var pointIndex;var x=optionsObject.x,id=optionsObject.id;if(id||isNumber(x)){pointIndex=this.findPointIndex(optionsObject,lastIndex);if(pointIndex===-1||typeof pointIndex==="undefined"){pointsToAdd.push(pointOptions)}else if(oldData[pointIndex]&&pointOptions!==options.data[pointIndex]){oldData[pointIndex].update(pointOptions,false,null,false);oldData[pointIndex].touched=true;if(requireSorting){lastIndex=pointIndex+1}}else if(oldData[pointIndex]){oldData[pointIndex].touched=true}if(!equalLength||i!==pointIndex||(dataSorting&&dataSorting.enabled)||this.hasDerivedData){hasUpdatedByKey=true}}else{pointsToAdd.push(pointOptions)}},this);if(hasUpdatedByKey){i=oldData.length;while(i--){point=oldData[i];if(point&&!point.touched&&point.remove){point.remove(false,animation)}}}else if(equalLength&&(!dataSorting||!dataSorting.enabled)){data.forEach(function(point,i){if(point!==oldData[i].y&&oldData[i].update){oldData[i].update(point,false,null,false)}});pointsToAdd.length=0}else{succeeded=false}oldData.forEach(function(point){if(point){point.touched=false}});if(!succeeded){return false}pointsToAdd.forEach(function(point){this.addPoint(point,false,null,null,false)},this);if(this.xIncrement===null&&this.xData&&this.xData.length){this.xIncrement=arrayMax(this.xData);this.autoIncrement()}return true};Series.prototype.setData=function(data,redraw,animation,updatePoints){var series=this,oldData=series.points,oldDataLength=(oldData&&oldData.length)||0,options=series.options,chart=series.chart,dataSorting=options.dataSorting,xAxis=series.xAxis,turboThreshold=options.turboThreshold,xData=this.xData,yData=this.yData,pointArrayMap=series.pointArrayMap,valueCount=pointArrayMap&&pointArrayMap.length,keys=options.keys;var i,pt,updatedData,indexOfX=0,indexOfY=1,firstPoint=null;data=data||[];var dataLength=data.length;redraw=pick(redraw,true);if(dataSorting&&dataSorting.enabled){data=this.sortData(data)}if(updatePoints!==false&&dataLength&&oldDataLength&&!series.cropped&&!series.hasGroupedData&&series.visible&&!series.isSeriesBoosting){updatedData=this.updateData(data,animation)}if(!updatedData){series.xIncrement=null;series.colorCounter=0;this.parallelArrays.forEach(function(key){series[key+"Data"].length=0});if(turboThreshold&&dataLength>turboThreshold){firstPoint=series.getFirstValidPoint(data);if(isNumber(firstPoint)){for(i=0;i<dataLength;i++){xData[i]=this.autoIncrement();yData[i]=data[i]}}else if(isArray(firstPoint)){if(valueCount){if(firstPoint.length===valueCount){for(i=0;i<dataLength;i++){xData[i]=this.autoIncrement();yData[i]=data[i]}}else{for(i=0;i<dataLength;i++){pt=data[i];xData[i]=pt[0];yData[i]=pt.slice(1,valueCount+1)}}}else{if(keys){indexOfX=keys.indexOf("x");indexOfY=keys.indexOf("y");indexOfX=indexOfX>=0?indexOfX:0;indexOfY=indexOfY>=0?indexOfY:1}if(firstPoint.length===1){indexOfY=0}if(indexOfX===indexOfY){for(i=0;i<dataLength;i++){xData[i]=this.autoIncrement();yData[i]=data[i][indexOfY]}}else{for(i=0;i<dataLength;i++){pt=data[i];xData[i]=pt[indexOfX];yData[i]=pt[indexOfY]}}}}else{error(12,false,chart)}}else{for(i=0;i<dataLength;i++){if(typeof data[i]!=="undefined"){pt={series:series};series.pointClass.prototype.applyOptions.apply(pt,[data[i]]);series.updateParallelArrays(pt,i)}}}if(yData&&isString(yData[0])){error(14,true,chart)}series.data=[];series.options.data=series.userOptions.data=data;i=oldDataLength;while(i--){if(oldData[i]&&oldData[i].destroy){oldData[i].destroy()}}if(xAxis){xAxis.minRange=xAxis.userMinRange}series.isDirty=chart.isDirtyBox=true;series.isDirtyData=!!oldData;animation=false}if(options.legendType==="point"){this.processData();this.generatePoints()}if(redraw){chart.redraw(animation)}};Series.prototype.sortData=function(data){var series=this,options=series.options,dataSorting=options.dataSorting,sortKey=dataSorting.sortKey||"y",getPointOptionsObject=function(series,pointOptions){return((defined(pointOptions)&&series.pointClass.prototype.optionsToObject.call({series:series,},pointOptions))||{})};data.forEach(function(pointOptions,i){data[i]=getPointOptionsObject(series,pointOptions);data[i].index=i},this);var sortedData=data.concat().sort(function(a,b){var aValue=getNestedProperty(sortKey,a);var bValue=getNestedProperty(sortKey,b);return bValue<aValue?-1:bValue>aValue?1:0});sortedData.forEach(function(point,i){point.x=i},this);if(series.linkedSeries){series.linkedSeries.forEach(function(linkedSeries){var options=linkedSeries.options,seriesData=options.data;if((!options.dataSorting||!options.dataSorting.enabled)&&seriesData){seriesData.forEach(function(pointOptions,i){seriesData[i]=getPointOptionsObject(linkedSeries,pointOptions);if(data[i]){seriesData[i].x=data[i].x;seriesData[i].index=i}});linkedSeries.setData(seriesData,false)}})}return data};Series.prototype.getProcessedData=function(forceExtremesFromAll){var series=this,xAxis=series.xAxis,options=series.options,cropThreshold=options.cropThreshold,getExtremesFromAll=forceExtremesFromAll||series.getExtremesFromAll||options.getExtremesFromAll,isCartesian=series.isCartesian,val2lin=xAxis&&xAxis.val2lin,isLog=!!(xAxis&&xAxis.logarithmic);var croppedData,cropped,cropStart=0,distance,closestPointRange,i,xExtremes,min,max,processedXData=series.xData,processedYData=series.yData,throwOnUnsorted=series.requireSorting,updatingNames=false;var dataLength=processedXData.length;if(xAxis){xExtremes=xAxis.getExtremes();min=xExtremes.min;max=xExtremes.max;updatingNames=xAxis.categories&&!xAxis.names.length}if(isCartesian&&series.sorted&&!getExtremesFromAll&&(!cropThreshold||dataLength>cropThreshold||series.forceCrop)){if(processedXData[dataLength-1]<min||processedXData[0]>max){processedXData=[];processedYData=[]}else if(series.yData&&(processedXData[0]<min||processedXData[dataLength-1]>max)){croppedData=this.cropData(series.xData,series.yData,min,max);processedXData=croppedData.xData;processedYData=croppedData.yData;cropStart=croppedData.start;cropped=true}}i=processedXData.length||1;while(--i){distance=isLog?val2lin(processedXData[i])-val2lin(processedXData[i-1]):processedXData[i]-processedXData[i-1];if(distance>0&&(typeof closestPointRange==="undefined"||distance<closestPointRange)){closestPointRange=distance}else if(distance<0&&throwOnUnsorted&&!updatingNames){error(15,false,series.chart);throwOnUnsorted=false;}}return{xData:processedXData,yData:processedYData,cropped:cropped,cropStart:cropStart,closestPointRange:closestPointRange,}};Series.prototype.processData=function(force){var series=this,xAxis=series.xAxis;if(series.isCartesian&&!series.isDirty&&!xAxis.isDirty&&!series.yAxis.isDirty&&!force){return false}var processedData=series.getProcessedData();series.cropped=processedData.cropped;series.cropStart=processedData.cropStart;series.processedXData=processedData.xData;series.processedYData=processedData.yData;series.closestPointRange=series.basePointRange=processedData.closestPointRange;fireEvent(series,"afterProcessData")};Series.prototype.cropData=function(xData,yData,min,max,cropShoulder){var dataLength=xData.length;var i,j,cropStart=0,cropEnd=dataLength;cropShoulder=pick(cropShoulder,this.cropShoulder);for(i=0;i<dataLength;i++){if(xData[i]>=min){cropStart=Math.max(0,i-cropShoulder);break}}for(j=i;j<dataLength;j++){if(xData[j]>max){cropEnd=j+cropShoulder;break}}return{xData:xData.slice(cropStart,cropEnd),yData:yData.slice(cropStart,cropEnd),start:cropStart,end:cropEnd,}};Series.prototype.generatePoints=function(){var series=this,options=series.options,dataOptions=options.data,processedXData=series.processedXData,processedYData=series.processedYData,PointClass=series.pointClass,processedDataLength=processedXData.length,cropStart=series.cropStart||0,hasGroupedData=series.hasGroupedData,keys=options.keys,points=[],groupCropStartIndex=options.dataGrouping&&options.dataGrouping.groupAll?cropStart:0;var dataLength,cursor,point,i,data=series.data;if(!data&&!hasGroupedData){var arr=[];arr.length=dataOptions.length;data=series.data=arr}if(keys&&hasGroupedData){series.options.keys=false}for(i=0;i<processedDataLength;i++){cursor=cropStart+i;if(!hasGroupedData){point=data[cursor];if(!point&&typeof dataOptions[cursor]!=="undefined"){data[cursor]=point=new PointClass().init(series,dataOptions[cursor],processedXData[i])}}else{point=new PointClass().init(series,[processedXData[i]].concat(splat(processedYData[i])));point.dataGroup=series.groupMap[groupCropStartIndex+i];if(point.dataGroup.options){point.options=point.dataGroup.options;extend(point,point.dataGroup.options);delete point.dataLabels}}if(point){point.index=hasGroupedData?groupCropStartIndex+i:cursor;points[i]=point}}series.options.keys=keys;if(data&&(processedDataLength!==(dataLength=data.length)||hasGroupedData)){for(i=0;i<dataLength;i++){if(i===cropStart&&!hasGroupedData){i+=processedDataLength}if(data[i]){data[i].destroyElements();data[i].plotX=void 0}}}series.data=data;series.points=points;fireEvent(this,"afterGeneratePoints")};Series.prototype.getXExtremes=function(xData){return{min:arrayMin(xData),max:arrayMax(xData),}};Series.prototype.getExtremes=function(yData,forceExtremesFromAll){var xAxis=this.xAxis,yAxis=this.yAxis,xData=this.processedXData||this.xData,activeYData=[],shoulder=this.requireSorting?this.cropShoulder:0,positiveValuesOnly=yAxis?yAxis.positiveValuesOnly:false;var xExtremes,validValue,withinRange,x,y,i,j,xMin=0,xMax=0,activeCounter=0;yData=yData||this.stackedYData||this.processedYData||[];var yDataLength=yData.length;if(xAxis){xExtremes=xAxis.getExtremes();xMin=xExtremes.min;xMax=xExtremes.max}for(i=0;i<yDataLength;i++){x=xData[i];y=yData[i];validValue=(isNumber(y)||isArray(y))&&(y.length||y>0||!positiveValuesOnly);withinRange=forceExtremesFromAll||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!xAxis||((xData[i+shoulder]||x)>=xMin&&(xData[i-shoulder]||x)<=xMax);if(validValue&&withinRange){j=y.length;if(j){while(j--){if(isNumber(y[j])){activeYData[activeCounter++]=y[j]}}}else{activeYData[activeCounter++]=y}}}var dataExtremes={activeYData:activeYData,dataMin:arrayMin(activeYData),dataMax:arrayMax(activeYData),};fireEvent(this,"afterGetExtremes",{dataExtremes:dataExtremes});return dataExtremes};Series.prototype.applyExtremes=function(){var dataExtremes=this.getExtremes();this.dataMin=dataExtremes.dataMin;this.dataMax=dataExtremes.dataMax;return dataExtremes};Series.prototype.getFirstValidPoint=function(data){var dataLength=data.length;var i=0,firstPoint=null;while(firstPoint===null&&i<dataLength){firstPoint=data[i];i++}return firstPoint};Series.prototype.translate=function(){if(!this.processedXData){this.processData()}this.generatePoints();var series=this,options=series.options,stacking=options.stacking,xAxis=series.xAxis,categories=xAxis.categories,enabledDataSorting=series.enabledDataSorting,yAxis=series.yAxis,points=series.points,dataLength=points.length,pointPlacement=series.pointPlacementToXValue(),dynamicallyPlaced=Boolean(pointPlacement),threshold=options.threshold,stackThreshold=options.startFromThreshold?threshold:0,zoneAxis=this.zoneAxis||"y";var i,plotX,lastPlotX,stackIndicator,closestPointRangePx=Number.MAX_VALUE;function limitedRange(val){return clamp(val,-1e5,1e5)}for(i=0;i<dataLength;i++){var point=points[i],xValue=point.x;var pointStack=void 0,stackValues=void 0,yValue=point.y,yBottom=point.low;var stack=stacking&&yAxis.stacking&&yAxis.stacking.stacks[(series.negStacks&&yValue<(stackThreshold?0:threshold)?"-":"")+series.stackKey];if((yAxis.positiveValuesOnly&&!yAxis.validatePositiveValue(yValue))||(xAxis.positiveValuesOnly&&!xAxis.validatePositiveValue(xValue))){point.isNull=true}point.plotX=plotX=correctFloat(limitedRange(xAxis.translate(xValue,0,0,0,1,pointPlacement,this.type==="flags")));if(stacking&&series.visible&&stack&&stack[xValue]){stackIndicator=series.getStackIndicator(stackIndicator,xValue,series.index);if(!point.isNull){pointStack=stack[xValue];stackValues=pointStack.points[stackIndicator.key]}}if(isArray(stackValues)){yBottom=stackValues[0];yValue=stackValues[1];if(yBottom===stackThreshold&&stackIndicator.key===stack[xValue].base){yBottom=pick(isNumber(threshold)&&threshold,yAxis.min)}if(yAxis.positiveValuesOnly&&yBottom<=0){yBottom=null}point.total=point.stackTotal=pointStack.total;point.percentage=pointStack.total&&(point.y/pointStack.total)*100;point.stackY=yValue;if(!series.irregularWidths){pointStack.setOffset(series.pointXOffset||0,series.barW||0)}}point.yBottom=defined(yBottom)?limitedRange(yAxis.translate(yBottom,0,1,0,1)):null;if(series.dataModify){yValue=series.dataModify.modifyValue(yValue,i)}point.plotY=void 0;if(isNumber(yValue)){var translated=yAxis.translate(yValue,false,true,false,true);if(typeof translated!=="undefined"){point.plotY=limitedRange(translated)}}point.isInside=this.isPointInside(point);point.clientX=dynamicallyPlaced?correctFloat(xAxis.translate(xValue,0,0,0,1,pointPlacement)):plotX;point.negative=point[zoneAxis]<(options[zoneAxis+"Threshold"]||threshold||0);point.category=categories&&typeof categories[point.x]!=="undefined"?categories[point.x]:point.x;if(!point.isNull&&point.visible!==false){if(typeof lastPlotX!=="undefined"){closestPointRangePx=Math.min(closestPointRangePx,Math.abs(plotX-lastPlotX))}lastPlotX=plotX}point.zone=this.zones.length?point.getZone():void 0;if(!point.graphic&&series.group&&enabledDataSorting){point.isNew=true}}series.closestPointRangePx=closestPointRangePx;fireEvent(this,"afterTranslate")};Series.prototype.getValidPoints=function(points,insideOnly,allowNull){var chart=this.chart;return(points||this.points||[]).filter(function(point){if(insideOnly&&!chart.isInsidePlot(point.plotX,point.plotY,{inverted:chart.inverted,})){return false}return point.visible!==false&&(allowNull||!point.isNull)})};Series.prototype.getClipBox=function(){var _a=this,chart=_a.chart,xAxis=_a.xAxis,yAxis=_a.yAxis;var seriesBox=merge(chart.clipBox);if(xAxis&&xAxis.len!==chart.plotSizeX){seriesBox.width=xAxis.len}if(yAxis&&yAxis.len!==chart.plotSizeY){seriesBox.height=yAxis.len}return seriesBox};Series.prototype.getSharedClipKey=function(){this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0);return this.sharedClipKey};Series.prototype.setClip=function(){var _a=this,chart=_a.chart,group=_a.group,markerGroup=_a.markerGroup,sharedClips=chart.sharedClips,renderer=chart.renderer,clipBox=this.getClipBox(),sharedClipKey=this.getSharedClipKey();var clipRect=sharedClips[sharedClipKey];if(!clipRect){sharedClips[sharedClipKey]=clipRect=renderer.clipRect(clipBox)}else{clipRect.animate(clipBox)}if(group){group.clip(this.options.clip===false?void 0:clipRect)}if(markerGroup){markerGroup.clip()}};Series.prototype.animate=function(init){var _a=this,chart=_a.chart,group=_a.group,markerGroup=_a.markerGroup,inverted=chart.inverted,animation=animObject(this.options.animation),animationClipKey=[this.getSharedClipKey(),animation.duration,animation.easing,animation.defer,].join(",");var animationClipRect=chart.sharedClips[animationClipKey],markerAnimationClipRect=chart.sharedClips[animationClipKey+"m"];if(init&&group){var clipBox=this.getClipBox();if(!animationClipRect){clipBox.width=0;if(inverted){clipBox.x=chart.plotHeight}animationClipRect=chart.renderer.clipRect(clipBox);chart.sharedClips[animationClipKey]=animationClipRect;var markerClipBox={x:inverted?(chart.plotSizeX||0)+99:-99,y:inverted?-chart.plotLeft:-chart.plotTop,width:99,height:inverted?chart.chartWidth:chart.chartHeight,};markerAnimationClipRect=chart.renderer.clipRect(markerClipBox);chart.sharedClips[animationClipKey+"m"]=markerAnimationClipRect}else{animationClipRect.attr("height",clipBox.height)}group.clip(animationClipRect);if(markerGroup){markerGroup.clip(markerAnimationClipRect)}}else if(animationClipRect&&!animationClipRect.hasClass("highcharts-animating")){var finalBox=this.getClipBox(),step_1=animation.step;if(markerGroup&&markerGroup.element.childNodes.length){animation.step=function(val,fx){if(step_1){step_1.apply(fx,arguments)}if(markerAnimationClipRect&&markerAnimationClipRect.element){markerAnimationClipRect.attr(fx.prop,fx.prop==="width"?val+99:val)}}}animationClipRect.addClass("highcharts-animating").animate(finalBox,animation)}};Series.prototype.afterAnimate=function(){var _this=this;this.setClip();objectEach(this.chart.sharedClips,function(clip,key,sharedClips){if(clip&&!_this.chart.container.querySelector('[clip-path="url(#'+clip.id+')"]')){clip.destroy();delete sharedClips[key]}});this.finishedAnimating=true;fireEvent(this,"afterAnimate")};Series.prototype.drawPoints=function(){var series=this,points=series.points,chart=series.chart,options=series.options,seriesMarkerOptions=options.marker,markerGroup=series[series.specialGroup]||series.markerGroup,xAxis=series.xAxis,globallyEnabled=pick(seriesMarkerOptions.enabled,!xAxis||xAxis.isRadial?true:null,series.closestPointRangePx>=seriesMarkerOptions.enabledThreshold*seriesMarkerOptions.radius);var i,point,graphic,verb,pointMarkerOptions,hasPointMarker,markerAttribs;if(seriesMarkerOptions.enabled!==false||series._hasPointMarkers){for(i=0;i<points.length;i++){point=points[i];graphic=point.graphic;verb=graphic?"animate":"attr";pointMarkerOptions=point.marker||{};hasPointMarker=!!point.marker;var shouldDrawMarker=((globallyEnabled&&typeof pointMarkerOptions.enabled==="undefined")||pointMarkerOptions.enabled)&&!point.isNull&&point.visible!==false;if(shouldDrawMarker){var symbol=pick(pointMarkerOptions.symbol,series.symbol,"rect");markerAttribs=series.markerAttribs(point,point.selected&&"select");if(series.enabledDataSorting){point.startXPos=xAxis.reversed?-(markerAttribs.width||0):xAxis.width}var isInside=point.isInside!==false;if(graphic){graphic[isInside?"show":"hide"](isInside).animate(markerAttribs)}else if(isInside&&((markerAttribs.width||0)>0||point.hasImage)){point.graphic=graphic=chart.renderer.symbol(symbol,markerAttribs.x,markerAttribs.y,markerAttribs.width,markerAttribs.height,hasPointMarker?pointMarkerOptions:seriesMarkerOptions).add(markerGroup);if(series.enabledDataSorting&&chart.hasRendered){graphic.attr({x:point.startXPos,});verb="animate"}}if(graphic&&verb==="animate"){graphic[isInside?"show":"hide"](isInside).animate(markerAttribs)}if(graphic&&!chart.styledMode){graphic[verb](series.pointAttribs(point,point.selected&&"select"))}if(graphic){graphic.addClass(point.getClassName(),true)}}else if(graphic){point.graphic=graphic.destroy()}}}};Series.prototype.markerAttribs=function(point,state){var seriesOptions=this.options,seriesMarkerOptions=seriesOptions.marker,pointMarkerOptions=point.marker||{},symbol=pointMarkerOptions.symbol||seriesMarkerOptions.symbol;var seriesStateOptions,pointStateOptions,radius=pick(pointMarkerOptions.radius,seriesMarkerOptions.radius);if(state){seriesStateOptions=seriesMarkerOptions.states[state];pointStateOptions=pointMarkerOptions.states&&pointMarkerOptions.states[state];radius=pick(pointStateOptions&&pointStateOptions.radius,seriesStateOptions&&seriesStateOptions.radius,radius+((seriesStateOptions&&seriesStateOptions.radiusPlus)||0))}point.hasImage=symbol&&symbol.indexOf("url")===0;if(point.hasImage){radius=0}var attribs={x:seriesOptions.crisp?Math.floor(point.plotX-radius):point.plotX-radius,y:point.plotY-radius,};if(radius){attribs.width=attribs.height=2*radius}return attribs};Series.prototype.pointAttribs=function(point,state){var seriesMarkerOptions=this.options.marker,pointOptions=point&&point.options,pointMarkerOptions=(pointOptions&&pointOptions.marker)||{},pointColorOption=pointOptions&&pointOptions.color,pointColor=point&&point.color,zoneColor=point&&point.zone&&point.zone.color;var seriesStateOptions,pointStateOptions,color=this.color,fill,stroke,strokeWidth=pick(pointMarkerOptions.lineWidth,seriesMarkerOptions.lineWidth),opacity=1;color=pointColorOption||zoneColor||pointColor||color;fill=pointMarkerOptions.fillColor||seriesMarkerOptions.fillColor||color;stroke=pointMarkerOptions.lineColor||seriesMarkerOptions.lineColor||color;state=state||"normal";if(state){seriesStateOptions=seriesMarkerOptions.states[state]||{};pointStateOptions=(pointMarkerOptions.states&&pointMarkerOptions.states[state])||{};strokeWidth=pick(pointStateOptions.lineWidth,seriesStateOptions.lineWidth,strokeWidth+pick(pointStateOptions.lineWidthPlus,seriesStateOptions.lineWidthPlus,0));fill=pointStateOptions.fillColor||seriesStateOptions.fillColor||fill;stroke=pointStateOptions.lineColor||seriesStateOptions.lineColor||stroke;opacity=pick(pointStateOptions.opacity,seriesStateOptions.opacity,opacity)}return{stroke:stroke,"stroke-width":strokeWidth,fill:fill,opacity:opacity,}};Series.prototype.destroy=function(keepEventsForUpdate){var series=this,chart=series.chart,issue134=/AppleWebKit\/533/.test(win.navigator.userAgent),data=series.data||[];var destroy,i,point,axis;fireEvent(series,"destroy");this.removeEvents(keepEventsForUpdate);(series.axisTypes||[]).forEach(function(AXIS){axis=series[AXIS];if(axis&&axis.series){erase(axis.series,series);axis.isDirty=axis.forceRedraw=true}});if(series.legendItem){series.chart.legend.destroyItem(series)}i=data.length;while(i--){point=data[i];if(point&&point.destroy){point.destroy()}}if(series.clips){series.clips.forEach(function(clip){return clip.destroy()})}U.clearTimeout(series.animationTimeout);objectEach(series,function(val,prop){if(val instanceof SVGElement&&!val.survive){destroy=issue134&&prop==="group"?"hide":"destroy";val[destroy]()}});if(chart.hoverSeries===series){chart.hoverSeries=void 0}erase(chart.series,series);chart.orderSeries();objectEach(series,function(val,prop){if(!keepEventsForUpdate||prop!=="hcEvents"){delete series[prop]}})};Series.prototype.applyZones=function(){var series=this,chart=this.chart,renderer=chart.renderer,zones=this.zones,clips=this.clips||[],graph=this.graph,area=this.area,chartSizeMax=Math.max(chart.chartWidth,chart.chartHeight),axis=this[(this.zoneAxis||"y")+"Axis"],inverted=chart.inverted;var translatedFrom,translatedTo,clipAttr,extremes,reversed,horiz,pxRange,pxPosMin,pxPosMax,zoneArea,zoneGraph,ignoreZones=false;if(zones.length&&(graph||area)&&axis&&typeof axis.min!=="undefined"){reversed=axis.reversed;horiz=axis.horiz;if(graph&&!this.showLine){graph.hide()}if(area){area.hide()}extremes=axis.getExtremes();zones.forEach(function(threshold,i){translatedFrom=reversed?horiz?chart.plotWidth:0:horiz?0:axis.toPixels(extremes.min)||0;translatedFrom=clamp(pick(translatedTo,translatedFrom),0,chartSizeMax);translatedTo=clamp(Math.round(axis.toPixels(pick(threshold.value,extremes.max),true)||0),0,chartSizeMax);if(ignoreZones){translatedFrom=translatedTo=axis.toPixels(extremes.max)}pxRange=Math.abs(translatedFrom-translatedTo);pxPosMin=Math.min(translatedFrom,translatedTo);pxPosMax=Math.max(translatedFrom,translatedTo);if(axis.isXAxis){clipAttr={x:inverted?pxPosMax:pxPosMin,y:0,width:pxRange,height:chartSizeMax,};if(!horiz){clipAttr.x=chart.plotHeight-clipAttr.x}}else{clipAttr={x:0,y:inverted?pxPosMax:pxPosMin,width:chartSizeMax,height:pxRange,};if(horiz){clipAttr.y=chart.plotWidth-clipAttr.y}}if(inverted&&renderer.isVML){if(axis.isXAxis){clipAttr={x:0,y:reversed?pxPosMin:pxPosMax,height:clipAttr.width,width:chart.chartWidth,}}else{clipAttr={x:clipAttr.y-chart.plotLeft-chart.spacingBox.x,y:0,width:clipAttr.height,height:chart.chartHeight,}}}if(clips[i]){clips[i].animate(clipAttr)}else{clips[i]=renderer.clipRect(clipAttr)}zoneArea=series["zone-area-"+i];zoneGraph=series["zone-graph-"+i];if(graph&&zoneGraph){zoneGraph.clip(clips[i])}if(area&&zoneArea){zoneArea.clip(clips[i])}ignoreZones=threshold.value>extremes.max;if(series.resetZones&&translatedTo===0){translatedTo=void 0}});this.clips=clips}else if(series.visible){if(graph){graph.show(true)}if(area){area.show(true)}}};Series.prototype.invertGroups=function(inverted){var series=this,chart=series.chart;function setInvert(){["group","markerGroup"].forEach(function(groupName){if(series[groupName]){if(chart.renderer.isVML){series[groupName].attr({width:series.yAxis.len,height:series.xAxis.len,})}series[groupName].width=series.yAxis.len;series[groupName].height=series.xAxis.len;series[groupName].invert(series.isRadialSeries?false:inverted)}})}if(!series.xAxis){return}series.eventsToUnbind.push(addEvent(chart,"resize",setInvert));setInvert();series.invertGroups=setInvert};Series.prototype.plotGroup=function(prop,name,visibility,zIndex,parent){var group=this[prop];var isNew=!group,attrs={visibility:visibility,zIndex:zIndex||0.1,};if(typeof this.opacity!=="undefined"&&!this.chart.styledMode&&this.state!=="inactive"){attrs.opacity=this.opacity}if(isNew){this[prop]=group=this.chart.renderer.g().add(parent)}group.addClass("highcharts-"+name+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(defined(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(group.hasClass("highcharts-tracker")?" highcharts-tracker":""),true);group.attr(attrs)[isNew?"attr":"animate"](this.getPlotBox());return group};Series.prototype.getPlotBox=function(){var chart=this.chart;var xAxis=this.xAxis,yAxis=this.yAxis;if(chart.inverted){xAxis=yAxis;yAxis=this.xAxis}return{translateX:xAxis?xAxis.left:chart.plotLeft,translateY:yAxis?yAxis.top:chart.plotTop,scaleX:1,scaleY:1,}};Series.prototype.removeEvents=function(keepEventsForUpdate){var series=this;if(!keepEventsForUpdate){removeEvent(series)}if(series.eventsToUnbind.length){series.eventsToUnbind.forEach(function(unbind){unbind()});series.eventsToUnbind.length=0}};Series.prototype.render=function(){var series=this,chart=series.chart,options=series.options,animOptions=animObject(options.animation),visibility=series.visible?"inherit":"hidden",zIndex=options.zIndex,hasRendered=series.hasRendered,chartSeriesGroup=chart.seriesGroup,inverted=chart.inverted;var animDuration=!series.finishedAnimating&&chart.renderer.isSVG?animOptions.duration:0;fireEvent(this,"render");var group=series.plotGroup("group","series",visibility,zIndex,chartSeriesGroup);series.markerGroup=series.plotGroup("markerGroup","markers",visibility,zIndex,chartSeriesGroup);if(options.clip!==false){series.setClip()}if(series.animate&&animDuration){series.animate(true)}group.inverted=pick(series.invertible,series.isCartesian)?inverted:false;if(series.drawGraph){series.drawGraph();series.applyZones()}if(series.visible){series.drawPoints()}if(series.drawDataLabels){series.drawDataLabels()}if(series.redrawPoints){series.redrawPoints()}if(series.drawTracker&&series.options.enableMouseTracking!==false){series.drawTracker()}series.invertGroups(inverted);if(series.animate&&animDuration){series.animate()}if(!hasRendered){if(animDuration&&animOptions.defer){animDuration+=animOptions.defer}series.animationTimeout=syncTimeout(function(){series.afterAnimate()},animDuration||0)}series.isDirty=false;series.hasRendered=true;fireEvent(series,"afterRender")};Series.prototype.redraw=function(){var series=this,chart=series.chart,wasDirty=series.isDirty||series.isDirtyData,group=series.group,xAxis=series.xAxis,yAxis=series.yAxis;if(group){if(chart.inverted){group.attr({width:chart.plotWidth,height:chart.plotHeight,})}group.animate({translateX:pick(xAxis&&xAxis.left,chart.plotLeft),translateY:pick(yAxis&&yAxis.top,chart.plotTop),})}series.translate();series.render();if(wasDirty){delete this.kdTree}};Series.prototype.searchPoint=function(e,compareX){var series=this,xAxis=series.xAxis,yAxis=series.yAxis,inverted=series.chart.inverted;return this.searchKDTree({clientX:inverted?xAxis.len-e.chartY+xAxis.pos:e.chartX-xAxis.pos,plotY:inverted?yAxis.len-e.chartX+yAxis.pos:e.chartY-yAxis.pos,},compareX,e)};Series.prototype.buildKDTree=function(e){this.buildingKdTree=true;var series=this,dimensions=series.options.findNearestPointBy.indexOf("y")>-1?2:1;function _kdtree(points,depth,dimensions){var length=points&&points.length;var axis,median;if(length){axis=series.kdAxisArray[depth%dimensions];points.sort(function(a,b){return a[axis]-b[axis]});median=Math.floor(length/2);return{point:points[median],left:_kdtree(points.slice(0,median),depth+1,dimensions),right:_kdtree(points.slice(median+1),depth+1,dimensions),}}}function startRecursive(){series.kdTree=_kdtree(series.getValidPoints(null,!series.directTouch),dimensions,dimensions);series.buildingKdTree=false}delete series.kdTree;syncTimeout(startRecursive,series.options.kdNow||(e&&e.type==="touchstart")?0:1)};Series.prototype.searchKDTree=function(point,compareX,e){var series=this,kdX=this.kdAxisArray[0],kdY=this.kdAxisArray[1],kdComparer=compareX?"distX":"dist",kdDimensions=series.options.findNearestPointBy.indexOf("y")>-1?2:1;function setDistance(p1,p2){var x=defined(p1[kdX])&&defined(p2[kdX])?Math.pow(p1[kdX]-p2[kdX],2):null,y=defined(p1[kdY])&&defined(p2[kdY])?Math.pow(p1[kdY]-p2[kdY],2):null,r=(x||0)+(y||0);p2.dist=defined(r)?Math.sqrt(r):Number.MAX_VALUE;p2.distX=defined(x)?Math.sqrt(x):Number.MAX_VALUE}function _search(search,tree,depth,dimensions){var point=tree.point,axis=series.kdAxisArray[depth%dimensions];var nPoint1,nPoint2,ret=point;setDistance(search,point);var tdist=search[axis]-point[axis],sideA=tdist<0?"left":"right",sideB=tdist<0?"right":"left";if(tree[sideA]){nPoint1=_search(search,tree[sideA],depth+1,dimensions);ret=nPoint1[kdComparer]<ret[kdComparer]?nPoint1:point}if(tree[sideB]){if(Math.sqrt(tdist*tdist)<ret[kdComparer]){nPoint2=_search(search,tree[sideB],depth+1,dimensions);ret=nPoint2[kdComparer]<ret[kdComparer]?nPoint2:ret}}return ret}if(!this.kdTree&&!this.buildingKdTree){this.buildKDTree(e)}if(this.kdTree){return _search(point,this.kdTree,kdDimensions,kdDimensions)}};Series.prototype.pointPlacementToXValue=function(){var _a=this,_b=_a.options,pointPlacement=_b.pointPlacement,pointRange=_b.pointRange,axis=_a.xAxis;var factor=pointPlacement;if(factor==="between"){factor=axis.reversed?-0.5:0.5}return isNumber(factor)?factor*(pointRange||axis.pointRange):0};Series.prototype.isPointInside=function(point){var _a=this,chart=_a.chart,xAxis=_a.xAxis,yAxis=_a.yAxis,isInside=typeof point.plotY!=="undefined"&&typeof point.plotX!=="undefined"&&point.plotY>=0&&point.plotY<=(yAxis?yAxis.len:chart.plotHeight)&&point.plotX>=0&&point.plotX<=(xAxis?xAxis.len:chart.plotWidth);return isInside};Series.prototype.drawTracker=function(){var series=this,options=series.options,trackByArea=options.trackByArea,trackerPath=[].concat(trackByArea?series.areaPath:series.graphPath),chart=series.chart,pointer=chart.pointer,renderer=chart.renderer,snap=chart.options.tooltip.snap,tracker=series.tracker,onMouseOver=function(e){if(chart.hoverSeries!==series){series.onMouseOver()}},TRACKER_FILL="rgba(192,192,192,"+(svg?0.0001:0.002)+")";var i;if(tracker){tracker.attr({d:trackerPath})}else if(series.graph){series.tracker=renderer.path(trackerPath).attr({visibility:series.visible?"visible":"hidden",zIndex:2,}).addClass(trackByArea?"highcharts-tracker-area":"highcharts-tracker-line").add(series.group);if(!chart.styledMode){series.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:TRACKER_FILL,fill:trackByArea?TRACKER_FILL:"none","stroke-width":series.graph.strokeWidth()+(trackByArea?0:2*snap),})}[series.tracker,series.markerGroup,series.dataLabelsGroup,].forEach(function(tracker){if(tracker){tracker.addClass("highcharts-tracker").on("mouseover",onMouseOver).on("mouseout",function(e){pointer.onTrackerMouseOut(e)});if(options.cursor&&!chart.styledMode){tracker.css({cursor:options.cursor})}if(hasTouch){tracker.on("touchstart",onMouseOver)}}})}fireEvent(this,"afterDrawTracker")};Series.prototype.addPoint=function(options,redraw,shift,animation,withEvent){var series=this,seriesOptions=series.options,data=series.data,chart=series.chart,xAxis=series.xAxis,names=xAxis&&xAxis.hasNames&&xAxis.names,dataOptions=seriesOptions.data,xData=series.xData;var isInTheMiddle,i;redraw=pick(redraw,true);var point={series:series};series.pointClass.prototype.applyOptions.apply(point,[options]);var x=point.x;i=xData.length;if(series.requireSorting&&x<xData[i-1]){isInTheMiddle=true;while(i&&xData[i-1]>x){i--}}series.updateParallelArrays(point,"splice",i,0,0);series.updateParallelArrays(point,i);if(names&&point.name){names[x]=point.name}dataOptions.splice(i,0,options);if(isInTheMiddle){series.data.splice(i,0,null);series.processData()}if(seriesOptions.legendType==="point"){series.generatePoints()}if(shift){if(data[0]&&data[0].remove){data[0].remove(false)}else{data.shift();series.updateParallelArrays(point,"shift");dataOptions.shift()}}if(withEvent!==false){fireEvent(series,"addPoint",{point:point})}series.isDirty=true;series.isDirtyData=true;if(redraw){chart.redraw(animation)}};Series.prototype.removePoint=function(i,redraw,animation){var series=this,data=series.data,point=data[i],points=series.points,chart=series.chart,remove=function(){if(points&&points.length===data.length){points.splice(i,1)}data.splice(i,1);series.options.data.splice(i,1);series.updateParallelArrays(point||{series:series},"splice",i,1);if(point){point.destroy()}series.isDirty=true;series.isDirtyData=true;if(redraw){chart.redraw()}};setAnimation(animation,chart);redraw=pick(redraw,true);if(point){point.firePointEvent("remove",null,remove)}else{remove()}};Series.prototype.remove=function(redraw,animation,withEvent,keepEvents){var series=this,chart=series.chart;function remove(){series.destroy(keepEvents);chart.isDirtyLegend=chart.isDirtyBox=true;chart.linkSeries();if(pick(redraw,true)){chart.redraw(animation)}}if(withEvent!==false){fireEvent(series,"remove",null,remove)}else{remove()}};Series.prototype.update=function(options,redraw){options=cleanRecursively(options,this.userOptions);fireEvent(this,"update",{options:options});var series=this,chart=series.chart,oldOptions=series.userOptions,initialType=series.initialType||series.type,plotOptions=chart.options.plotOptions,initialSeriesProto=seriesTypes[initialType].prototype,groups=["group","markerGroup","dataLabelsGroup","transformGroup",],animation=series.finishedAnimating&&{animation:false},kinds={};var seriesOptions,n,preserve=["eventOptions","navigatorSeries","baseSeries"],newType=options.type||oldOptions.type||chart.options.chart.type;var keepPoints=!((this.hasDerivedData||(newType&&newType!==this.type)||typeof options.pointStart!=="undefined"||typeof options.pointInterval!=="undefined"||typeof options.relativeXValue!=="undefined"||series.hasOptionChanged("dataGrouping")||series.hasOptionChanged("pointStart")||series.hasOptionChanged("pointInterval")||series.hasOptionChanged("pointIntervalUnit")||series.hasOptionChanged("keys")));newType=newType||initialType;if(keepPoints){preserve.push("data","isDirtyData","points","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","_hasPointLabels","clips","nodes","layout","mapMap","mapData","minY","maxY","minX","maxX");if(options.visible!==false){preserve.push("area","graph")}series.parallelArrays.forEach(function(key){preserve.push(key+"Data")});if(options.data){if(options.dataSorting){extend(series.options.dataSorting,options.dataSorting)}this.setData(options.data,false)}}options=merge(oldOptions,animation,{index:typeof oldOptions.index==="undefined"?series.index:oldOptions.index,pointStart:pick(plotOptions&&plotOptions.series&&plotOptions.series.pointStart,oldOptions.pointStart,series.xData[0]),},!keepPoints&&{data:series.options.data},options);if(keepPoints&&options.data){options.data=series.options.data}preserve=groups.concat(preserve);preserve.forEach(function(prop){preserve[prop]=series[prop];delete series[prop]});var casting=false;if(seriesTypes[newType]){casting=newType!==series.type;series.remove(false,false,false,true);if(casting){if(Object.setPrototypeOf){Object.setPrototypeOf(series,seriesTypes[newType].prototype)}else{var ownEvents=Object.hasOwnProperty.call(series,"hcEvents")&&series.hcEvents;for(n in initialSeriesProto){series[n]=void 0}extend(series,seriesTypes[newType].prototype);if(ownEvents){series.hcEvents=ownEvents}else{delete series.hcEvents}}}}else{error(17,true,chart,{missingModuleFor:newType})}preserve.forEach(function(prop){series[prop]=preserve[prop]});series.init(chart,options);if(keepPoints&&this.points){seriesOptions=series.options;if(seriesOptions.visible===false){kinds.graphic=1;kinds.dataLabel=1}else if(!series._hasPointLabels){var marker=seriesOptions.marker,dataLabels=seriesOptions.dataLabels;if(marker&&(marker.enabled===false||(oldOptions.marker&&oldOptions.marker.symbol)!==marker.symbol)){kinds.graphic=1}if(dataLabels&&dataLabels.enabled===false){kinds.dataLabel=1}}this.points.forEach(function(point){if(point&&point.series){point.resolveColor();if(Object.keys(kinds).length){point.destroyElements(kinds)}if(seriesOptions.showInLegend===false&&point.legendItem){chart.legend.destroyItem(point)}}},this)}series.initialType=initialType;chart.linkSeries();if(casting&&series.linkedSeries.length){series.isDirtyData=true}fireEvent(this,"afterUpdate");if(pick(redraw,true)){chart.redraw(keepPoints?void 0:false)}};Series.prototype.setName=function(name){this.name=this.options.name=this.userOptions.name=name;this.chart.isDirtyLegend=true};Series.prototype.hasOptionChanged=function(optionName){var chart=this.chart,option=this.options[optionName],plotOptions=chart.options.plotOptions,oldOption=this.userOptions[optionName];if(oldOption){return option!==oldOption}return(option!==pick(plotOptions&&plotOptions[this.type]&&plotOptions[this.type][optionName],plotOptions&&plotOptions.series&&plotOptions.series[optionName],option))};Series.prototype.onMouseOver=function(){var series=this,chart=series.chart,hoverSeries=chart.hoverSeries,pointer=chart.pointer;pointer.setHoverChartIndex();if(hoverSeries&&hoverSeries!==series){hoverSeries.onMouseOut()}if(series.options.events.mouseOver){fireEvent(series,"mouseOver")}series.setState("hover");chart.hoverSeries=series};Series.prototype.onMouseOut=function(){var series=this,options=series.options,chart=series.chart,tooltip=chart.tooltip,hoverPoint=chart.hoverPoint;chart.hoverSeries=null;if(hoverPoint){hoverPoint.onMouseOut()}if(series&&options.events.mouseOut){fireEvent(series,"mouseOut")}if(tooltip&&!series.stickyTracking&&(!tooltip.shared||series.noSharedTooltip)){tooltip.hide()}chart.series.forEach(function(s){s.setState("",true)})};Series.prototype.setState=function(state,inherit){var series=this,options=series.options,graph=series.graph,inactiveOtherPoints=options.inactiveOtherPoints,stateOptions=options.states,stateAnimation=pick(stateOptions[state||"normal"]&&stateOptions[state||"normal"].animation,series.chart.options.chart.animation);var attribs,lineWidth=options.lineWidth,i=0,opacity=options.opacity;state=state||"";if(series.state!==state){[series.group,series.markerGroup,series.dataLabelsGroup].forEach(function(group){if(group){if(series.state){group.removeClass("highcharts-series-"+series.state)}if(state){group.addClass("highcharts-series-"+state)}}});series.state=state;if(!series.chart.styledMode){if(stateOptions[state]&&stateOptions[state].enabled===false){return}if(state){lineWidth=stateOptions[state].lineWidth||lineWidth+(stateOptions[state].lineWidthPlus||0);opacity=pick(stateOptions[state].opacity,opacity)}if(graph&&!graph.dashstyle){attribs={"stroke-width":lineWidth,};graph.animate(attribs,stateAnimation);while(series["zone-graph-"+i]){series["zone-graph-"+i].animate(attribs,stateAnimation);i=i+1}}if(!inactiveOtherPoints){[series.group,series.markerGroup,series.dataLabelsGroup,series.labelBySeries,].forEach(function(group){if(group){group.animate({opacity:opacity,},stateAnimation)}})}}}if(inherit&&inactiveOtherPoints&&series.points){series.setAllPointsToState(state||void 0)}};Series.prototype.setAllPointsToState=function(state){this.points.forEach(function(point){if(point.setState){point.setState(state)}})};Series.prototype.setVisible=function(vis,redraw){var series=this,chart=series.chart,legendItem=series.legendItem,ignoreHiddenSeries=chart.options.chart.ignoreHiddenSeries,oldVisibility=series.visible;series.visible=vis=series.options.visible=series.userOptions.visible=typeof vis==="undefined"?!oldVisibility:vis;var showOrHide=vis?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(function(key){if(series[key]){series[key][showOrHide]()}});if(chart.hoverSeries===series||(chart.hoverPoint&&chart.hoverPoint.series)===series){series.onMouseOut()}if(legendItem){chart.legend.colorizeItem(series,vis)}series.isDirty=true;if(series.options.stacking){chart.series.forEach(function(otherSeries){if(otherSeries.options.stacking&&otherSeries.visible){otherSeries.isDirty=true}})}series.linkedSeries.forEach(function(otherSeries){otherSeries.setVisible(vis,false)});if(ignoreHiddenSeries){chart.isDirtyBox=true}fireEvent(series,showOrHide);if(redraw!==false){chart.redraw()}};Series.prototype.show=function(){this.setVisible(true)};Series.prototype.hide=function(){this.setVisible(false)};Series.prototype.select=function(selected){var series=this;series.selected=selected=this.options.selected=typeof selected==="undefined"?!series.selected:selected;if(series.checkbox){series.checkbox.checked=selected}fireEvent(series,selected?"select":"unselect")};Series.prototype.shouldShowTooltip=function(plotX,plotY,options){if(options===void 0){options={}}options.series=this;options.visiblePlotOnly=true;return this.chart.isInsidePlot(plotX,plotY,options)};Series.defaultOptions=SeriesDefaults;return Series})();extend(Series.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:false,drawLegendSymbol:LegendSymbol.drawLineMarker,isCartesian:true,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:Point,requireSorting:true,sorted:true,});SeriesRegistry.series=Series;("");("");return Series});_registerModule(_modules,"Extensions/ScrollablePlotArea.js",[_modules["Core/Animation/AnimationUtilities.js"],_modules["Core/Axis/Axis.js"],_modules["Core/Chart/Chart.js"],_modules["Core/Series/Series.js"],_modules["Core/Renderer/RendererRegistry.js"],_modules["Core/Utilities.js"],],function(A,Axis,Chart,Series,RendererRegistry,U){var stop=A.stop;var addEvent=U.addEvent,createElement=U.createElement,merge=U.merge,pick=U.pick;addEvent(Chart,"afterSetChartSize",function(e){var scrollablePlotArea=this.options.chart.scrollablePlotArea,scrollableMinWidth=scrollablePlotArea&&scrollablePlotArea.minWidth,scrollableMinHeight=scrollablePlotArea&&scrollablePlotArea.minHeight,scrollablePixelsX,scrollablePixelsY,corrections;if(!this.renderer.forExport){if(scrollableMinWidth){this.scrollablePixelsX=scrollablePixelsX=Math.max(0,scrollableMinWidth-this.chartWidth);if(scrollablePixelsX){this.scrollablePlotBox=this.renderer.scrollablePlotBox=merge(this.plotBox);this.plotBox.width=this.plotWidth+=scrollablePixelsX;if(this.inverted){this.clipBox.height+=scrollablePixelsX}else{this.clipBox.width+=scrollablePixelsX}corrections={1:{name:"right",value:scrollablePixelsX},}}}else if(scrollableMinHeight){this.scrollablePixelsY=scrollablePixelsY=Math.max(0,scrollableMinHeight-this.chartHeight);if(scrollablePixelsY){this.scrollablePlotBox=this.renderer.scrollablePlotBox=merge(this.plotBox);this.plotBox.height=this.plotHeight+=scrollablePixelsY;if(this.inverted){this.clipBox.width+=scrollablePixelsY}else{this.clipBox.height+=scrollablePixelsY}corrections={2:{name:"bottom",value:scrollablePixelsY},}}}if(corrections&&!e.skipAxes){this.axes.forEach(function(axis){if(corrections[axis.side]){axis.getPlotLinePath=function(){var marginName=corrections[axis.side].name,correctionValue=corrections[axis.side].value,margin=this[marginName],path;this[marginName]=margin-correctionValue;path=Axis.prototype.getPlotLinePath.apply(this,arguments);this[marginName]=margin;return path}}else{axis.setAxisSize();axis.setAxisTranslation()}})}}});addEvent(Chart,"render",function(){if(this.scrollablePixelsX||this.scrollablePixelsY){if(this.setUpScrolling){this.setUpScrolling()}this.applyFixed()}else if(this.fixedDiv){this.applyFixed()}});Chart.prototype.setUpScrolling=function(){var _this=this;var css={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden",};if(this.scrollablePixelsX){css.overflowX="auto"}if(this.scrollablePixelsY){css.overflowY="auto"}this.scrollingParent=createElement("div",{className:"highcharts-scrolling-parent",},{position:"relative",},this.renderTo);this.scrollingContainer=createElement("div",{className:"highcharts-scrolling",},css,this.scrollingParent);addEvent(this.scrollingContainer,"scroll",function(){if(_this.pointer){delete _this.pointer.chartPosition}});this.innerContainer=createElement("div",{className:"highcharts-inner-container",},null,this.scrollingContainer);this.innerContainer.appendChild(this.container);this.setUpScrolling=null};Chart.prototype.moveFixedElements=function(){var container=this.container,fixedRenderer=this.fixedRenderer,fixedSelectors=[".highcharts-contextbutton",".highcharts-credits",".highcharts-legend",".highcharts-legend-checkbox",".highcharts-navigator-series",".highcharts-navigator-xaxis",".highcharts-navigator-yaxis",".highcharts-navigator",".highcharts-reset-zoom",".highcharts-drillup-button",".highcharts-scrollbar",".highcharts-subtitle",".highcharts-title",],axisClass;if(this.scrollablePixelsX&&!this.inverted){axisClass=".highcharts-yaxis"}else if(this.scrollablePixelsX&&this.inverted){axisClass=".highcharts-xaxis"}else if(this.scrollablePixelsY&&!this.inverted){axisClass=".highcharts-xaxis"}else if(this.scrollablePixelsY&&this.inverted){axisClass=".highcharts-yaxis"}if(axisClass){fixedSelectors.push(axisClass+":not(.highcharts-radial-axis)",axisClass+"-labels:not(.highcharts-radial-axis-labels)")}fixedSelectors.forEach(function(className){[].forEach.call(container.querySelectorAll(className),function(elem){(elem.namespaceURI===fixedRenderer.SVG_NS?fixedRenderer.box:fixedRenderer.box.parentNode).appendChild(elem);elem.style.pointerEvents="auto"})})};Chart.prototype.applyFixed=function(){var firstTime=!this.fixedDiv,chartOptions=this.options.chart,scrollableOptions=chartOptions.scrollablePlotArea,Renderer=RendererRegistry.getRendererType();var fixedRenderer,scrollableWidth,scrollableHeight;if(firstTime){this.fixedDiv=createElement("div",{className:"highcharts-fixed",},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:((chartOptions.style&&chartOptions.style.zIndex)||0)+2,top:0,},null,true);if(this.scrollingContainer){this.scrollingContainer.parentNode.insertBefore(this.fixedDiv,this.scrollingContainer)}this.renderTo.style.overflow="visible";this.fixedRenderer=fixedRenderer=new Renderer(this.fixedDiv,this.chartWidth,this.chartHeight,this.options.chart.style);this.scrollableMask=fixedRenderer.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":pick(scrollableOptions.opacity,0.85),zIndex:-1,}).addClass("highcharts-scrollable-mask").add();addEvent(this,"afterShowResetZoom",this.moveFixedElements);addEvent(this,"afterDrilldown",this.moveFixedElements);addEvent(this,"afterLayOutTitles",this.moveFixedElements)}else{this.fixedRenderer.setSize(this.chartWidth,this.chartHeight)}if(this.scrollableDirty||firstTime){this.scrollableDirty=false;this.moveFixedElements()}scrollableWidth=this.chartWidth+(this.scrollablePixelsX||0);scrollableHeight=this.chartHeight+(this.scrollablePixelsY||0);stop(this.container);this.container.style.width=scrollableWidth+"px";this.container.style.height=scrollableHeight+"px";this.renderer.boxWrapper.attr({width:scrollableWidth,height:scrollableHeight,viewBox:[0,0,scrollableWidth,scrollableHeight].join(" "),});this.chartBackground.attr({width:scrollableWidth,height:scrollableHeight,});this.scrollingContainer.style.height=this.chartHeight+"px";if(firstTime){if(scrollableOptions.scrollPositionX){this.scrollingContainer.scrollLeft=this.scrollablePixelsX*scrollableOptions.scrollPositionX}if(scrollableOptions.scrollPositionY){this.scrollingContainer.scrollTop=this.scrollablePixelsY*scrollableOptions.scrollPositionY}}var axisOffset=this.axisOffset,maskTop=this.plotTop-axisOffset[0]-1,maskLeft=this.plotLeft-axisOffset[3]-1,maskBottom=this.plotTop+this.plotHeight+axisOffset[2]+1,maskRight=this.plotLeft+this.plotWidth+axisOffset[1]+1,maskPlotRight=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),maskPlotBottom=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0),d;if(this.scrollablePixelsX){d=[["M",0,maskTop],["L",this.plotLeft-1,maskTop],["L",this.plotLeft-1,maskBottom],["L",0,maskBottom],["Z"],["M",maskPlotRight,maskTop],["L",this.chartWidth,maskTop],["L",this.chartWidth,maskBottom],["L",maskPlotRight,maskBottom],["Z"],]}else if(this.scrollablePixelsY){d=[["M",maskLeft,0],["L",maskLeft,this.plotTop-1],["L",maskRight,this.plotTop-1],["L",maskRight,0],["Z"],["M",maskLeft,maskPlotBottom],["L",maskLeft,this.chartHeight],["L",maskRight,this.chartHeight],["L",maskRight,maskPlotBottom],["Z"],]}else{d=[["M",0,0]]}if(this.redrawTrigger!=="adjustHeight"){this.scrollableMask.attr({d:d})}};addEvent(Axis,"afterInit",function(){this.chart.scrollableDirty=true});addEvent(Series,"show",function(){this.chart.scrollableDirty=true});("")});_registerModule(_modules,"Core/Axis/StackingAxis.js",[_modules["Core/Animation/AnimationUtilities.js"],_modules["Core/Axis/Axis.js"],_modules["Core/Utilities.js"],],function(A,Axis,U){var getDeferredAnimation=A.getDeferredAnimation;var addEvent=U.addEvent,destroyObjectProperties=U.destroyObjectProperties,fireEvent=U.fireEvent,isNumber=U.isNumber,objectEach=U.objectEach;var StackingAxis;(function(StackingAxis){var composedClasses=[];function compose(AxisClass){if(composedClasses.indexOf(AxisClass)===-1){composedClasses.push(AxisClass);addEvent(AxisClass,"init",onInit);addEvent(AxisClass,"destroy",onDestroy)}return AxisClass}StackingAxis.compose=compose;function onDestroy(){var stacking=this.stacking;if(!stacking){return}var stacks=stacking.stacks;objectEach(stacks,function(stack,stackKey){destroyObjectProperties(stack);stacks[stackKey]=null});if(stacking&&stacking.stackTotalGroup){stacking.stackTotalGroup.destroy()}}function onInit(){var axis=this;if(!axis.stacking){axis.stacking=new Additions(axis)}}var Additions=(function(){function Additions(axis){this.oldStacks={};this.stacks={};this.stacksTouched=0;this.axis=axis}Additions.prototype.buildStacks=function(){var stacking=this;var axis=stacking.axis;var axisSeries=axis.series;var reversedStacks=axis.options.reversedStacks;var len=axisSeries.length;var actualSeries,i;if(!axis.isXAxis){stacking.usePercentage=false;i=len;while(i--){actualSeries=axisSeries[reversedStacks?i:len-i-1];actualSeries.setStackedPoints();actualSeries.setGroupedPoints()}for(i=0;i<len;i++){axisSeries[i].modifyStacks()}fireEvent(axis,"afterBuildStacks")}};Additions.prototype.cleanStacks=function(){var stacking=this,axis=stacking.axis;var stacks;if(!axis.isXAxis){if(stacking.oldStacks){stacks=stacking.stacks=stacking.oldStacks}objectEach(stacks,function(type){objectEach(type,function(stack){stack.cumulative=stack.total})})}};Additions.prototype.resetStacks=function(){var stacking=this,axis=stacking.axis,stacks=stacking.stacks;if(!axis.isXAxis){objectEach(stacks,function(type){objectEach(type,function(stack,x){if(isNumber(stack.touched)&&stack.touched<stacking.stacksTouched){stack.destroy();delete type[x]}else{stack.total=null;stack.cumulative=null}})})}};Additions.prototype.renderStackTotals=function(){var stacking=this,axis=stacking.axis,chart=axis.chart,renderer=chart.renderer,stacks=stacking.stacks,stackLabelsAnim=axis.options.stackLabels&&axis.options.stackLabels.animation,animationConfig=getDeferredAnimation(chart,stackLabelsAnim||false),stackTotalGroup=(stacking.stackTotalGroup=stacking.stackTotalGroup||renderer.g("stack-labels").attr({visibility:"visible",zIndex:6,opacity:0,}).add());stackTotalGroup.translate(chart.plotLeft,chart.plotTop);objectEach(stacks,function(type){objectEach(type,function(stack){stack.render(stackTotalGroup)})});stackTotalGroup.animate({opacity:1,},animationConfig)};return Additions})();StackingAxis.Additions=Additions})(StackingAxis||(StackingAxis={}));return StackingAxis});_registerModule(_modules,"Extensions/Stacking.js",[_modules["Core/Axis/Axis.js"],_modules["Core/Chart/Chart.js"],_modules["Core/FormatUtilities.js"],_modules["Core/Globals.js"],_modules["Core/Series/Series.js"],_modules["Core/Axis/StackingAxis.js"],_modules["Core/Utilities.js"],],function(Axis,Chart,F,H,Series,StackingAxis,U){var format=F.format;var correctFloat=U.correctFloat,defined=U.defined,destroyObjectProperties=U.destroyObjectProperties,isArray=U.isArray,isNumber=U.isNumber,objectEach=U.objectEach,pick=U.pick;var StackItem=(function(){function StackItem(axis,options,isNegative,x,stackOption){var inverted=axis.chart.inverted;this.axis=axis;this.isNegative=isNegative;this.options=options=options||{};this.x=x;this.total=null;this.points={};this.hasValidPoints=false;this.stack=stackOption;this.leftCliff=0;this.rightCliff=0;this.alignOptions={align:options.align||(inverted?(isNegative?"left":"right"):"center"),verticalAlign:options.verticalAlign||(inverted?"middle":isNegative?"bottom":"top"),y:options.y,x:options.x,};this.textAlign=options.textAlign||(inverted?(isNegative?"right":"left"):"center")}StackItem.prototype.destroy=function(){destroyObjectProperties(this,this.axis)};StackItem.prototype.render=function(group){var chart=this.axis.chart,options=this.options,formatOption=options.format,attr={},str=formatOption?format(formatOption,this,chart):options.formatter.call(this);if(this.label){this.label.attr({text:str,visibility:"hidden"})}else{this.label=chart.renderer.label(str,null,null,options.shape,null,null,options.useHTML,false,"stack-labels");attr={r:options.borderRadius||0,text:str,rotation:options.rotation,padding:pick(options.padding,5),visibility:"hidden",};if(!chart.styledMode){attr.fill=options.backgroundColor;attr.stroke=options.borderColor;attr["stroke-width"]=options.borderWidth;this.label.css(options.style)}this.label.attr(attr);if(!this.label.added){this.label.add(group)}}this.label.labelrank=chart.plotSizeY};StackItem.prototype.setOffset=function(xOffset,xWidth,boxBottom,boxTop,defaultX){var stackItem=this,axis=stackItem.axis,chart=axis.chart,y=axis.translate(axis.stacking.usePercentage?100:boxTop?boxTop:stackItem.total,0,0,0,1),yZero=axis.translate(boxBottom?boxBottom:0),h=defined(y)&&Math.abs(y-yZero),x=pick(defaultX,chart.xAxis[0].translate(stackItem.x))+xOffset,stackBox=defined(y)&&stackItem.getStackBox(chart,stackItem,x,y,xWidth,h,axis),label=stackItem.label,isNegative=stackItem.isNegative,isJustify=pick(stackItem.options.overflow,"justify")==="justify",textAlign=stackItem.textAlign,visible;if(label&&stackBox){var bBox=label.getBBox(),padding=label.padding,boxOffsetX=void 0,boxOffsetY=void 0;if(textAlign==="left"){boxOffsetX=chart.inverted?-padding:padding}else if(textAlign==="right"){boxOffsetX=bBox.width}else{if(chart.inverted&&textAlign==="center"){boxOffsetX=bBox.width/2}else{boxOffsetX=chart.inverted?isNegative?bBox.width+padding:-padding:bBox.width/2}}boxOffsetY=chart.inverted?bBox.height/2:isNegative?-padding:bBox.height;stackItem.alignOptions.x=pick(stackItem.options.x,0);stackItem.alignOptions.y=pick(stackItem.options.y,0);stackBox.x-=boxOffsetX;stackBox.y-=boxOffsetY;label.align(stackItem.alignOptions,null,stackBox);if(chart.isInsidePlot(label.alignAttr.x+boxOffsetX-stackItem.alignOptions.x,label.alignAttr.y+boxOffsetY-stackItem.alignOptions.y)){label.show()}else{label.alignAttr.y=-9999;isJustify=false}if(isJustify){Series.prototype.justifyDataLabel.call(this.axis,label,stackItem.alignOptions,label.alignAttr,bBox,stackBox)}label.attr({x:label.alignAttr.x,y:label.alignAttr.y,});if(pick(!isJustify&&stackItem.options.crop,true)){visible=isNumber(label.x)&&isNumber(label.y)&&chart.isInsidePlot(label.x-padding+label.width,label.y)&&chart.isInsidePlot(label.x+padding,label.y);if(!visible){label.hide()}}}};StackItem.prototype.getStackBox=function(chart,stackItem,x,y,xWidth,h,axis){var reversed=stackItem.axis.reversed,inverted=chart.inverted,axisPos=axis.height+axis.pos-(inverted?chart.plotLeft:chart.plotTop),neg=(stackItem.isNegative&&!reversed)||(!stackItem.isNegative&&reversed);return{x:inverted?neg?y-axis.right:y-h+axis.pos-chart.plotLeft:x+chart.xAxis[0].transB-chart.plotLeft,y:inverted?axis.height-x-xWidth:neg?axisPos-y-h:axisPos-y,width:inverted?h:xWidth,height:inverted?xWidth:h,}};return StackItem})();Chart.prototype.getStacks=function(){var chart=this,inverted=chart.inverted;chart.yAxis.forEach(function(axis){if(axis.stacking&&axis.stacking.stacks&&axis.hasVisibleSeries){axis.stacking.oldStacks=axis.stacking.stacks}});chart.series.forEach(function(series){var xAxisOptions=(series.xAxis&&series.xAxis.options)||{};if(series.options.stacking&&(series.visible===true||chart.options.chart.ignoreHiddenSeries===false)){series.stackKey=[series.type,pick(series.options.stack,""),inverted?xAxisOptions.top:xAxisOptions.left,inverted?xAxisOptions.height:xAxisOptions.width,].join(",")}})};StackingAxis.compose(Axis);Series.prototype.setGroupedPoints=function(){var stacking=this.yAxis.stacking;if(this.options.centerInCategory&&(this.is("column")||this.is("columnrange"))&&!this.options.stacking&&this.chart.series.length>1){Series.prototype.setStackedPoints.call(this,"group")}else if(stacking){objectEach(stacking.stacks,function(type,key){if(key.slice(-5)==="group"){objectEach(type,function(stack){return stack.destroy()});delete stacking.stacks[key]}})}};Series.prototype.setStackedPoints=function(stackingParam){var stacking=stackingParam||this.options.stacking;if(!stacking||(this.visible!==true&&this.chart.options.chart.ignoreHiddenSeries!==false)){return}var series=this,xData=series.processedXData,yData=series.processedYData,stackedYData=[],yDataLength=yData.length,seriesOptions=series.options,threshold=seriesOptions.threshold,stackThreshold=pick(seriesOptions.startFromThreshold&&threshold,0),stackOption=seriesOptions.stack,stackKey=stackingParam?series.type+","+stacking:series.stackKey,negKey="-"+stackKey,negStacks=series.negStacks,yAxis=series.yAxis,stacks=yAxis.stacking.stacks,oldStacks=yAxis.stacking.oldStacks,stackIndicator,isNegative,stack,other,key,pointKey,i,x,y;yAxis.stacking.stacksTouched+=1;for(i=0;i<yDataLength;i++){x=xData[i];y=yData[i];stackIndicator=series.getStackIndicator(stackIndicator,x,series.index);pointKey=stackIndicator.key;isNegative=negStacks&&y<(stackThreshold?0:threshold);key=isNegative?negKey:stackKey;if(!stacks[key]){stacks[key]={}}if(!stacks[key][x]){if(oldStacks[key]&&oldStacks[key][x]){stacks[key][x]=oldStacks[key][x];stacks[key][x].total=null}else{stacks[key][x]=new StackItem(yAxis,yAxis.options.stackLabels,isNegative,x,stackOption)}}stack=stacks[key][x];if(y!==null){stack.points[pointKey]=stack.points[series.index]=[pick(stack.cumulative,stackThreshold),];if(!defined(stack.cumulative)){stack.base=pointKey}stack.touched=yAxis.stacking.stacksTouched;if(stackIndicator.index>0&&series.singleStacks===false){stack.points[pointKey][0]=stack.points[series.index+","+x+",0"][0]}}else{stack.points[pointKey]=stack.points[series.index]=null}if(stacking==="percent"){other=isNegative?stackKey:negKey;if(negStacks&&stacks[other]&&stacks[other][x]){other=stacks[other][x];stack.total=other.total=Math.max(other.total,stack.total)+Math.abs(y)||0}else{stack.total=correctFloat(stack.total+(Math.abs(y)||0))}}else if(stacking==="group"){if(isArray(y)){y=y[0]}if(y!==null){stack.total=(stack.total||0)+1}}else{stack.total=correctFloat(stack.total+(y||0))}if(stacking==="group"){stack.cumulative=(stack.total||1)-1}else{stack.cumulative=pick(stack.cumulative,stackThreshold)+(y||0)}if(y!==null){stack.points[pointKey].push(stack.cumulative);stackedYData[i]=stack.cumulative;stack.hasValidPoints=true}}if(stacking==="percent"){yAxis.stacking.usePercentage=true}if(stacking!=="group"){this.stackedYData=stackedYData}yAxis.stacking.oldStacks={}};Series.prototype.modifyStacks=function(){var series=this,yAxis=series.yAxis,stackKey=series.stackKey,stacks=yAxis.stacking.stacks,processedXData=series.processedXData,stackIndicator,stacking=series.options.stacking;if(series[stacking+"Stacker"]){[stackKey,"-"+stackKey].forEach(function(key){var i=processedXData.length,x,stack,pointExtremes;while(i--){x=processedXData[i];stackIndicator=series.getStackIndicator(stackIndicator,x,series.index,key);stack=stacks[key]&&stacks[key][x];pointExtremes=stack&&stack.points[stackIndicator.key];if(pointExtremes){series[stacking+"Stacker"](pointExtremes,stack,i)}}})}};Series.prototype.percentStacker=function(pointExtremes,stack,i){var totalFactor=stack.total?100/stack.total:0;pointExtremes[0]=correctFloat(pointExtremes[0]*totalFactor);pointExtremes[1]=correctFloat(pointExtremes[1]*totalFactor);this.stackedYData[i]=pointExtremes[1]};Series.prototype.getStackIndicator=function(stackIndicator,x,index,key){if(!defined(stackIndicator)||stackIndicator.x!==x||(key&&stackIndicator.key!==key)){stackIndicator={x:x,index:0,key:key,}}else{stackIndicator.index++}stackIndicator.key=[index,x,stackIndicator.index].join(",");return stackIndicator};H.StackItem=StackItem;("");return H.StackItem});_registerModule(_modules,"Series/Line/LineSeries.js",[_modules["Core/Series/Series.js"],_modules["Core/Series/SeriesRegistry.js"],_modules["Core/Utilities.js"],],function(Series,SeriesRegistry,U){var __extends=(this&&this.__extends)||(function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b})||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):((__.prototype=b.prototype),new __())}})();var defined=U.defined,merge=U.merge;var LineSeries=(function(_super){__extends(LineSeries,_super);function LineSeries(){var _this=(_super!==null&&_super.apply(this,arguments))||this;_this.data=void 0;_this.options=void 0;_this.points=void 0;return _this}LineSeries.prototype.drawGraph=function(){var series=this,options=this.options,graphPath=(this.gappedPath||this.getGraphPath).call(this),styledMode=this.chart.styledMode;var props=[["graph","highcharts-graph"]];if(!styledMode){props[0].push(options.lineColor||this.color||"#cccccc",options.dashStyle)}props=series.getZonesGraphs(props);props.forEach(function(prop,i){var graphKey=prop[0];var attribs,graph=series[graphKey];var verb=graph?"animate":"attr";if(graph){graph.endX=series.preventGraphAnimation?null:graphPath.xMap;graph.animate({d:graphPath})}else if(graphPath.length){series[graphKey]=graph=series.chart.renderer.path(graphPath).addClass(prop[1]).attr({zIndex:1}).add(series.group)}if(graph&&!styledMode){attribs={stroke:prop[2],"stroke-width":options.lineWidth,fill:(series.fillGraph&&series.color)||"none",};if(prop[3]){attribs.dashstyle=prop[3]}else if(options.linecap!=="square"){attribs["stroke-linecap"]=attribs["stroke-linejoin"]="round"}graph[verb](attribs).shadow(i<2&&options.shadow)}if(graph){graph.startX=graphPath.xMap;graph.isArea=graphPath.isArea}})};LineSeries.prototype.getGraphPath=function(points,nullsAsZeroes,connectCliffs){var series=this,options=series.options,graphPath=[],xMap=[];var gap,step=options.step;points=points||series.points;var reversed=points.reversed;if(reversed){points.reverse()}step={right:1,center:2,}[step]||(step&&3);if(step&&reversed){step=4-step}points=this.getValidPoints(points,false,!(options.connectNulls&&!nullsAsZeroes&&!connectCliffs));points.forEach(function(point,i){var plotX=point.plotX,plotY=point.plotY,lastPoint=points[i-1];var pathToPoint;if((point.leftCliff||(lastPoint&&lastPoint.rightCliff))&&!connectCliffs){gap=true}if(point.isNull&&!defined(nullsAsZeroes)&&i>0){gap=!options.connectNulls}else if(point.isNull&&!nullsAsZeroes){gap=true}else{if(i===0||gap){pathToPoint=[["M",point.plotX,point.plotY]]}else if(series.getPointSpline){pathToPoint=[series.getPointSpline(points,point,i)]}else if(step){if(step===1){pathToPoint=[["L",lastPoint.plotX,plotY]]}else if(step===2){pathToPoint=[["L",(lastPoint.plotX+plotX)/2,lastPoint.plotY],["L",(lastPoint.plotX+plotX)/2,plotY],]}else{pathToPoint=[["L",plotX,lastPoint.plotY]]}pathToPoint.push(["L",plotX,plotY])}else{pathToPoint=[["L",plotX,plotY]]}xMap.push(point.x);if(step){xMap.push(point.x);if(step===2){xMap.push(point.x)}}graphPath.push.apply(graphPath,pathToPoint);gap=false}});graphPath.xMap=xMap;series.graphPath=graphPath;return graphPath};LineSeries.prototype.getZonesGraphs=function(props){this.zones.forEach(function(zone,i){var propset=["zone-graph-"+i,"highcharts-graph highcharts-zone-graph-"+i+" "+(zone.className||""),];if(!this.chart.styledMode){propset.push(zone.color||this.color,zone.dashStyle||this.options.dashStyle)}props.push(propset)},this);return props};LineSeries.defaultOptions=merge(Series.defaultOptions,{});return LineSeries})(Series);SeriesRegistry.registerSeriesType("line",LineSeries);("");return LineSeries});_registerModule(_modules,"Series/Area/AreaSeries.js",[_modules["Core/Color/Color.js"],_modules["Core/Legend/LegendSymbol.js"],_modules["Core/Series/SeriesRegistry.js"],_modules["Core/Utilities.js"],],function(Color,LegendSymbol,SeriesRegistry,U){var __extends=(this&&this.__extends)||(function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b})||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):((__.prototype=b.prototype),new __())}})();var color=Color.parse;var LineSeries=SeriesRegistry.seriesTypes.line;var extend=U.extend,merge=U.merge,objectEach=U.objectEach,pick=U.pick;var AreaSeries=(function(_super){__extends(AreaSeries,_super);function AreaSeries(){var _this=(_super!==null&&_super.apply(this,arguments))||this;_this.data=void 0;_this.options=void 0;_this.points=void 0;return _this}AreaSeries.prototype.drawGraph=function(){this.areaPath=[];_super.prototype.drawGraph.apply(this);var series=this,areaPath=this.areaPath,options=this.options,zones=this.zones,props=[["area","highcharts-area",this.color,options.fillColor],];zones.forEach(function(zone,i){props.push(["zone-area-"+i,"highcharts-area highcharts-zone-area-"+i+" "+zone.className,zone.color||series.color,zone.fillColor||options.fillColor,])});props.forEach(function(prop){var areaKey=prop[0],area=series[areaKey],verb=area?"animate":"attr",attribs={};if(area){area.endX=series.preventGraphAnimation?null:areaPath.xMap;area.animate({d:areaPath})}else{attribs.zIndex=0;area=series[areaKey]=series.chart.renderer.path(areaPath).addClass(prop[1]).add(series.group);area.isArea=true}if(!series.chart.styledMode){attribs.fill=pick(prop[3],color(prop[2]).setOpacity(pick(options.fillOpacity,0.75)).get())}area[verb](attribs);area.startX=areaPath.xMap;area.shiftUnit=options.step?2:1})};AreaSeries.prototype.getGraphPath=function(points){var getGraphPath=LineSeries.prototype.getGraphPath,graphPath,options=this.options,stacking=options.stacking,yAxis=this.yAxis,topPath,bottomPath,bottomPoints=[],graphPoints=[],seriesIndex=this.index,i,areaPath,plotX,stacks=yAxis.stacking.stacks[this.stackKey],threshold=options.threshold,translatedThreshold=Math.round(yAxis.getThreshold(options.threshold)),isNull,yBottom,connectNulls=pick(options.connectNulls,stacking==="percent"),addDummyPoints=function(i,otherI,side){var point=points[i],stackedValues=stacking&&stacks[point.x].points[seriesIndex],nullVal=point[side+"Null"]||0,cliffVal=point[side+"Cliff"]||0,top,bottom,isNull=true;if(cliffVal||nullVal){top=(nullVal?stackedValues[0]:stackedValues[1])+cliffVal;bottom=stackedValues[0]+cliffVal;isNull=!!nullVal}else if(!stacking&&points[otherI]&&points[otherI].isNull){top=bottom=threshold}if(typeof top!=="undefined"){graphPoints.push({plotX:plotX,plotY:top===null?translatedThreshold:yAxis.getThreshold(top),isNull:isNull,isCliff:true,});bottomPoints.push({plotX:plotX,plotY:bottom===null?translatedThreshold:yAxis.getThreshold(bottom),doCurve:false,})}};points=points||this.points;if(stacking){points=this.getStackPoints(points)}for(i=0;i<points.length;i++){if(!stacking){points[i].leftCliff=points[i].rightCliff=points[i].leftNull=points[i].rightNull=void 0}isNull=points[i].isNull;plotX=pick(points[i].rectPlotX,points[i].plotX);yBottom=stacking?pick(points[i].yBottom,translatedThreshold):translatedThreshold;if(!isNull||connectNulls){if(!connectNulls){addDummyPoints(i,i-1,"left")}if(!(isNull&&!stacking&&connectNulls)){graphPoints.push(points[i]);bottomPoints.push({x:i,plotX:plotX,plotY:yBottom,})}if(!connectNulls){addDummyPoints(i,i+1,"right")}}}topPath=getGraphPath.call(this,graphPoints,true,true);bottomPoints.reversed=true;bottomPath=getGraphPath.call(this,bottomPoints,true,true);var firstBottomPoint=bottomPath[0];if(firstBottomPoint&&firstBottomPoint[0]==="M"){bottomPath[0]=["L",firstBottomPoint[1],firstBottomPoint[2]]}areaPath=topPath.concat(bottomPath);if(areaPath.length){areaPath.push(["Z"])}graphPath=getGraphPath.call(this,graphPoints,false,connectNulls);areaPath.xMap=topPath.xMap;this.areaPath=areaPath;return graphPath};AreaSeries.prototype.getStackPoints=function(points){var series=this,segment=[],keys=[],xAxis=this.xAxis,yAxis=this.yAxis,stack=yAxis.stacking.stacks[this.stackKey],pointMap={},yAxisSeries=yAxis.series,seriesLength=yAxisSeries.length,upOrDown=yAxis.options.reversedStacks?1:-1,seriesIndex=yAxisSeries.indexOf(series);points=points||this.points;if(this.options.stacking){for(var i=0;i<points.length;i++){points[i].leftNull=points[i].rightNull=void 0;pointMap[points[i].x]=points[i]}objectEach(stack,function(stackX,x){if(stackX.total!==null){keys.push(x)}});keys.sort(function(a,b){return a-b});var visibleSeries_1=yAxisSeries.map(function(s){return s.visible});keys.forEach(function(x,idx){var y=0,stackPoint,stackedValues;if(pointMap[x]&&!pointMap[x].isNull){segment.push(pointMap[x]);[-1,1].forEach(function(direction){var nullName=direction===1?"rightNull":"leftNull",cliffName=direction===1?"rightCliff":"leftCliff",cliff=0,otherStack=stack[keys[idx+direction]];if(otherStack){var i=seriesIndex;while(i>=0&&i<seriesLength){var si=yAxisSeries[i].index;stackPoint=otherStack.points[si];if(!stackPoint){if(si===series.index){pointMap[x][nullName]=true}else if(visibleSeries_1[i]){stackedValues=stack[x].points[si];if(stackedValues){cliff-=stackedValues[1]-stackedValues[0]}}}i+=upOrDown}}pointMap[x][cliffName]=cliff})}else{var i=seriesIndex;while(i>=0&&i<seriesLength){var si=yAxisSeries[i].index;stackPoint=stack[x].points[si];if(stackPoint){y=stackPoint[1];break}i+=upOrDown}y=pick(y,0);y=yAxis.translate(y,0,1,0,1);segment.push({isNull:true,plotX:xAxis.translate(x,0,0,0,1),x:x,plotY:y,yBottom:y,})}})}return segment};AreaSeries.defaultOptions=merge(LineSeries.defaultOptions,{threshold:0,});return AreaSeries})(LineSeries);extend(AreaSeries.prototype,{singleStacks:false,drawLegendSymbol:LegendSymbol.drawRectangle,});SeriesRegistry.registerSeriesType("area",AreaSeries);("");return AreaSeries});_registerModule(_modules,"Series/Spline/SplineSeries.js",[_modules["Core/Series/SeriesRegistry.js"],_modules["Core/Utilities.js"]],function(SeriesRegistry,U){var __extends=(this&&this.__extends)||(function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b})||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):((__.prototype=b.prototype),new __())}})();var LineSeries=SeriesRegistry.seriesTypes.line;var merge=U.merge,pick=U.pick;var SplineSeries=(function(_super){__extends(SplineSeries,_super);function SplineSeries(){var _this=(_super!==null&&_super.apply(this,arguments))||this;_this.data=void 0;_this.options=void 0;_this.points=void 0;return _this}SplineSeries.prototype.getPointSpline=function(points,point,i){var smoothing=1.5,denom=smoothing+1,plotX=point.plotX||0,plotY=point.plotY||0,lastPoint=points[i-1],nextPoint=points[i+1],leftContX,leftContY,rightContX,rightContY,ret;function doCurve(otherPoint){return(otherPoint&&!otherPoint.isNull&&otherPoint.doCurve!==false&&!point.isCliff)}if(doCurve(lastPoint)&&doCurve(nextPoint)){var lastX=lastPoint.plotX||0,lastY=lastPoint.plotY||0,nextX=nextPoint.plotX||0,nextY=nextPoint.plotY||0,correction=0;leftContX=(smoothing*plotX+lastX)/denom;leftContY=(smoothing*plotY+lastY)/denom;rightContX=(smoothing*plotX+nextX)/denom;rightContY=(smoothing*plotY+nextY)/denom;if(rightContX!==leftContX){correction=((rightContY-leftContY)*(rightContX-plotX))/(rightContX-leftContX)+plotY-rightContY}leftContY+=correction;rightContY+=correction;if(leftContY>lastY&&leftContY>plotY){leftContY=Math.max(lastY,plotY);rightContY=2*plotY-leftContY}else if(leftContY<lastY&&leftContY<plotY){leftContY=Math.min(lastY,plotY);rightContY=2*plotY-leftContY}if(rightContY>nextY&&rightContY>plotY){rightContY=Math.max(nextY,plotY);leftContY=2*plotY-rightContY}else if(rightContY<nextY&&rightContY<plotY){rightContY=Math.min(nextY,plotY);leftContY=2*plotY-rightContY}point.rightContX=rightContX;point.rightContY=rightContY}ret=["C",pick(lastPoint.rightContX,lastPoint.plotX,0),pick(lastPoint.rightContY,lastPoint.plotY,0),pick(leftContX,plotX,0),pick(leftContY,plotY,0),plotX,plotY,];lastPoint.rightContX=lastPoint.rightContY=void 0;return ret};SplineSeries.defaultOptions=merge(LineSeries.defaultOptions);return SplineSeries})(LineSeries);SeriesRegistry.registerSeriesType("spline",SplineSeries);("");return SplineSeries});_registerModule(_modules,"Series/AreaSpline/AreaSplineSeries.js",[_modules["Series/Area/AreaSeries.js"],_modules["Series/Spline/SplineSeries.js"],_modules["Core/Legend/LegendSymbol.js"],_modules["Core/Series/SeriesRegistry.js"],_modules["Core/Utilities.js"],],function(AreaSeries,SplineSeries,LegendSymbol,SeriesRegistry,U){var __extends=(this&&this.__extends)||(function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b})||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):((__.prototype=b.prototype),new __())}})();var areaProto=AreaSeries.prototype;var extend=U.extend,merge=U.merge;var AreaSplineSeries=(function(_super){__extends(AreaSplineSeries,_super);function AreaSplineSeries(){var _this=(_super!==null&&_super.apply(this,arguments))||this;_this.data=void 0;_this.points=void 0;_this.options=void 0;return _this}AreaSplineSeries.defaultOptions=merge(SplineSeries.defaultOptions,AreaSeries.defaultOptions);return AreaSplineSeries})(SplineSeries);extend(AreaSplineSeries.prototype,{getGraphPath:areaProto.getGraphPath,getStackPoints:areaProto.getStackPoints,drawGraph:areaProto.drawGraph,drawLegendSymbol:LegendSymbol.drawRectangle,});SeriesRegistry.registerSeriesType("areaspline",AreaSplineSeries);("");return AreaSplineSeries});_registerModule(_modules,"Series/Column/ColumnSeries.js",[_modules["Core/Animation/AnimationUtilities.js"],_modules["Core/Color/Color.js"],_modules["Core/Globals.js"],_modules["Core/Legend/LegendSymbol.js"],_modules["Core/Series/Series.js"],_modules["Core/Series/SeriesRegistry.js"],_modules["Core/Utilities.js"],],function(A,Color,H,LegendSymbol,Series,SeriesRegistry,U){var __extends=(this&&this.__extends)||(function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b})||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):((__.prototype=b.prototype),new __())}})();var animObject=A.animObject;var color=Color.parse;var hasTouch=H.hasTouch,noop=H.noop;var clamp=U.clamp,css=U.css,defined=U.defined,extend=U.extend,fireEvent=U.fireEvent,isArray=U.isArray,isNumber=U.isNumber,merge=U.merge,pick=U.pick,objectEach=U.objectEach;var ColumnSeries=(function(_super){__extends(ColumnSeries,_super);function ColumnSeries(){var _this=(_super!==null&&_super.apply(this,arguments))||this;_this.borderWidth=void 0;_this.data=void 0;_this.group=void 0;_this.options=void 0;_this.points=void 0;return _this}ColumnSeries.prototype.animate=function(init){var series=this,yAxis=this.yAxis,options=series.options,inverted=this.chart.inverted,attr={},translateProp=inverted?"translateX":"translateY";var translateStart,translatedThreshold;if(init){attr.scaleY=0.001;translatedThreshold=clamp(yAxis.toPixels(options.threshold),yAxis.pos,yAxis.pos+yAxis.len);if(inverted){attr.translateX=translatedThreshold-yAxis.len}else{attr.translateY=translatedThreshold}if(series.clipBox){series.setClip()}series.group.attr(attr)}else{translateStart=Number(series.group.attr(translateProp));series.group.animate({scaleY:1},extend(animObject(series.options.animation),{step:function(val,fx){if(series.group){attr[translateProp]=translateStart+fx.pos*(yAxis.pos-translateStart);series.group.attr(attr)}},}))}};ColumnSeries.prototype.init=function(chart,options){_super.prototype.init.apply(this,arguments);var series=this;chart=series.chart;if(chart.hasRendered){chart.series.forEach(function(otherSeries){if(otherSeries.type===series.type){otherSeries.isDirty=true}})}};ColumnSeries.prototype.getColumnMetrics=function(){var series=this,options=series.options,xAxis=series.xAxis,yAxis=series.yAxis,reversedStacks=xAxis.options.reversedStacks,reverseStacks=(xAxis.reversed&&!reversedStacks)||(!xAxis.reversed&&reversedStacks),stackGroups={};var stackKey,columnCount=0;if(options.grouping===false){columnCount=1}else{series.chart.series.forEach(function(otherSeries){var otherYAxis=otherSeries.yAxis,otherOptions=otherSeries.options;var columnIndex;if(otherSeries.type===series.type&&(otherSeries.visible||!series.chart.options.chart.ignoreHiddenSeries)&&yAxis.len===otherYAxis.len&&yAxis.pos===otherYAxis.pos){if(otherOptions.stacking&&otherOptions.stacking!=="group"){stackKey=otherSeries.stackKey;if(typeof stackGroups[stackKey]==="undefined"){stackGroups[stackKey]=columnCount++}columnIndex=stackGroups[stackKey]}else if(otherOptions.grouping!==false){columnIndex=columnCount++}otherSeries.columnIndex=columnIndex}})}var categoryWidth=Math.min(Math.abs(xAxis.transA)*((xAxis.ordinal&&xAxis.ordinal.slope)||options.pointRange||xAxis.closestPointRange||xAxis.tickInterval||1),xAxis.len),groupPadding=categoryWidth*options.groupPadding,groupWidth=categoryWidth-2*groupPadding,pointOffsetWidth=groupWidth/(columnCount||1),pointWidth=Math.min(options.maxPointWidth||xAxis.len,pick(options.pointWidth,pointOffsetWidth*(1-2*options.pointPadding))),pointPadding=(pointOffsetWidth-pointWidth)/2,colIndex=(series.columnIndex||0)+(reverseStacks?1:0),pointXOffset=pointPadding+(groupPadding+colIndex*pointOffsetWidth-categoryWidth/2)*(reverseStacks?-1:1);series.columnMetrics={width:pointWidth,offset:pointXOffset,paddedWidth:pointOffsetWidth,columnCount:columnCount,};return series.columnMetrics};ColumnSeries.prototype.crispCol=function(x,y,w,h){var chart=this.chart,borderWidth=this.borderWidth,xCrisp=-(borderWidth%2?0.5:0);var right,yCrisp=borderWidth%2?0.5:1;if(chart.inverted&&chart.renderer.isVML){yCrisp+=1}if(this.options.crisp){right=Math.round(x+w)+xCrisp;x=Math.round(x)+xCrisp;w=right-x}var bottom=Math.round(y+h)+yCrisp,fromTop=Math.abs(y)<=0.5&&bottom>0.5;y=Math.round(y)+yCrisp;h=bottom-y;if(fromTop&&h){y-=1;h+=1}return{x:x,y:y,width:w,height:h,}};ColumnSeries.prototype.adjustForMissingColumns=function(x,pointWidth,point,metrics){var _this=this;var stacking=this.options.stacking;if(!point.isNull&&metrics.columnCount>1){var indexInCategory_1=0;var totalInCategory_1=0;objectEach(this.yAxis.stacking&&this.yAxis.stacking.stacks,function(stack){if(typeof point.x==="number"){var stackItem=stack[point.x.toString()];if(stackItem){var pointValues=stackItem.points[_this.index],total=stackItem.total;if(stacking){if(pointValues){indexInCategory_1=totalInCategory_1}if(stackItem.hasValidPoints){totalInCategory_1++}}else if(isArray(pointValues)){indexInCategory_1=pointValues[1];totalInCategory_1=total||0}}}});var boxWidth=(totalInCategory_1-1)*metrics.paddedWidth+pointWidth;x=(point.plotX||0)+boxWidth/2-pointWidth-indexInCategory_1*metrics.paddedWidth}return x};ColumnSeries.prototype.translate=function(){var series=this,chart=series.chart,options=series.options,dense=(series.dense=series.closestPointRange*series.xAxis.transA<2),borderWidth=(series.borderWidth=pick(options.borderWidth,dense?0:1)),xAxis=series.xAxis,yAxis=series.yAxis,threshold=options.threshold,translatedThreshold=(series.translatedThreshold=yAxis.getThreshold(threshold)),minPointLength=pick(options.minPointLength,5),metrics=series.getColumnMetrics(),seriesPointWidth=metrics.width,seriesXOffset=(series.pointXOffset=metrics.offset),dataMin=series.dataMin,dataMax=series.dataMax;var seriesBarW=(series.barW=Math.max(seriesPointWidth,1+2*borderWidth));if(chart.inverted){translatedThreshold-=0.5}if(options.pointPadding){seriesBarW=Math.ceil(seriesBarW)}Series.prototype.translate.apply(series);series.points.forEach(function(point){var yBottom=pick(point.yBottom,translatedThreshold),safeDistance=999+Math.abs(yBottom),plotX=point.plotX||0,plotY=clamp(point.plotY,-safeDistance,yAxis.len+safeDistance);var up,barY=Math.min(plotY,yBottom),barH=Math.max(plotY,yBottom)-barY,pointWidth=seriesPointWidth,barX=plotX+seriesXOffset,barW=seriesBarW;if(minPointLength&&Math.abs(barH)<minPointLength){barH=minPointLength;up=(!yAxis.reversed&&!point.negative)||(yAxis.reversed&&point.negative);if(isNumber(threshold)&&isNumber(dataMax)&&point.y===threshold&&dataMax<=threshold&&(yAxis.min||0)<threshold&&(dataMin!==dataMax||(yAxis.max||0)<=threshold)){up=!up}barY=Math.abs(barY-translatedThreshold)>minPointLength?yBottom-minPointLength:translatedThreshold-(up?minPointLength:0)}if(defined(point.options.pointWidth)){pointWidth=barW=Math.ceil(point.options.pointWidth);barX-=Math.round((pointWidth-seriesPointWidth)/2)}if(options.centerInCategory){barX=series.adjustForMissingColumns(barX,pointWidth,point,metrics)}point.barX=barX;point.pointWidth=pointWidth;point.tooltipPos=chart.inverted?[clamp(yAxis.len+yAxis.pos-chart.plotLeft-plotY,yAxis.pos-chart.plotLeft,yAxis.len+yAxis.pos-chart.plotLeft),xAxis.len+xAxis.pos-chart.plotTop-barX-barW/2,barH,]:[xAxis.left-chart.plotLeft+barX+barW/2,clamp(plotY+yAxis.pos-chart.plotTop,yAxis.pos-chart.plotTop,yAxis.len+yAxis.pos-chart.plotTop),barH,];point.shapeType=series.pointClass.prototype.shapeType||"rect";point.shapeArgs=series.crispCol.apply(series,point.isNull?[barX,translatedThreshold,barW,0]:[barX,barY,barW,barH])})};ColumnSeries.prototype.drawGraph=function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")};ColumnSeries.prototype.pointAttribs=function(point,state){var options=this.options,p2o=this.pointAttrToOptions||{},strokeOption=p2o.stroke||"borderColor",strokeWidthOption=p2o["stroke-width"]||"borderWidth";var stateOptions,zone,brightness,fill=(point&&point.color)||this.color,stroke=(point&&point[strokeOption])||options[strokeOption]||fill,dashstyle=(point&&point.options.dashStyle)||options.dashStyle,strokeWidth=(point&&point[strokeWidthOption])||options[strokeWidthOption]||this[strokeWidthOption]||0,opacity=pick(point&&point.opacity,options.opacity,1);if(point&&this.zones.length){zone=point.getZone();fill=point.options.color||(zone&&(zone.color||point.nonZonedColor))||this.color;if(zone){stroke=zone.borderColor||stroke;dashstyle=zone.dashStyle||dashstyle;strokeWidth=zone.borderWidth||strokeWidth}}if(state&&point){stateOptions=merge(options.states[state],(point.options.states&&point.options.states[state])||{});brightness=stateOptions.brightness;fill=stateOptions.color||(typeof brightness!=="undefined"&&color(fill).brighten(stateOptions.brightness).get())||fill;stroke=stateOptions[strokeOption]||stroke;strokeWidth=stateOptions[strokeWidthOption]||strokeWidth;dashstyle=stateOptions.dashStyle||dashstyle;opacity=pick(stateOptions.opacity,opacity)}var ret={fill:fill,stroke:stroke,"stroke-width":strokeWidth,opacity:opacity,};if(dashstyle){ret.dashstyle=dashstyle}return ret};ColumnSeries.prototype.drawPoints=function(){var series=this,chart=this.chart,options=series.options,renderer=chart.renderer,animationLimit=options.animationLimit||250;var shapeArgs;series.points.forEach(function(point){var plotY=point.plotY;var graphic=point.graphic,hasGraphic=!!graphic,verb=graphic&&chart.pointCount<animationLimit?"animate":"attr";if(isNumber(plotY)&&point.y!==null){shapeArgs=point.shapeArgs;if(graphic&&point.hasNewShapeType()){graphic=graphic.destroy()}if(series.enabledDataSorting){point.startXPos=series.xAxis.reversed?-(shapeArgs?shapeArgs.width||0:0):series.xAxis.width}if(!graphic){point.graphic=graphic=renderer[point.shapeType](shapeArgs).add(point.group||series.group);if(graphic&&series.enabledDataSorting&&chart.hasRendered&&chart.pointCount<animationLimit){graphic.attr({x:point.startXPos,});hasGraphic=true;verb="animate"}}if(graphic&&hasGraphic){graphic[verb](merge(shapeArgs))}if(options.borderRadius){graphic[verb]({r:options.borderRadius,})}if(!chart.styledMode){graphic[verb](series.pointAttribs(point,point.selected&&"select")).shadow(point.allowShadow!==false&&options.shadow,null,options.stacking&&!options.borderRadius)}if(graphic){graphic.addClass(point.getClassName(),true);graphic.attr({visibility:point.visible?"inherit":"hidden",})}}else if(graphic){point.graphic=graphic.destroy()}})};ColumnSeries.prototype.drawTracker=function(){var series=this,chart=series.chart,pointer=chart.pointer,onMouseOver=function(e){var point=pointer.getPointFromEvent(e);if(typeof point!=="undefined"){pointer.isDirectTouch=true;point.onMouseOver(e)}};var dataLabels;series.points.forEach(function(point){dataLabels=isArray(point.dataLabels)?point.dataLabels:point.dataLabel?[point.dataLabel]:[];if(point.graphic){point.graphic.element.point=point}dataLabels.forEach(function(dataLabel){if(dataLabel.div){dataLabel.div.point=point}else{dataLabel.element.point=point}})});if(!series._hasTracking){series.trackerGroups.forEach(function(key){if(series[key]){series[key].addClass("highcharts-tracker").on("mouseover",onMouseOver).on("mouseout",function(e){pointer.onTrackerMouseOut(e)});if(hasTouch){series[key].on("touchstart",onMouseOver)}if(!chart.styledMode&&series.options.cursor){series[key].css(css).css({cursor:series.options.cursor})}}});series._hasTracking=true}fireEvent(this,"afterDrawTracker")};ColumnSeries.prototype.remove=function(){var series=this,chart=series.chart;if(chart.hasRendered){chart.series.forEach(function(otherSeries){if(otherSeries.type===series.type){otherSeries.isDirty=true}})}Series.prototype.remove.apply(series,arguments)};ColumnSeries.defaultOptions=merge(Series.defaultOptions,{borderRadius:0,centerInCategory:false,groupPadding:0.2,marker:null,pointPadding:0.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:false,brightness:0.1,},select:{color:"#cccccc",borderColor:"#000000",},},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0,},startFromThreshold:true,stickyTracking:false,tooltip:{distance:6,},threshold:0,borderColor:"#ffffff",});return ColumnSeries})(Series);extend(ColumnSeries.prototype,{cropShoulder:0,directTouch:true,drawLegendSymbol:LegendSymbol.drawRectangle,getSymbol:noop,negStacks:true,trackerGroups:["group","dataLabelsGroup"],});SeriesRegistry.registerSeriesType("column",ColumnSeries);("");("");return ColumnSeries});_registerModule(_modules,"Core/Series/DataLabel.js",[_modules["Core/Animation/AnimationUtilities.js"],_modules["Core/FormatUtilities.js"],_modules["Core/Utilities.js"],],function(A,F,U){var getDeferredAnimation=A.getDeferredAnimation;var format=F.format;var defined=U.defined,extend=U.extend,fireEvent=U.fireEvent,isArray=U.isArray,merge=U.merge,objectEach=U.objectEach,pick=U.pick,splat=U.splat;var DataLabel;(function(DataLabel){var composedClasses=[];function alignDataLabel(point,dataLabel,options,alignTo,isNew){var series=this,chart=this.chart,inverted=this.isCartesian&&chart.inverted,enabledDataSorting=this.enabledDataSorting,plotX=pick(point.dlBox&&point.dlBox.centerX,point.plotX,-9999),plotY=pick(point.plotY,-9999),bBox=dataLabel.getBBox(),rotation=options.rotation,align=options.align,isInsidePlot=chart.isInsidePlot(plotX,Math.round(plotY),{inverted:inverted,paneCoordinates:true,series:series,}),setStartPos=function(alignOptions){if(enabledDataSorting&&series.xAxis&&!justify){series.setDataLabelStartPos(point,dataLabel,isNew,isInsidePlot,alignOptions)}};var baseline,normRotation,negRotation,rotCorr,alignAttr,justify=pick(options.overflow,enabledDataSorting?"none":"justify")==="justify",visible=this.visible&&point.visible!==false&&(point.series.forceDL||(enabledDataSorting&&!justify)||isInsidePlot||(pick(options.inside,!!this.options.stacking)&&alignTo&&chart.isInsidePlot(plotX,inverted?alignTo.x+1:alignTo.y+alignTo.height-1,{inverted:inverted,paneCoordinates:true,series:series,})));if(visible){baseline=chart.renderer.fontMetrics(chart.styledMode?void 0:options.style.fontSize,dataLabel).b;alignTo=extend({x:inverted?this.yAxis.len-plotY:plotX,y:Math.round(inverted?this.xAxis.len-plotX:plotY),width:0,height:0,},alignTo);extend(options,{width:bBox.width,height:bBox.height,});if(rotation){justify=false;rotCorr=chart.renderer.rotCorr(baseline,rotation);alignAttr={x:alignTo.x+(options.x||0)+alignTo.width/2+rotCorr.x,y:alignTo.y+(options.y||0)+{top:0,middle:0.5,bottom:1}[options.verticalAlign]*alignTo.height,};setStartPos(alignAttr);dataLabel[isNew?"attr":"animate"](alignAttr).attr({align:align,});normRotation=(rotation+720)%360;negRotation=normRotation>180&&normRotation<360;if(align==="left"){alignAttr.y-=negRotation?bBox.height:0}else if(align==="center"){alignAttr.x-=bBox.width/2;alignAttr.y-=bBox.height/2}else if(align==="right"){alignAttr.x-=bBox.width;alignAttr.y-=negRotation?0:bBox.height}dataLabel.placed=true;dataLabel.alignAttr=alignAttr}else{setStartPos(alignTo);dataLabel.align(options,void 0,alignTo);alignAttr=dataLabel.alignAttr}if(justify&&alignTo.height>=0){this.justifyDataLabel(dataLabel,options,alignAttr,bBox,alignTo,isNew)}else if(pick(options.crop,true)){visible=chart.isInsidePlot(alignAttr.x,alignAttr.y,{paneCoordinates:true,series:series,})&&chart.isInsidePlot(alignAttr.x+bBox.width,alignAttr.y+bBox.height,{paneCoordinates:true,series:series,})}if(options.shape&&!rotation){dataLabel[isNew?"attr":"animate"]({anchorX:inverted?chart.plotWidth-point.plotY:point.plotX,anchorY:inverted?chart.plotHeight-point.plotX:point.plotY,})}}if(isNew&&enabledDataSorting){dataLabel.placed=false}if(!visible&&(!enabledDataSorting||justify)){dataLabel.hide(true);dataLabel.placed=false}}function applyFilter(point,options){var filter=options.filter;if(filter){var op=filter.operator;var prop=point[filter.property];var val=filter.value;if((op===">"&&prop>val)||(op==="<"&&prop<val)||(op===">="&&prop>=val)||(op==="<="&&prop<=val)||(op==="=="&&prop==val)||(op==="==="&&prop===val)){return true}return false}return true}function compose(SeriesClass){if(composedClasses.indexOf(SeriesClass)===-1){var seriesProto=SeriesClass.prototype;composedClasses.push(SeriesClass);seriesProto.alignDataLabel=alignDataLabel;seriesProto.drawDataLabels=drawDataLabels;seriesProto.justifyDataLabel=justifyDataLabel;seriesProto.setDataLabelStartPos=setDataLabelStartPos}}DataLabel.compose=compose;function drawDataLabels(){var series=this,chart=series.chart,seriesOptions=series.options,points=series.points,hasRendered=series.hasRendered||0,renderer=chart.renderer;var seriesDlOptions=seriesOptions.dataLabels,pointOptions,dataLabelsGroup;var dataLabelAnim=seriesDlOptions.animation,animationConfig=seriesDlOptions.defer?getDeferredAnimation(chart,dataLabelAnim,series):{defer:0,duration:0};seriesDlOptions=mergeArrays(mergeArrays(chart.options.plotOptions&&chart.options.plotOptions.series&&chart.options.plotOptions.series.dataLabels,chart.options.plotOptions&&chart.options.plotOptions[series.type]&&chart.options.plotOptions[series.type].dataLabels),seriesDlOptions);fireEvent(this,"drawDataLabels");if(isArray(seriesDlOptions)||seriesDlOptions.enabled||series._hasPointLabels){dataLabelsGroup=series.plotGroup("dataLabelsGroup","data-labels",!hasRendered?"hidden":"inherit",seriesDlOptions.zIndex||6);dataLabelsGroup.attr({opacity:+hasRendered});if(!hasRendered){var group=series.dataLabelsGroup;if(group){if(series.visible){dataLabelsGroup.show(true)}group[seriesOptions.animation?"animate":"attr"]({opacity:1},animationConfig)}}points.forEach(function(point){pointOptions=splat(mergeArrays(seriesDlOptions,point.dlOptions||(point.options&&point.options.dataLabels)));pointOptions.forEach(function(labelOptions,i){var labelEnabled=labelOptions.enabled&&(!point.isNull||point.dataLabelOnNull)&&applyFilter(point,labelOptions),connector=point.connectors?point.connectors[i]:point.connector;var labelConfig,formatString,labelText,style,rotation,attr,dataLabel=point.dataLabels?point.dataLabels[i]:point.dataLabel;var labelDistance=pick(labelOptions.distance,point.labelDistance),isNew=!dataLabel;if(labelEnabled){labelConfig=point.getLabelConfig();formatString=pick(labelOptions[point.formatPrefix+"Format"],labelOptions.format);labelText=defined(formatString)?format(formatString,labelConfig,chart):(labelOptions[point.formatPrefix+"Formatter"]||labelOptions.formatter).call(labelConfig,labelOptions);style=labelOptions.style;rotation=labelOptions.rotation;if(!chart.styledMode){style.color=pick(labelOptions.color,style.color,series.color,"#000000");if(style.color==="contrast"){point.contrastColor=renderer.getContrast(point.color||series.color);style.color=(!defined(labelDistance)&&labelOptions.inside)||labelDistance<0||!!seriesOptions.stacking?point.contrastColor:"#000000"}else{delete point.contrastColor}if(seriesOptions.cursor){style.cursor=seriesOptions.cursor}}attr={r:labelOptions.borderRadius||0,rotation:rotation,padding:labelOptions.padding,zIndex:1,};if(!chart.styledMode){attr.fill=labelOptions.backgroundColor;attr.stroke=labelOptions.borderColor;attr["stroke-width"]=labelOptions.borderWidth}objectEach(attr,function(val,name){if(typeof val==="undefined"){delete attr[name]}})}if(dataLabel&&(!labelEnabled||!defined(labelText))){point.dataLabel=point.dataLabel&&point.dataLabel.destroy();if(point.dataLabels){if(point.dataLabels.length===1){delete point.dataLabels}else{delete point.dataLabels[i]}}if(!i){delete point.dataLabel}if(connector){point.connector=point.connector.destroy();if(point.connectors){if(point.connectors.length===1){delete point.connectors}else{delete point.connectors[i]}}}}else if(labelEnabled&&defined(labelText)){if(!dataLabel){point.dataLabels=point.dataLabels||[];dataLabel=point.dataLabels[i]=rotation?renderer.text(labelText,0,-9999,labelOptions.useHTML).addClass("highcharts-data-label"):renderer.label(labelText,0,-9999,labelOptions.shape,null,null,labelOptions.useHTML,null,"data-label");if(!i){point.dataLabel=dataLabel}dataLabel.addClass(" highcharts-data-label-color-"+point.colorIndex+" "+(labelOptions.className||"")+(labelOptions.useHTML?" highcharts-tracker":""))}else{attr.text=labelText}dataLabel.options=labelOptions;dataLabel.attr(attr);if(!chart.styledMode){dataLabel.css(style).shadow(labelOptions.shadow)}if(!dataLabel.added){dataLabel.add(dataLabelsGroup)}if(labelOptions.textPath&&!labelOptions.useHTML){dataLabel.setTextPath((point.getDataLabelPath&&point.getDataLabelPath(dataLabel))||point.graphic,labelOptions.textPath);if(point.dataLabelPath&&!labelOptions.textPath.enabled){point.dataLabelPath=point.dataLabelPath.destroy()}}series.alignDataLabel(point,dataLabel,labelOptions,null,isNew)}})})}fireEvent(this,"afterDrawDataLabels")}function justifyDataLabel(dataLabel,options,alignAttr,bBox,alignTo,isNew){var chart=this.chart,align=options.align,verticalAlign=options.verticalAlign,padding=dataLabel.box?0:dataLabel.padding||0;var _a=options.x,x=_a===void 0?0:_a,_b=options.y,y=_b===void 0?0:_b,off,justified;off=(alignAttr.x||0)+padding;if(off<0){if(align==="right"&&x>=0){options.align="left";options.inside=true}else{x-=off}justified=true}off=(alignAttr.x||0)+bBox.width-padding;if(off>chart.plotWidth){if(align==="left"&&x<=0){options.align="right";options.inside=true}else{x+=chart.plotWidth-off}justified=true}off=alignAttr.y+padding;if(off<0){if(verticalAlign==="bottom"&&y>=0){options.verticalAlign="top";options.inside=true}else{y-=off}justified=true}off=(alignAttr.y||0)+bBox.height-padding;if(off>chart.plotHeight){if(verticalAlign==="top"&&y<=0){options.verticalAlign="bottom";options.inside=true}else{y+=chart.plotHeight-off}justified=true}if(justified){options.x=x;options.y=y;dataLabel.placed=!isNew;dataLabel.align(options,void 0,alignTo)}return justified}function mergeArrays(one,two){var res=[],i;if(isArray(one)&&!isArray(two)){res=one.map(function(el){return merge(el,two)})}else if(isArray(two)&&!isArray(one)){res=two.map(function(el){return merge(one,el)})}else if(!isArray(one)&&!isArray(two)){res=merge(one,two)}else{i=Math.max(one.length,two.length);while(i--){res[i]=merge(one[i],two[i])}}return res}function setDataLabelStartPos(point,dataLabel,isNew,isInside,alignOptions){var chart=this.chart,inverted=chart.inverted,xAxis=this.xAxis,reversed=xAxis.reversed,labelCenter=inverted?dataLabel.height/2:dataLabel.width/2,pointWidth=point.pointWidth,halfWidth=pointWidth?pointWidth/2:0;dataLabel.startXPos=inverted?alignOptions.x:reversed?-labelCenter-halfWidth:xAxis.width-labelCenter+halfWidth;dataLabel.startYPos=inverted?reversed?this.yAxis.height-labelCenter+halfWidth:-labelCenter-halfWidth:alignOptions.y;if(!isInside){dataLabel.attr({opacity:1}).animate({opacity:0},void 0,dataLabel.hide)}else if(dataLabel.visibility==="hidden"){dataLabel.show();dataLabel.attr({opacity:0}).animate({opacity:1})}if(!chart.hasRendered){return}if(isNew){dataLabel.attr({x:dataLabel.startXPos,y:dataLabel.startYPos})}dataLabel.placed=true}})(DataLabel||(DataLabel={}));("");return DataLabel});_registerModule(_modules,"Series/Column/ColumnDataLabel.js",[_modules["Core/Series/DataLabel.js"],_modules["Core/Series/SeriesRegistry.js"],_modules["Core/Utilities.js"],],function(DataLabel,SeriesRegistry,U){var Series=SeriesRegistry.series;var merge=U.merge,pick=U.pick;var ColumnDataLabel;(function(ColumnDataLabel){var composedClasses=[];function alignDataLabel(point,dataLabel,options,alignTo,isNew){var inverted=this.chart.inverted,series=point.series,xLen=(series.xAxis?series.xAxis.len:this.chart.plotSizeX)||0,yLen=(series.yAxis?series.yAxis.len:this.chart.plotSizeY)||0,dlBox=point.dlBox||point.shapeArgs,below=pick(point.below,point.plotY>pick(this.translatedThreshold,yLen)),inside=pick(options.inside,!!this.options.stacking),overshoot;if(dlBox){alignTo=merge(dlBox);if(alignTo.y<0){alignTo.height+=alignTo.y;alignTo.y=0}overshoot=alignTo.y+alignTo.height-yLen;if(overshoot>0&&overshoot<alignTo.height){alignTo.height-=overshoot}if(inverted){alignTo={x:yLen-alignTo.y-alignTo.height,y:xLen-alignTo.x-alignTo.width,width:alignTo.height,height:alignTo.width,}}if(!inside){if(inverted){alignTo.x+=below?0:alignTo.width;alignTo.width=0}else{alignTo.y+=below?alignTo.height:0;alignTo.height=0}}}options.align=pick(options.align,!inverted||inside?"center":below?"right":"left");options.verticalAlign=pick(options.verticalAlign,inverted||inside?"middle":below?"top":"bottom");Series.prototype.alignDataLabel.call(this,point,dataLabel,options,alignTo,isNew);if(options.inside&&point.contrastColor){dataLabel.css({color:point.contrastColor,})}}function compose(ColumnSeriesClass){DataLabel.compose(Series);if(composedClasses.indexOf(ColumnSeriesClass)===-1){composedClasses.push(ColumnSeriesClass);ColumnSeriesClass.prototype.alignDataLabel=alignDataLabel}}ColumnDataLabel.compose=compose})(ColumnDataLabel||(ColumnDataLabel={}));return ColumnDataLabel});_registerModule(_modules,"Series/Bar/BarSeries.js",[_modules["Series/Column/ColumnSeries.js"],_modules["Core/Series/SeriesRegistry.js"],_modules["Core/Utilities.js"],],function(ColumnSeries,SeriesRegistry,U){var __extends=(this&&this.__extends)||(function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b})||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):((__.prototype=b.prototype),new __())}})();var extend=U.extend,merge=U.merge;var BarSeries=(function(_super){__extends(BarSeries,_super);function BarSeries(){var _this=(_super!==null&&_super.apply(this,arguments))||this;_this.data=void 0;_this.options=void 0;_this.points=void 0;return _this}BarSeries.defaultOptions=merge(ColumnSeries.defaultOptions,{});return BarSeries})(ColumnSeries);extend(BarSeries.prototype,{inverted:true,});SeriesRegistry.registerSeriesType("bar",BarSeries);("");return BarSeries});_registerModule(_modules,"Series/Scatter/ScatterSeries.js",[_modules["Series/Column/ColumnSeries.js"],_modules["Series/Line/LineSeries.js"],_modules["Core/Series/SeriesRegistry.js"],_modules["Core/Utilities.js"],],function(ColumnSeries,LineSeries,SeriesRegistry,U){var __extends=(this&&this.__extends)||(function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b})||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):((__.prototype=b.prototype),new __())}})();var addEvent=U.addEvent,extend=U.extend,merge=U.merge;var ScatterSeries=(function(_super){__extends(ScatterSeries,_super);function ScatterSeries(){var _this=(_super!==null&&_super.apply(this,arguments))||this;_this.data=void 0;_this.options=void 0;_this.points=void 0;return _this}ScatterSeries.prototype.applyJitter=function(){var series=this,jitter=this.options.jitter,len=this.points.length;function unrandom(seed){var rand=Math.sin(seed)*10000;return rand-Math.floor(rand)}if(jitter){this.points.forEach(function(point,i){["x","y"].forEach(function(dim,j){var axis,plotProp="plot"+dim.toUpperCase(),min,max,translatedJitter;if(jitter[dim]&&!point.isNull){axis=series[dim+"Axis"];translatedJitter=jitter[dim]*axis.transA;if(axis&&!axis.isLog){min=Math.max(0,point[plotProp]-translatedJitter);max=Math.min(axis.len,point[plotProp]+translatedJitter);point[plotProp]=min+(max-min)*unrandom(i+j*len);if(dim==="x"){point.clientX=point.plotX}}}})})}};ScatterSeries.prototype.drawGraph=function(){if(this.options.lineWidth){_super.prototype.drawGraph.call(this)}else if(this.graph){this.graph=this.graph.destroy()}};ScatterSeries.defaultOptions=merge(LineSeries.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0,},marker:{enabled:true,},tooltip:{headerFormat:'<span style="color:{point.color}">\u25CF</span> '+'<span style="font-size: 10px"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>",},});return ScatterSeries})(LineSeries);extend(ScatterSeries.prototype,{drawTracker:ColumnSeries.prototype.drawTracker,sorted:false,requireSorting:false,noSharedTooltip:true,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:false,});addEvent(ScatterSeries,"afterTranslate",function(){this.applyJitter()});SeriesRegistry.registerSeriesType("scatter",ScatterSeries);("");return ScatterSeries});_registerModule(_modules,"Series/CenteredUtilities.js",[_modules["Core/Globals.js"],_modules["Core/Series/Series.js"],_modules["Core/Utilities.js"],],function(H,Series,U){var deg2rad=H.deg2rad;var isNumber=U.isNumber,pick=U.pick,relativeLength=U.relativeLength;var CenteredUtilities;(function(CenteredUtilities){function getCenter(){var options=this.options,chart=this.chart,slicingRoom=2*(options.slicedOffset||0),plotWidth=chart.plotWidth-2*slicingRoom,plotHeight=chart.plotHeight-2*slicingRoom,centerOption=options.center,smallestSize=Math.min(plotWidth,plotHeight);var handleSlicingRoom,size=options.size,innerSize=options.innerSize||0,i,value;if(typeof size==="string"){size=parseFloat(size)}if(typeof innerSize==="string"){innerSize=parseFloat(innerSize)}var positions=[pick(centerOption[0],"50%"),pick(centerOption[1],"50%"),pick(size&&size<0?void 0:options.size,"100%"),pick(innerSize&&innerSize<0?void 0:options.innerSize||0,"0%"),];if(chart.angular&&!(this instanceof Series)){positions[3]=0}for(i=0;i<4;++i){value=positions[i];handleSlicingRoom=i<2||(i===2&&/%$/.test(value));positions[i]=relativeLength(value,[plotWidth,plotHeight,smallestSize,positions[2]][i])+(handleSlicingRoom?slicingRoom:0)}if(positions[3]>positions[2]){positions[3]=positions[2]}return positions}CenteredUtilities.getCenter=getCenter;function getStartAndEndRadians(start,end){var startAngle=isNumber(start)?start:0,endAngle=isNumber(end)&&end>startAngle&&end-startAngle<360?end:startAngle+360,correction=-90;return{start:deg2rad*(startAngle+correction),end:deg2rad*(endAngle+correction),}}CenteredUtilities.getStartAndEndRadians=getStartAndEndRadians})(CenteredUtilities||(CenteredUtilities={}));("");return CenteredUtilities});_registerModule(_modules,"Series/Pie/PiePoint.js",[_modules["Core/Animation/AnimationUtilities.js"],_modules["Core/Series/Point.js"],_modules["Core/Utilities.js"],],function(A,Point,U){var __extends=(this&&this.__extends)||(function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b})||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):((__.prototype=b.prototype),new __())}})();var setAnimation=A.setAnimation;var addEvent=U.addEvent,defined=U.defined,extend=U.extend,isNumber=U.isNumber,pick=U.pick,relativeLength=U.relativeLength;var PiePoint=(function(_super){__extends(PiePoint,_super);function PiePoint(){var _this=(_super!==null&&_super.apply(this,arguments))||this;_this.labelDistance=void 0;_this.options=void 0;_this.series=void 0;return _this}PiePoint.prototype.getConnectorPath=function(){var labelPosition=this.labelPosition,options=this.series.options.dataLabels,predefinedShapes=this.connectorShapes;var connectorShape=options.connectorShape;if(predefinedShapes[connectorShape]){connectorShape=predefinedShapes[connectorShape]}return connectorShape.call(this,{x:labelPosition.final.x,y:labelPosition.final.y,alignment:labelPosition.alignment,},labelPosition.connectorPosition,options)};PiePoint.prototype.getTranslate=function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0,}};PiePoint.prototype.haloPath=function(size){var shapeArgs=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(shapeArgs.x,shapeArgs.y,shapeArgs.r+size,shapeArgs.r+size,{innerR:shapeArgs.r-1,start:shapeArgs.start,end:shapeArgs.end,})};PiePoint.prototype.init=function(){var _this=this;_super.prototype.init.apply(this,arguments);this.name=pick(this.name,"Slice");var toggleSlice=function(e){_this.slice(e.type==="select")};addEvent(this,"select",toggleSlice);addEvent(this,"unselect",toggleSlice);return this};PiePoint.prototype.isValid=function(){return isNumber(this.y)&&this.y>=0};PiePoint.prototype.setVisible=function(vis,redraw){var _this=this;var series=this.series,chart=series.chart,ignoreHiddenPoint=series.options.ignoreHiddenPoint;redraw=pick(redraw,ignoreHiddenPoint);if(vis!==this.visible){this.visible=this.options.visible=vis=typeof vis==="undefined"?!this.visible:vis;series.options.data[series.data.indexOf(this)]=this.options;["graphic","dataLabel","connector","shadowGroup"].forEach(function(key){if(_this[key]){_this[key][vis?"show":"hide"](vis)}});if(this.legendItem){chart.legend.colorizeItem(this,vis)}if(!vis&&this.state==="hover"){this.setState("")}if(ignoreHiddenPoint){series.isDirty=true}if(redraw){chart.redraw()}}};PiePoint.prototype.slice=function(sliced,redraw,animation){var series=this.series,chart=series.chart;setAnimation(animation,chart);redraw=pick(redraw,true);this.sliced=this.options.sliced=sliced=defined(sliced)?sliced:!this.sliced;series.options.data[series.data.indexOf(this)]=this.options;if(this.graphic){this.graphic.animate(this.getTranslate())}if(this.shadowGroup){this.shadowGroup.animate(this.getTranslate())}};return PiePoint})(Point);extend(PiePoint.prototype,{connectorShapes:{fixedOffset:function(labelPosition,connectorPosition,options){var breakAt=connectorPosition.breakAt,touchingSliceAt=connectorPosition.touchingSliceAt,lineSegment=options.softConnector?["C",labelPosition.x+(labelPosition.alignment==="left"?-5:5),labelPosition.y,2*breakAt.x-touchingSliceAt.x,2*breakAt.y-touchingSliceAt.y,breakAt.x,breakAt.y,]:["L",breakAt.x,breakAt.y];return[["M",labelPosition.x,labelPosition.y],lineSegment,["L",touchingSliceAt.x,touchingSliceAt.y],]},straight:function(labelPosition,connectorPosition){var touchingSliceAt=connectorPosition.touchingSliceAt;return[["M",labelPosition.x,labelPosition.y],["L",touchingSliceAt.x,touchingSliceAt.y],]},crookedLine:function(labelPosition,connectorPosition,options){var touchingSliceAt=connectorPosition.touchingSliceAt,series=this.series,pieCenterX=series.center[0],plotWidth=series.chart.plotWidth,plotLeft=series.chart.plotLeft,alignment=labelPosition.alignment,radius=this.shapeArgs.r,crookDistance=relativeLength(options.crookDistance,1),crookX=alignment==="left"?pieCenterX+radius+(plotWidth+plotLeft-pieCenterX-radius)*(1-crookDistance):plotLeft+(pieCenterX-radius)*crookDistance,segmentWithCrook=["L",crookX,labelPosition.y];var useCrook=true;if(alignment==="left"?crookX>labelPosition.x||crookX<touchingSliceAt.x:crookX<labelPosition.x||crookX>touchingSliceAt.x){useCrook=false}var path=[["M",labelPosition.x,labelPosition.y]];if(useCrook){path.push(segmentWithCrook)}path.push(["L",touchingSliceAt.x,touchingSliceAt.y]);return path},},});return PiePoint});_registerModule(_modules,"Series/Pie/PieSeries.js",[_modules["Series/CenteredUtilities.js"],_modules["Series/Column/ColumnSeries.js"],_modules["Core/Globals.js"],_modules["Core/Legend/LegendSymbol.js"],_modules["Series/Pie/PiePoint.js"],_modules["Core/Series/Series.js"],_modules["Core/Series/SeriesRegistry.js"],_modules["Core/Renderer/SVG/Symbols.js"],_modules["Core/Utilities.js"],],function(CU,ColumnSeries,H,LegendSymbol,PiePoint,Series,SeriesRegistry,Symbols,U){var __extends=(this&&this.__extends)||(function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b})||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):((__.prototype=b.prototype),new __())}})();var getStartAndEndRadians=CU.getStartAndEndRadians;var noop=H.noop;var clamp=U.clamp,extend=U.extend,fireEvent=U.fireEvent,merge=U.merge,pick=U.pick,relativeLength=U.relativeLength;var PieSeries=(function(_super){__extends(PieSeries,_super);function PieSeries(){var _this=(_super!==null&&_super.apply(this,arguments))||this;_this.center=void 0;_this.data=void 0;_this.maxLabelDistance=void 0;_this.options=void 0;_this.points=void 0;return _this}PieSeries.prototype.animate=function(init){var series=this,points=series.points,startAngleRad=series.startAngleRad;if(!init){points.forEach(function(point){var graphic=point.graphic,args=point.shapeArgs;if(graphic&&args){graphic.attr({r:pick(point.startR,series.center&&series.center[3]/2),start:startAngleRad,end:startAngleRad,});graphic.animate({r:args.r,start:args.start,end:args.end,},series.options.animation)}})}};PieSeries.prototype.drawEmpty=function(){var start=this.startAngleRad,end=this.endAngleRad,options=this.options;var centerX,centerY;if(this.total===0&&this.center){centerX=this.center[0];centerY=this.center[1];if(!this.graph){this.graph=this.chart.renderer.arc(centerX,centerY,this.center[1]/2,0,start,end).addClass("highcharts-empty-series").add(this.group)}this.graph.attr({d:Symbols.arc(centerX,centerY,this.center[2]/2,0,{start:start,end:end,innerR:this.center[3]/2,}),});if(!this.chart.styledMode){this.graph.attr({"stroke-width":options.borderWidth,fill:options.fillColor||"none",stroke:options.color||"#cccccc",})}}else if(this.graph){this.graph=this.graph.destroy()}};PieSeries.prototype.drawPoints=function(){var renderer=this.chart.renderer;this.points.forEach(function(point){if(point.graphic&&point.hasNewShapeType()){point.graphic=point.graphic.destroy()}if(!point.graphic){point.graphic=renderer[point.shapeType](point.shapeArgs).add(point.series.group);point.delayedRendering=true}})};PieSeries.prototype.generatePoints=function(){_super.prototype.generatePoints.call(this);this.updateTotals()};PieSeries.prototype.getX=function(y,left,point){var center=this.center,radius=this.radii?this.radii[point.index]||0:center[2]/2;var angle=Math.asin(clamp((y-center[1])/(radius+point.labelDistance),-1,1));var x=center[0]+(left?-1:1)*(Math.cos(angle)*(radius+point.labelDistance))+(point.labelDistance>0?(left?-1:1)*this.options.dataLabels.padding:0);return x};PieSeries.prototype.hasData=function(){return!!this.processedXData.length};PieSeries.prototype.redrawPoints=function(){var series=this,chart=series.chart,renderer=chart.renderer,shadow=series.options.shadow;var groupTranslation,graphic,pointAttr,shapeArgs;this.drawEmpty();if(shadow&&!series.shadowGroup&&!chart.styledMode){series.shadowGroup=renderer.g("shadow").attr({zIndex:-1}).add(series.group)}series.points.forEach(function(point){var animateTo={};graphic=point.graphic;if(!point.isNull&&graphic){var shadowGroup=void 0;shapeArgs=point.shapeArgs;groupTranslation=point.getTranslate();if(!chart.styledMode){shadowGroup=point.shadowGroup;if(shadow&&!shadowGroup){shadowGroup=point.shadowGroup=renderer.g("shadow").add(series.shadowGroup)}if(shadowGroup){shadowGroup.attr(groupTranslation)}pointAttr=series.pointAttribs(point,point.selected&&"select")}if(!point.delayedRendering){graphic.setRadialReference(series.center);if(!chart.styledMode){merge(true,animateTo,pointAttr)}merge(true,animateTo,shapeArgs,groupTranslation);graphic.animate(animateTo)}else{graphic.setRadialReference(series.center).attr(shapeArgs).attr(groupTranslation);if(!chart.styledMode){graphic.attr(pointAttr).attr({"stroke-linejoin":"round"}).shadow(shadow,shadowGroup)}point.delayedRendering=false}graphic.attr({visibility:point.visible?"inherit":"hidden",});graphic.addClass(point.getClassName(),true)}else if(graphic){point.graphic=graphic.destroy()}})};PieSeries.prototype.sortByAngle=function(points,sign){points.sort(function(a,b){return typeof a.angle!=="undefined"&&(b.angle-a.angle)*sign})};PieSeries.prototype.translate=function(positions){this.generatePoints();var series=this,precision=1000,options=series.options,slicedOffset=options.slicedOffset,connectorOffset=slicedOffset+(options.borderWidth||0),radians=getStartAndEndRadians(options.startAngle,options.endAngle),startAngleRad=(series.startAngleRad=radians.start),endAngleRad=(series.endAngleRad=radians.end),circ=endAngleRad-startAngleRad,points=series.points,labelDistance=options.dataLabels.distance,ignoreHiddenPoint=options.ignoreHiddenPoint,len=points.length;var finalConnectorOffset,start,end,angle,radiusX,radiusY,i,point,cumulative=0;if(!positions){series.center=positions=series.getCenter()}for(i=0;i<len;i++){point=points[i];start=startAngleRad+cumulative*circ;if(point.isValid()&&(!ignoreHiddenPoint||point.visible)){cumulative+=point.percentage/100}end=startAngleRad+cumulative*circ;var shapeArgs={x:positions[0],y:positions[1],r:positions[2]/2,innerR:positions[3]/2,start:Math.round(start*precision)/precision,end:Math.round(end*precision)/precision,};point.shapeType="arc";point.shapeArgs=shapeArgs;point.labelDistance=pick(point.options.dataLabels&&point.options.dataLabels.distance,labelDistance);point.labelDistance=relativeLength(point.labelDistance,shapeArgs.r);series.maxLabelDistance=Math.max(series.maxLabelDistance||0,point.labelDistance);angle=(end+start)/2;if(angle>1.5*Math.PI){angle-=2*Math.PI}else if(angle<-Math.PI/2){angle+=2*Math.PI}point.slicedTranslation={translateX:Math.round(Math.cos(angle)*slicedOffset),translateY:Math.round(Math.sin(angle)*slicedOffset),};radiusX=(Math.cos(angle)*positions[2])/2;radiusY=(Math.sin(angle)*positions[2])/2;point.tooltipPos=[positions[0]+radiusX*0.7,positions[1]+radiusY*0.7,];point.half=angle<-Math.PI/2||angle>Math.PI/2?1:0;point.angle=angle;finalConnectorOffset=Math.min(connectorOffset,point.labelDistance/5);point.labelPosition={natural:{x:positions[0]+radiusX+Math.cos(angle)*point.labelDistance,y:positions[1]+radiusY+Math.sin(angle)*point.labelDistance,},final:{},alignment:point.labelDistance<0?"center":point.half?"right":"left",connectorPosition:{breakAt:{x:positions[0]+radiusX+Math.cos(angle)*finalConnectorOffset,y:positions[1]+radiusY+Math.sin(angle)*finalConnectorOffset,},touchingSliceAt:{x:positions[0]+radiusX,y:positions[1]+radiusY,},},}}fireEvent(series,"afterTranslate")};PieSeries.prototype.updateTotals=function(){var points=this.points,len=points.length,ignoreHiddenPoint=this.options.ignoreHiddenPoint;var i,point,total=0;for(i=0;i<len;i++){point=points[i];if(point.isValid()&&(!ignoreHiddenPoint||point.visible)){total+=point.y}}this.total=total;for(i=0;i<len;i++){point=points[i];point.percentage=total>0&&(point.visible||!ignoreHiddenPoint)?(point.y/total)*100:0;point.total=total}};PieSeries.defaultOptions=merge(Series.defaultOptions,{center:[null,null],clip:false,colorByPoint:true,dataLabels:{allowOverlap:true,connectorPadding:5,connectorShape:"fixedOffset",crookDistance:"70%",distance:30,enabled:true,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:true,x:0,},fillColor:void 0,ignoreHiddenPoint:true,inactiveOtherPoints:true,legendType:"point",marker:null,size:null,showInLegend:false,slicedOffset:10,stickyTracking:false,tooltip:{followPointer:true,},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:0.1,},},});return PieSeries})(Series);extend(PieSeries.prototype,{axisTypes:[],directTouch:true,drawGraph:void 0,drawLegendSymbol:LegendSymbol.drawRectangle,drawTracker:ColumnSeries.prototype.drawTracker,getCenter:CU.getCenter,getSymbol:noop,isCartesian:false,noSharedTooltip:true,pointAttribs:ColumnSeries.prototype.pointAttribs,pointClass:PiePoint,requireSorting:false,searchPoint:noop,trackerGroups:["group","dataLabelsGroup"],});SeriesRegistry.registerSeriesType("pie",PieSeries);("");return PieSeries});_registerModule(_modules,"Series/Pie/PieDataLabel.js",[_modules["Core/Series/DataLabel.js"],_modules["Core/Globals.js"],_modules["Core/Renderer/RendererUtilities.js"],_modules["Core/Series/SeriesRegistry.js"],_modules["Core/Utilities.js"],],function(DataLabel,H,R,SeriesRegistry,U){var noop=H.noop;var distribute=R.distribute;var Series=SeriesRegistry.series;var arrayMax=U.arrayMax,clamp=U.clamp,defined=U.defined,merge=U.merge,pick=U.pick,relativeLength=U.relativeLength;var ColumnDataLabel;(function(ColumnDataLabel){var composedClasses=[];var dataLabelPositioners={radialDistributionY:function(point){return point.top+point.distributeBox.pos},radialDistributionX:function(series,point,y,naturalY){return series.getX(y<point.top+2||y>point.bottom-2?naturalY:y,point.half,point)},justify:function(point,radius,seriesCenter){return(seriesCenter[0]+(point.half?-1:1)*(radius+point.labelDistance))},alignToPlotEdges:function(dataLabel,half,plotWidth,plotLeft){var dataLabelWidth=dataLabel.getBBox().width;return half?dataLabelWidth+plotLeft:plotWidth-dataLabelWidth-plotLeft},alignToConnectors:function(points,half,plotWidth,plotLeft){var maxDataLabelWidth=0,dataLabelWidth;points.forEach(function(point){dataLabelWidth=point.dataLabel.getBBox().width;if(dataLabelWidth>maxDataLabelWidth){maxDataLabelWidth=dataLabelWidth}});return half?maxDataLabelWidth+plotLeft:plotWidth-maxDataLabelWidth-plotLeft},};function compose(PieSeriesClass){DataLabel.compose(Series);if(composedClasses.indexOf(PieSeriesClass)===-1){composedClasses.push(PieSeriesClass);var pieProto=PieSeriesClass.prototype;pieProto.dataLabelPositioners=dataLabelPositioners;pieProto.alignDataLabel=noop;pieProto.drawDataLabels=drawDataLabels;pieProto.placeDataLabels=placeDataLabels;pieProto.verifyDataLabelOverflow=verifyDataLabelOverflow}}ColumnDataLabel.compose=compose;function drawDataLabels(){var series=this,data=series.data,chart=series.chart,options=series.options.dataLabels||{},connectorPadding=options.connectorPadding,plotWidth=chart.plotWidth,plotHeight=chart.plotHeight,plotLeft=chart.plotLeft,maxWidth=Math.round(chart.chartWidth/3),seriesCenter=series.center,radius=seriesCenter[2]/2,centerY=seriesCenter[1],halves=[[],[],],overflow=[0,0,0,0],dataLabelPositioners=series.dataLabelPositioners;var point,connectorWidth,connector,dataLabel,dataLabelWidth,labelPosition,labelHeight,x,y,visibility,j,pointDataLabelsOptions;if(!series.visible||(!options.enabled&&!series._hasPointLabels)){return}data.forEach(function(point){if(point.dataLabel&&point.visible&&point.dataLabel.shortened){point.dataLabel.attr({width:"auto",}).css({width:"auto",textOverflow:"clip",});point.dataLabel.shortened=false}});Series.prototype.drawDataLabels.apply(series);data.forEach(function(point){if(point.dataLabel){if(point.visible){halves[point.half].push(point);point.dataLabel._pos=null;if(!defined(options.style.width)&&!defined(point.options.dataLabels&&point.options.dataLabels.style&&point.options.dataLabels.style.width)){if(point.dataLabel.getBBox().width>maxWidth){point.dataLabel.css({width:Math.round(maxWidth*0.7)+"px",});point.dataLabel.shortened=true}}}else{point.dataLabel=point.dataLabel.destroy();if(point.dataLabels&&point.dataLabels.length===1){delete point.dataLabels}}}});halves.forEach(function(points,i){var length=points.length,positions=[];var top,bottom,naturalY,sideOverflow,size,distributionLength;if(!length){return}series.sortByAngle(points,i-0.5);if(series.maxLabelDistance>0){top=Math.max(0,centerY-radius-series.maxLabelDistance);bottom=Math.min(centerY+radius+series.maxLabelDistance,chart.plotHeight);points.forEach(function(point){if(point.labelDistance>0&&point.dataLabel){point.top=Math.max(0,centerY-radius-point.labelDistance);point.bottom=Math.min(centerY+radius+point.labelDistance,chart.plotHeight);size=point.dataLabel.getBBox().height||21;point.distributeBox={target:point.labelPosition.natural.y-point.top+size/2,size:size,rank:point.y,};positions.push(point.distributeBox)}});distributionLength=bottom+size-top;distribute(positions,distributionLength,distributionLength/5)}for(j=0;j<length;j++){point=points[j];labelPosition=point.labelPosition;dataLabel=point.dataLabel;visibility=point.visible===false?"hidden":"inherit";naturalY=labelPosition.natural.y;y=naturalY;if(positions&&defined(point.distributeBox)){if(typeof point.distributeBox.pos==="undefined"){visibility="hidden"}else{labelHeight=point.distributeBox.size;y=dataLabelPositioners.radialDistributionY(point)}}delete point.positionIndex;if(options.justify){x=dataLabelPositioners.justify(point,radius,seriesCenter)}else{switch(options.alignTo){case"connectors":x=dataLabelPositioners.alignToConnectors(points,i,plotWidth,plotLeft);break;case"plotEdges":x=dataLabelPositioners.alignToPlotEdges(dataLabel,i,plotWidth,plotLeft);break;default:x=dataLabelPositioners.radialDistributionX(series,point,y,naturalY)}}dataLabel._attr={visibility:visibility,align:labelPosition.alignment,};pointDataLabelsOptions=point.options.dataLabels||{};dataLabel._pos={x:x+pick(pointDataLabelsOptions.x,options.x)+({left:connectorPadding,right:-connectorPadding,}[labelPosition.alignment]||0),y:y+pick(pointDataLabelsOptions.y,options.y)-10,};labelPosition.final.x=x;labelPosition.final.y=y;if(pick(options.crop,true)){dataLabelWidth=dataLabel.getBBox().width;sideOverflow=null;if(x-dataLabelWidth<connectorPadding&&i===1){sideOverflow=Math.round(dataLabelWidth-x+connectorPadding);overflow[3]=Math.max(sideOverflow,overflow[3])}else if(x+dataLabelWidth>plotWidth-connectorPadding&&i===0){sideOverflow=Math.round(x+dataLabelWidth-plotWidth+connectorPadding);overflow[1]=Math.max(sideOverflow,overflow[1])}if(y-labelHeight/2<0){overflow[0]=Math.max(Math.round(-y+labelHeight/2),overflow[0])}else if(y+labelHeight/2>plotHeight){overflow[2]=Math.max(Math.round(y+labelHeight/2-plotHeight),overflow[2])}dataLabel.sideOverflow=sideOverflow}}});if(arrayMax(overflow)===0||this.verifyDataLabelOverflow(overflow)){this.placeDataLabels();this.points.forEach(function(point){pointDataLabelsOptions=merge(options,point.options.dataLabels);connectorWidth=pick(pointDataLabelsOptions.connectorWidth,1);if(connectorWidth){var isNew=void 0;connector=point.connector;dataLabel=point.dataLabel;if(dataLabel&&dataLabel._pos&&point.visible&&point.labelDistance>0){visibility=dataLabel._attr.visibility;isNew=!connector;if(isNew){point.connector=connector=chart.renderer.path().addClass("highcharts-data-label-connector "+" highcharts-color-"+point.colorIndex+(point.className?" "+point.className:"")).add(series.dataLabelsGroup);if(!chart.styledMode){connector.attr({"stroke-width":connectorWidth,stroke:pointDataLabelsOptions.connectorColor||point.color||"#666666",})}}connector[isNew?"attr":"animate"]({d:point.getConnectorPath(),});connector.attr("visibility",visibility)}else if(connector){point.connector=connector.destroy()}}})}}function placeDataLabels(){this.points.forEach(function(point){var dataLabel=point.dataLabel,_pos;if(dataLabel&&point.visible){_pos=dataLabel._pos;if(_pos){if(dataLabel.sideOverflow){dataLabel._attr.width=Math.max(dataLabel.getBBox().width-dataLabel.sideOverflow,0);dataLabel.css({width:dataLabel._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis",});dataLabel.shortened=true}dataLabel.attr(dataLabel._attr);dataLabel[dataLabel.moved?"animate":"attr"](_pos);dataLabel.moved=true}else if(dataLabel){dataLabel.attr({y:-9999})}}delete point.distributeBox},this)}function verifyDataLabelOverflow(overflow){var center=this.center,options=this.options,centerOption=options.center,minSize=options.minSize||80,newSize=minSize,ret=options.size!==null;if(!ret){if(centerOption[0]!==null){newSize=Math.max(center[2]-Math.max(overflow[1],overflow[3]),minSize)}else{newSize=Math.max(center[2]-overflow[1]-overflow[3],minSize);center[0]+=(overflow[3]-overflow[1])/2}if(centerOption[1]!==null){newSize=clamp(newSize,minSize,center[2]-Math.max(overflow[0],overflow[2]))}else{newSize=clamp(newSize,minSize,center[2]-overflow[0]-overflow[2]);center[1]+=(overflow[0]-overflow[2])/2}if(newSize<center[2]){center[2]=newSize;center[3]=Math.min(relativeLength(options.innerSize||0,newSize),newSize);this.translate(center);if(this.drawDataLabels){this.drawDataLabels()}}else{ret=true}}return ret}})(ColumnDataLabel||(ColumnDataLabel={}));return ColumnDataLabel});_registerModule(_modules,"Extensions/OverlappingDataLabels.js",[_modules["Core/Chart/Chart.js"],_modules["Core/Utilities.js"]],function(Chart,U){var addEvent=U.addEvent,fireEvent=U.fireEvent,isArray=U.isArray,isNumber=U.isNumber,objectEach=U.objectEach,pick=U.pick;addEvent(Chart,"render",function collectAndHide(){var chart=this,labels=[];(this.labelCollectors||[]).forEach(function(collector){labels=labels.concat(collector())});(this.yAxis||[]).forEach(function(yAxis){if(yAxis.stacking&&yAxis.options.stackLabels&&!yAxis.options.stackLabels.allowOverlap){objectEach(yAxis.stacking.stacks,function(stack){objectEach(stack,function(stackItem){if(stackItem.label&&stackItem.label.visibility!=="hidden"){labels.push(stackItem.label)}})})}});(this.series||[]).forEach(function(series){var dlOptions=series.options.dataLabels;if(series.visible&&!(dlOptions.enabled===false&&!series._hasPointLabels)){var push=function(points){return points.forEach(function(point){if(point.visible){var dataLabels=isArray(point.dataLabels)?point.dataLabels:point.dataLabel?[point.dataLabel]:[];dataLabels.forEach(function(label){var options=label.options;label.labelrank=pick(options.labelrank,point.labelrank,point.shapeArgs&&point.shapeArgs.height);if(!options.allowOverlap){labels.push(label)}else{label.oldOpacity=label.opacity;label.newOpacity=1;hideOrShow(label,chart)}})}})};push(series.nodes||[]);push(series.points)}});this.hideOverlappingLabels(labels)});Chart.prototype.hideOverlappingLabels=function(labels){var chart=this,len=labels.length,ren=chart.renderer,label,i,j,label1,label2,box1,box2,isLabelAffected=false,isIntersectRect=function(box1,box2){return!(box2.x>=box1.x+box1.width||box2.x+box2.width<=box1.x||box2.y>=box1.y+box1.height||box2.y+box2.height<=box1.y)},getAbsoluteBox=function(label){var pos,parent,bBox,padding=label.box?0:label.padding||0,lineHeightCorrection=0,xOffset=0,boxWidth,alignValue;if(label&&(!label.alignAttr||label.placed)){pos=label.alignAttr||{x:label.attr("x"),y:label.attr("y"),};parent=label.parentGroup;if(!label.width){bBox=label.getBBox();label.width=bBox.width;label.height=bBox.height;lineHeightCorrection=ren.fontMetrics(null,label.element).h}boxWidth=label.width-2*padding;alignValue={left:"0",center:"0.5",right:"1",}[label.alignValue];if(alignValue){xOffset=+alignValue*boxWidth}else if(isNumber(label.x)&&Math.round(label.x)!==label.translateX){xOffset=label.x-label.translateX}return{x:pos.x+(parent.translateX||0)+padding-(xOffset||0),y:pos.y+(parent.translateY||0)+padding-lineHeightCorrection,width:label.width-2*padding,height:label.height-2*padding,}}};for(i=0;i<len;i++){label=labels[i];if(label){label.oldOpacity=label.opacity;label.newOpacity=1;label.absoluteBox=getAbsoluteBox(label)}}labels.sort(function(a,b){return(b.labelrank||0)-(a.labelrank||0)});for(i=0;i<len;i++){label1=labels[i];box1=label1&&label1.absoluteBox;for(j=i+1;j<len;++j){label2=labels[j];box2=label2&&label2.absoluteBox;if(box1&&box2&&label1!==label2&&label1.newOpacity!==0&&label2.newOpacity!==0){if(isIntersectRect(box1,box2)){(label1.labelrank<label2.labelrank?label1:label2).newOpacity=0}}}}labels.forEach(function(label){if(hideOrShow(label,chart)){isLabelAffected=true}});if(isLabelAffected){fireEvent(chart,"afterHideAllOverlappingLabels")}};function hideOrShow(label,chart){var complete,newOpacity,isLabelAffected=false;if(label){newOpacity=label.newOpacity;if(label.oldOpacity!==newOpacity){if(label.alignAttr&&label.placed){label[newOpacity?"removeClass":"addClass"]("highcharts-data-label-hidden");complete=function(){if(!chart.styledMode){label.css({pointerEvents:newOpacity?"auto":"none"})}};isLabelAffected=true;label.alignAttr.opacity=newOpacity;label[label.isOld?"animate":"attr"](label.alignAttr,null,complete);fireEvent(chart,"afterHideOverlappingLabel")}else{label.attr({opacity:newOpacity,})}}label.isOld=true}return isLabelAffected}});_registerModule(_modules,"Core/Responsive.js",[_modules["Core/Utilities.js"]],function(U){var extend=U.extend,find=U.find,isArray=U.isArray,isObject=U.isObject,merge=U.merge,objectEach=U.objectEach,pick=U.pick,splat=U.splat,uniqueKey=U.uniqueKey;var Responsive;(function(Responsive){var composedClasses=[];function compose(ChartClass){if(composedClasses.indexOf(ChartClass)===-1){composedClasses.push(ChartClass);extend(ChartClass.prototype,Additions.prototype)}return ChartClass}Responsive.compose=compose;var Additions=(function(){function Additions(){}Additions.prototype.currentOptions=function(options){var chart=this,ret={};function getCurrent(options,curr,ret,depth){var i;objectEach(options,function(val,key){if(!depth&&chart.collectionsWithUpdate.indexOf(key)>-1&&curr[key]){val=splat(val);ret[key]=[];for(i=0;i<Math.max(val.length,curr[key].length);i++){if(curr[key][i]){if(val[i]===void 0){ret[key][i]=curr[key][i]}else{ret[key][i]={};getCurrent(val[i],curr[key][i],ret[key][i],depth+1)}}}}else if(isObject(val)){ret[key]=isArray(val)?[]:{};getCurrent(val,curr[key]||{},ret[key],depth+1)}else if(typeof curr[key]==="undefined"){ret[key]=null}else{ret[key]=curr[key]}})}getCurrent(options,this.options,ret,0);return ret};Additions.prototype.matchResponsiveRule=function(rule,matches){var condition=rule.condition,fn=condition.callback||function(){return(this.chartWidth<=pick(condition.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=pick(condition.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=pick(condition.minWidth,0)&&this.chartHeight>=pick(condition.minHeight,0))};if(fn.call(this)){matches.push(rule._id)}};Additions.prototype.setResponsive=function(redraw,reset){var _this=this;var options=this.options.responsive,currentResponsive=this.currentResponsive;var ruleIds=[],undoOptions;if(!reset&&options&&options.rules){options.rules.forEach(function(rule){if(typeof rule._id==="undefined"){rule._id=uniqueKey()}_this.matchResponsiveRule(rule,ruleIds)},this)}var mergedOptions=merge.apply(void 0,ruleIds.map(function(ruleId){return find((options||{}).rules||[],function(rule){return rule._id===ruleId})}).map(function(rule){return rule&&rule.chartOptions}));mergedOptions.isResponsiveOptions=true;ruleIds=ruleIds.toString()||void 0;var currentRuleIds=currentResponsive&&currentResponsive.ruleIds;if(ruleIds!==currentRuleIds){if(currentResponsive){this.update(currentResponsive.undoOptions,redraw,true)}if(ruleIds){undoOptions=this.currentOptions(mergedOptions);undoOptions.isResponsiveOptions=true;this.currentResponsive={ruleIds:ruleIds,mergedOptions:mergedOptions,undoOptions:undoOptions,};this.update(mergedOptions,redraw,true)}else{this.currentResponsive=void 0}}};return Additions})()})(Responsive||(Responsive={}));("");("");return Responsive});_registerModule(_modules,"masters/highcharts.src.js",[_modules["Core/Globals.js"],_modules["Core/Utilities.js"],_modules["Core/DefaultOptions.js"],_modules["Core/Animation/Fx.js"],_modules["Core/Animation/AnimationUtilities.js"],_modules["Core/Renderer/HTML/AST.js"],_modules["Core/FormatUtilities.js"],_modules["Core/Renderer/RendererUtilities.js"],_modules["Core/Renderer/SVG/SVGElement.js"],_modules["Core/Renderer/SVG/SVGRenderer.js"],_modules["Core/Renderer/HTML/HTMLElement.js"],_modules["Core/Renderer/HTML/HTMLRenderer.js"],_modules["Core/Axis/Axis.js"],_modules["Core/Axis/DateTimeAxis.js"],_modules["Core/Axis/LogarithmicAxis.js"],_modules["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],_modules["Core/Axis/Tick.js"],_modules["Core/Tooltip.js"],_modules["Core/Series/Point.js"],_modules["Core/Pointer.js"],_modules["Core/MSPointer.js"],_modules["Core/Legend/Legend.js"],_modules["Core/Chart/Chart.js"],_modules["Core/Series/Series.js"],_modules["Core/Series/SeriesRegistry.js"],_modules["Series/Column/ColumnSeries.js"],_modules["Series/Column/ColumnDataLabel.js"],_modules["Series/Pie/PieSeries.js"],_modules["Series/Pie/PieDataLabel.js"],_modules["Core/Series/DataLabel.js"],_modules["Core/Responsive.js"],_modules["Core/Color/Color.js"],_modules["Core/Time.js"],],function(Highcharts,Utilities,DefaultOptions,Fx,Animation,AST,FormatUtilities,RendererUtilities,SVGElement,SVGRenderer,HTMLElement,HTMLRenderer,Axis,DateTimeAxis,LogarithmicAxis,PlotLineOrBand,Tick,Tooltip,Point,Pointer,MSPointer,Legend,Chart,Series,SeriesRegistry,ColumnSeries,ColumnDataLabel,PieSeries,PieDataLabel,DataLabel,Responsive,Color,Time){var G=Highcharts;G.animate=Animation.animate;G.animObject=Animation.animObject;G.getDeferredAnimation=Animation.getDeferredAnimation;G.setAnimation=Animation.setAnimation;G.stop=Animation.stop;G.timers=Fx.timers;G.AST=AST;G.Axis=Axis;G.Chart=Chart;G.chart=Chart.chart;G.Fx=Fx;G.Legend=Legend;G.PlotLineOrBand=PlotLineOrBand;G.Point=Point;G.Pointer=MSPointer.isRequired()?MSPointer:Pointer;G.Series=Series;G.SVGElement=SVGElement;G.SVGRenderer=SVGRenderer;G.Tick=Tick;G.Time=Time;G.Tooltip=Tooltip;G.Color=Color;G.color=Color.parse;HTMLRenderer.compose(SVGRenderer);HTMLElement.compose(SVGElement);G.defaultOptions=DefaultOptions.defaultOptions;G.getOptions=DefaultOptions.getOptions;G.time=DefaultOptions.defaultTime;G.setOptions=DefaultOptions.setOptions;G.dateFormat=FormatUtilities.dateFormat;G.format=FormatUtilities.format;G.numberFormat=FormatUtilities.numberFormat;G.addEvent=Utilities.addEvent;G.arrayMax=Utilities.arrayMax;G.arrayMin=Utilities.arrayMin;G.attr=Utilities.attr;G.clearTimeout=Utilities.clearTimeout;G.correctFloat=Utilities.correctFloat;G.createElement=Utilities.createElement;G.css=Utilities.css;G.defined=Utilities.defined;G.destroyObjectProperties=Utilities.destroyObjectProperties;G.discardElement=Utilities.discardElement;G.distribute=RendererUtilities.distribute;G.erase=Utilities.erase;G.error=Utilities.error;G.extend=Utilities.extend;G.extendClass=Utilities.extendClass;G.find=Utilities.find;G.fireEvent=Utilities.fireEvent;G.getMagnitude=Utilities.getMagnitude;G.getStyle=Utilities.getStyle;G.inArray=Utilities.inArray;G.isArray=Utilities.isArray;G.isClass=Utilities.isClass;G.isDOMElement=Utilities.isDOMElement;G.isFunction=Utilities.isFunction;G.isNumber=Utilities.isNumber;G.isObject=Utilities.isObject;G.isString=Utilities.isString;G.keys=Utilities.keys;G.merge=Utilities.merge;G.normalizeTickInterval=Utilities.normalizeTickInterval;G.objectEach=Utilities.objectEach;G.offset=Utilities.offset;G.pad=Utilities.pad;G.pick=Utilities.pick;G.pInt=Utilities.pInt;G.relativeLength=Utilities.relativeLength;G.removeEvent=Utilities.removeEvent;G.seriesType=SeriesRegistry.seriesType;G.splat=Utilities.splat;G.stableSort=Utilities.stableSort;G.syncTimeout=Utilities.syncTimeout;G.timeUnits=Utilities.timeUnits;G.uniqueKey=Utilities.uniqueKey;G.useSerialIds=Utilities.useSerialIds;G.wrap=Utilities.wrap;ColumnDataLabel.compose(ColumnSeries);DataLabel.compose(Series);DateTimeAxis.compose(Axis);LogarithmicAxis.compose(Axis);PieDataLabel.compose(PieSeries);PlotLineOrBand.compose(Axis);Responsive.compose(Chart);return G});_registerModule(_modules,"Series/XRange/XRangePoint.js",[_modules["Core/Series/Point.js"],_modules["Core/Series/SeriesRegistry.js"],_modules["Core/Utilities.js"],],function(Point,SeriesRegistry,U){var __extends=(this&&this.__extends)||(function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b})||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):((__.prototype=b.prototype),new __())}})();var ColumnSeries=SeriesRegistry.seriesTypes.column;var extend=U.extend;var XRangePoint=(function(_super){__extends(XRangePoint,_super);function XRangePoint(){var _this=(_super!==null&&_super.apply(this,arguments))||this;_this.options=void 0;_this.series=void 0;return _this}XRangePoint.getColorByCategory=function(series,point){var colors=series.options.colors||series.chart.options.colors,colorCount=colors?colors.length:series.chart.options.chart.colorCount,colorIndex=point.y%colorCount,color=colors&&colors[colorIndex];return{colorIndex:colorIndex,color:color,}};XRangePoint.prototype.resolveColor=function(){var series=this.series,colorByPoint;if(series.options.colorByPoint&&!this.options.color){colorByPoint=XRangePoint.getColorByCategory(series,this);if(!series.chart.styledMode){this.color=colorByPoint.color}if(!this.options.colorIndex){this.colorIndex=colorByPoint.colorIndex}}else if(!this.color){this.color=series.color}};XRangePoint.prototype.init=function(){Point.prototype.init.apply(this,arguments);if(!this.y){this.y=0}return this};XRangePoint.prototype.setState=function(){Point.prototype.setState.apply(this,arguments);this.series.drawPoint(this,this.series.getAnimationVerb())};XRangePoint.prototype.getLabelConfig=function(){var point=this,cfg=Point.prototype.getLabelConfig.call(point),yCats=point.series.yAxis.categories;cfg.x2=point.x2;cfg.yCategory=point.yCategory=yCats&&yCats[point.y];return cfg};XRangePoint.prototype.isValid=function(){return typeof this.x==="number"&&typeof this.x2==="number"};return XRangePoint})(ColumnSeries.prototype.pointClass);extend(XRangePoint.prototype,{ttBelow:false,tooltipDateKeys:["x","x2"],});return XRangePoint});_registerModule(_modules,"Series/XRange/XRangeComposition.js",[_modules["Core/Axis/Axis.js"],_modules["Core/Utilities.js"]],function(Axis,U){var addEvent=U.addEvent,pick=U.pick;addEvent(Axis,"afterGetSeriesExtremes",function(){var axis=this,axisSeries=axis.series,dataMax,modMax;if(axis.isXAxis){dataMax=pick(axis.dataMax,-Number.MAX_VALUE);axisSeries.forEach(function(series){if(series.x2Data){series.x2Data.forEach(function(val){if(val>dataMax){dataMax=val;modMax=true}})}});if(modMax){axis.dataMax=dataMax}}})});_registerModule(_modules,"Series/XRange/XRangeSeries.js",[_modules["Core/Globals.js"],_modules["Core/Color/Color.js"],_modules["Core/Series/SeriesRegistry.js"],_modules["Core/Utilities.js"],_modules["Series/XRange/XRangePoint.js"],],function(H,Color,SeriesRegistry,U,XRangePoint){var __extends=(this&&this.__extends)||(function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b})||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):((__.prototype=b.prototype),new __())}})();var color=Color.parse;var Series=SeriesRegistry.series,ColumnSeries=SeriesRegistry.seriesTypes.column;var columnProto=ColumnSeries.prototype;var clamp=U.clamp,correctFloat=U.correctFloat,defined=U.defined,extend=U.extend,find=U.find,isNumber=U.isNumber,isObject=U.isObject,merge=U.merge,pick=U.pick;var XRangeSeries=(function(_super){__extends(XRangeSeries,_super);function XRangeSeries(){var _this=(_super!==null&&_super.apply(this,arguments))||this;_this.data=void 0;_this.options=void 0;_this.points=void 0;return _this}XRangeSeries.prototype.init=function(){ColumnSeries.prototype.init.apply(this,arguments);this.options.stacking=void 0};XRangeSeries.prototype.getColumnMetrics=function(){var metrics,chart=this.chart;function swapAxes(){chart.series.forEach(function(s){var xAxis=s.xAxis;s.xAxis=s.yAxis;s.yAxis=xAxis})}swapAxes();metrics=columnProto.getColumnMetrics.call(this);swapAxes();return metrics};XRangeSeries.prototype.cropData=function(xData,yData,min,max){var cropData=Series.prototype.cropData,crop=cropData.call(this,this.x2Data,yData,min,max);crop.xData=xData.slice(crop.start,crop.end);return crop};XRangeSeries.prototype.findPointIndex=function(options){var _a=this,cropped=_a.cropped,cropStart=_a.cropStart,points=_a.points;var id=options.id;var pointIndex;if(id){var point=find(points,function(point){return point.id===id});pointIndex=point?point.index:void 0}if(typeof pointIndex==="undefined"){var point=find(points,function(point){return(point.x===options.x&&point.x2===options.x2&&!point.touched)});pointIndex=point?point.index:void 0}if(cropped&&isNumber(pointIndex)&&isNumber(cropStart)&&pointIndex>=cropStart){pointIndex-=cropStart}return pointIndex};XRangeSeries.prototype.translatePoint=function(point){var series=this,xAxis=series.xAxis,yAxis=series.yAxis,metrics=series.columnMetrics,options=series.options,minPointLength=options.minPointLength||0,oldColWidth=((point.shapeArgs&&point.shapeArgs.width)||0)/2,seriesXOffset=(series.pointXOffset=metrics.offset),plotX=point.plotX,posX=pick(point.x2,point.x+(point.len||0)),plotX2=xAxis.translate(posX,0,0,0,1),length=Math.abs(plotX2-plotX),widthDifference,partialFill,inverted=this.chart.inverted,borderWidth=pick(options.borderWidth,1),crisper=(borderWidth%2)/2,yOffset=metrics.offset,pointHeight=Math.round(metrics.width),dlLeft,dlRight,dlWidth,clipRectWidth,tooltipYOffset;if(minPointLength){widthDifference=minPointLength-length;if(widthDifference<0){widthDifference=0}plotX-=widthDifference/2;plotX2+=widthDifference/2}plotX=Math.max(plotX,-10);plotX2=clamp(plotX2,-10,xAxis.len+10);if(defined(point.options.pointWidth)){yOffset-=(Math.ceil(point.options.pointWidth)-pointHeight)/2;pointHeight=Math.ceil(point.options.pointWidth)}if(options.pointPlacement&&isNumber(point.plotY)&&yAxis.categories){point.plotY=yAxis.translate(point.y,0,1,0,1,options.pointPlacement)}var x=Math.floor(Math.min(plotX,plotX2))+crisper;var x2=Math.floor(Math.max(plotX,plotX2))+crisper;var shapeArgs={x:x,y:Math.floor(point.plotY+yOffset)+crisper,width:x2-x,height:pointHeight,r:series.options.borderRadius,};point.shapeArgs=shapeArgs;if(!inverted){point.tooltipPos[0]-=oldColWidth+seriesXOffset-shapeArgs.width/2}else{point.tooltipPos[1]+=seriesXOffset+oldColWidth}dlLeft=shapeArgs.x;dlRight=dlLeft+shapeArgs.width;if(dlLeft<0||dlRight>xAxis.len){dlLeft=clamp(dlLeft,0,xAxis.len);dlRight=clamp(dlRight,0,xAxis.len);dlWidth=dlRight-dlLeft;point.dlBox=merge(shapeArgs,{x:dlLeft,width:dlRight-dlLeft,centerX:dlWidth?dlWidth/2:null,})}else{point.dlBox=null}var tooltipPos=point.tooltipPos;var xIndex=!inverted?0:1;var yIndex=!inverted?1:0;tooltipYOffset=series.columnMetrics?series.columnMetrics.offset:-metrics.width/2;if(!inverted){tooltipPos[xIndex]+=(xAxis.reversed?-1:0)*shapeArgs.width}else{tooltipPos[xIndex]+=shapeArgs.width/2}tooltipPos[yIndex]=clamp(tooltipPos[yIndex]+(inverted?-1:1)*tooltipYOffset,0,yAxis.len-1);partialFill=point.partialFill;if(partialFill){if(isObject(partialFill)){partialFill=partialFill.amount}if(!isNumber(partialFill)){partialFill=0}point.partShapeArgs=merge(shapeArgs,{r:series.options.borderRadius,});clipRectWidth=Math.max(Math.round(length*partialFill+point.plotX-plotX),0);point.clipRectArgs={x:xAxis.reversed?shapeArgs.x+length-clipRectWidth:shapeArgs.x,y:shapeArgs.y,width:clipRectWidth,height:shapeArgs.height,}}};XRangeSeries.prototype.translate=function(){columnProto.translate.apply(this,arguments);this.points.forEach(function(point){this.translatePoint(point)},this)};XRangeSeries.prototype.drawPoint=function(point,verb){var series=this,seriesOpts=series.options,renderer=series.chart.renderer,graphic=point.graphic,type=point.shapeType,shapeArgs=point.shapeArgs,partShapeArgs=point.partShapeArgs,clipRectArgs=point.clipRectArgs,pfOptions=point.partialFill,cutOff=seriesOpts.stacking&&!seriesOpts.borderRadius,pointState=point.state,stateOpts=seriesOpts.states[pointState||"normal"]||{},pointStateVerb=typeof pointState==="undefined"?"attr":verb,pointAttr=series.pointAttribs(point,pointState),animation=pick(series.chart.options.chart.animation,stateOpts.animation),fill;if(!point.isNull&&point.visible!==false){if(graphic){graphic.rect[verb](shapeArgs)}else{point.graphic=graphic=renderer.g("point").addClass(point.getClassName()).add(point.group||series.group);graphic.rect=renderer[type](merge(shapeArgs)).addClass(point.getClassName()).addClass("highcharts-partfill-original").add(graphic)}if(partShapeArgs){if(graphic.partRect){graphic.partRect[verb](merge(partShapeArgs));graphic.partialClipRect[verb](merge(clipRectArgs))}else{graphic.partialClipRect=renderer.clipRect(clipRectArgs.x,clipRectArgs.y,clipRectArgs.width,clipRectArgs.height);graphic.partRect=renderer[type](partShapeArgs).addClass("highcharts-partfill-overlay").add(graphic).clip(graphic.partialClipRect)}}if(!series.chart.styledMode){graphic.rect[verb](pointAttr,animation).shadow(seriesOpts.shadow,null,cutOff);if(partShapeArgs){if(!isObject(pfOptions)){pfOptions={}}if(isObject(seriesOpts.partialFill)){pfOptions=merge(seriesOpts.partialFill,pfOptions)}fill=pfOptions.fill||color(pointAttr.fill).brighten(-0.3).get()||color(point.color||series.color).brighten(-0.3).get();pointAttr.fill=fill;graphic.partRect[pointStateVerb](pointAttr,animation).shadow(seriesOpts.shadow,null,cutOff)}}}else if(graphic){point.graphic=graphic.destroy()}};XRangeSeries.prototype.drawPoints=function(){var series=this,verb=series.getAnimationVerb();series.points.forEach(function(point){series.drawPoint(point,verb)})};XRangeSeries.prototype.getAnimationVerb=function(){return this.chart.pointCount<(this.options.animationLimit||250)?"animate":"attr"};XRangeSeries.prototype.isPointInside=function(point){var shapeArgs=point.shapeArgs,plotX=point.plotX,plotY=point.plotY;if(!shapeArgs){return _super.prototype.isPointInside.apply(this,arguments)}var isInside=typeof plotX!=="undefined"&&typeof plotY!=="undefined"&&plotY>=0&&plotY<=this.yAxis.len&&(shapeArgs.x||0)+(shapeArgs.width||0)>=0&&plotX<=this.xAxis.len;return isInside};XRangeSeries.defaultOptions=merge(ColumnSeries.defaultOptions,{colorByPoint:true,dataLabels:{formatter:function(){var point=this.point,amount=point.partialFill;if(isObject(amount)){amount=amount.amount}if(isNumber(amount)&&amount>0){return correctFloat(amount*100)+"%"}},inside:true,verticalAlign:"middle",},tooltip:{headerFormat:'<span style="font-size: 10px">{point.x} - {point.x2}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25CF</span> {series.name}: <b>{point.yCategory}</b><br/>',},borderRadius:3,pointRange:0,});return XRangeSeries})(ColumnSeries);extend(XRangeSeries.prototype,{type:"xrange",parallelArrays:["x","x2","y"],requireSorting:false,animate:Series.prototype.animate,cropShoulder:1,getExtremesFromAll:true,autoIncrement:H.noop,buildKDTree:H.noop,pointClass:XRangePoint,});SeriesRegistry.registerSeriesType("xrange",XRangeSeries);("");return XRangeSeries});_registerModule(_modules,"Series/Gantt/GanttPoint.js",[_modules["Core/Series/SeriesRegistry.js"],_modules["Core/Utilities.js"]],function(SeriesRegistry,U){var __extends=(this&&this.__extends)||(function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b})||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):((__.prototype=b.prototype),new __())}})();var XRangePoint=SeriesRegistry.seriesTypes.xrange.prototype.pointClass;var pick=U.pick;var GanttPoint=(function(_super){__extends(GanttPoint,_super);function GanttPoint(){var _this=(_super!==null&&_super.apply(this,arguments))||this;_this.options=void 0;_this.series=void 0;return _this}GanttPoint.setGanttPointAliases=function(options){function addIfExists(prop,val){if(typeof val!=="undefined"){options[prop]=val}}addIfExists("x",pick(options.start,options.x));addIfExists("x2",pick(options.end,options.x2));addIfExists("partialFill",pick(options.completed,options.partialFill))};GanttPoint.prototype.applyOptions=function(options,x){var point=this,ganttPoint;ganttPoint=_super.prototype.applyOptions.call(point,options,x);GanttPoint.setGanttPointAliases(ganttPoint);return ganttPoint};GanttPoint.prototype.isValid=function(){return((typeof this.start==="number"||typeof this.x==="number")&&(typeof this.end==="number"||typeof this.x2==="number"||this.milestone))};return GanttPoint})(XRangePoint);return GanttPoint});_registerModule(_modules,"Core/Axis/BrokenAxis.js",[_modules["Extensions/Stacking.js"],_modules["Core/Utilities.js"]],function(StackItem,U){var addEvent=U.addEvent,find=U.find,fireEvent=U.fireEvent,isArray=U.isArray,isNumber=U.isNumber,pick=U.pick;var BrokenAxis;(function(BrokenAxis){var composedClasses=[];function compose(AxisClass,SeriesClass){if(composedClasses.indexOf(AxisClass)===-1){composedClasses.push(AxisClass);AxisClass.keepProps.push("brokenAxis");addEvent(AxisClass,"init",onAxisInit);addEvent(AxisClass,"afterInit",onAxisAfterInit);addEvent(AxisClass,"afterSetTickPositions",onAxisAfterSetTickPositions);addEvent(AxisClass,"afterSetOptions",onAxisAfterSetOptions)}if(composedClasses.indexOf(SeriesClass)===-1){composedClasses.push(SeriesClass);var seriesProto=SeriesClass.prototype;seriesProto.drawBreaks=seriesDrawBreaks;seriesProto.gappedPath=seriesGappedPath;addEvent(SeriesClass,"afterGeneratePoints",onSeriesAfterGeneratePoints);addEvent(SeriesClass,"afterRender",onSeriesAfterRender)}return AxisClass}BrokenAxis.compose=compose;function onAxisAfterInit(){if(typeof this.brokenAxis!=="undefined"){this.brokenAxis.setBreaks(this.options.breaks,false)}}function onAxisAfterSetOptions(){var axis=this;if(axis.brokenAxis&&axis.brokenAxis.hasBreaks){axis.options.ordinal=false}}function onAxisAfterSetTickPositions(){var axis=this,brokenAxis=axis.brokenAxis;if(brokenAxis&&brokenAxis.hasBreaks){var tickPositions=axis.tickPositions,info=axis.tickPositions.info,newPositions=[];for(var i=0;i<tickPositions.length;i++){if(!brokenAxis.isInAnyBreak(tickPositions[i])){newPositions.push(tickPositions[i])}}axis.tickPositions=newPositions;axis.tickPositions.info=info}}function onAxisInit(){var axis=this;if(!axis.brokenAxis){axis.brokenAxis=new Additions(axis)}}function onSeriesAfterGeneratePoints(){var _a=this,isDirty=_a.isDirty,connectNulls=_a.options.connectNulls,points=_a.points,xAxis=_a.xAxis,yAxis=_a.yAxis;if(isDirty){var i=points.length;while(i--){var point=points[i];var nullGap=point.y===null&&connectNulls===false;var isPointInBreak=!nullGap&&((xAxis&&xAxis.brokenAxis&&xAxis.brokenAxis.isInAnyBreak(point.x,true))||(yAxis&&yAxis.brokenAxis&&yAxis.brokenAxis.isInAnyBreak(point.y,true)));point.visible=isPointInBreak?false:point.options.visible!==false}}}function onSeriesAfterRender(){this.drawBreaks(this.xAxis,["x"]);this.drawBreaks(this.yAxis,pick(this.pointArrayMap,["y"]))}function seriesDrawBreaks(axis,keys){var series=this,points=series.points;var breaks,threshold,eventName,y;if(axis&&axis.brokenAxis&&axis.brokenAxis.hasBreaks){var brokenAxis_1=axis.brokenAxis;keys.forEach(function(key){breaks=(brokenAxis_1&&brokenAxis_1.breakArray)||[];threshold=axis.isXAxis?axis.min:pick(series.options.threshold,axis.min);points.forEach(function(point){y=pick(point["stack"+key.toUpperCase()],point[key]);breaks.forEach(function(brk){if(isNumber(threshold)&&isNumber(y)){eventName=false;if((threshold<brk.from&&y>brk.to)||(threshold>brk.from&&y<brk.from)){eventName="pointBreak"}else if((threshold<brk.from&&y>brk.from&&y<brk.to)||(threshold>brk.from&&y>brk.to&&y<brk.from)){eventName="pointInBreak"}if(eventName){fireEvent(axis,eventName,{point:point,brk:brk})}}})})})}}function seriesGappedPath(){var currentDataGrouping=this.currentDataGrouping,groupingSize=currentDataGrouping&&currentDataGrouping.gapSize,points=this.points.slice(),yAxis=this.yAxis;var gapSize=this.options.gapSize,i=points.length-1,stack;if(gapSize&&i>0){if(this.options.gapUnit!=="value"){gapSize*=this.basePointRange}if(groupingSize&&groupingSize>gapSize&&groupingSize>=this.basePointRange){gapSize=groupingSize}var current=void 0,next=void 0;while(i--){if(!(next&&next.visible!==false)){next=points[i+1]}current=points[i];if(next.visible===false||current.visible===false){continue}if(next.x-current.x>gapSize){var xRange=(current.x+next.x)/2;points.splice(i+1,0,{isNull:true,x:xRange,});if(yAxis.stacking&&this.options.stacking){stack=yAxis.stacking.stacks[this.stackKey][xRange]=new StackItem(yAxis,yAxis.options.stackLabels,false,xRange,this.stack);stack.total=0}}next=current}}return this.getGraphPath(points)}var Additions=(function(){function Additions(axis){this.hasBreaks=false;this.axis=axis}Additions.isInBreak=function(brk,val){var repeat=brk.repeat||Infinity,from=brk.from,length=brk.to-brk.from,test=val>=from?(val-from)%repeat:repeat-((from-val)%repeat);var ret;if(!brk.inclusive){ret=test<length&&test!==0}else{ret=test<=length}return ret};Additions.lin2Val=function(val){var axis=this;var brokenAxis=axis.brokenAxis;var breakArray=brokenAxis&&brokenAxis.breakArray;if(!breakArray||!isNumber(val)){return val}var nval=val,brk,i;for(i=0;i<breakArray.length;i++){brk=breakArray[i];if(brk.from>=nval){break}else if(brk.to<nval){nval+=brk.len}else if(Additions.isInBreak(brk,nval)){nval+=brk.len}}return nval};Additions.val2Lin=function(val){var axis=this;var brokenAxis=axis.brokenAxis;var breakArray=brokenAxis&&brokenAxis.breakArray;if(!breakArray||!isNumber(val)){return val}var nval=val,brk,i;for(i=0;i<breakArray.length;i++){brk=breakArray[i];if(brk.to<=val){nval-=brk.len}else if(brk.from>=val){break}else if(Additions.isInBreak(brk,val)){nval-=val-brk.from;break}}return nval};Additions.prototype.findBreakAt=function(x,breaks){return find(breaks,function(b){return b.from<x&&x<b.to})};Additions.prototype.isInAnyBreak=function(val,testKeep){var brokenAxis=this,axis=brokenAxis.axis,breaks=axis.options.breaks||[];var i=breaks.length,inbrk,keep,ret;if(i&&isNumber(val)){while(i--){if(Additions.isInBreak(breaks[i],val)){inbrk=true;if(!keep){keep=pick(breaks[i].showPoints,!axis.isXAxis)}}}if(inbrk&&testKeep){ret=inbrk&&!keep}else{ret=inbrk}}return ret};Additions.prototype.setBreaks=function(breaks,redraw){var brokenAxis=this;var axis=brokenAxis.axis;var hasBreaks=isArray(breaks)&&!!breaks.length;axis.isDirty=brokenAxis.hasBreaks!==hasBreaks;brokenAxis.hasBreaks=hasBreaks;axis.options.breaks=axis.userOptions.breaks=breaks;axis.forceRedraw=true;axis.series.forEach(function(series){series.isDirty=true});if(!hasBreaks&&axis.val2lin===Additions.val2Lin){delete axis.val2lin;delete axis.lin2val}if(hasBreaks){axis.userOptions.ordinal=false;axis.lin2val=Additions.lin2Val;axis.val2lin=Additions.val2Lin;axis.setExtremes=function(newMin,newMax,redraw,animation,eventArguments){if(brokenAxis.hasBreaks){var breaks_1=this.options.breaks||[];var axisBreak=void 0;while((axisBreak=brokenAxis.findBreakAt(newMin,breaks_1))){newMin=axisBreak.to}while((axisBreak=brokenAxis.findBreakAt(newMax,breaks_1))){newMax=axisBreak.from}if(newMax<newMin){newMax=newMin}}axis.constructor.prototype.setExtremes.call(this,newMin,newMax,redraw,animation,eventArguments)};axis.setAxisTranslation=function(){axis.constructor.prototype.setAxisTranslation.call(this);brokenAxis.unitLength=void 0;if(brokenAxis.hasBreaks){var breaks_2=axis.options.breaks||[],breakArrayT_1=[],breakArray_1=[],pointRangePadding=pick(axis.pointRangePadding,0);var length_1=0,inBrk_1,repeat_1,min_1=axis.userMin||axis.min,max_1=axis.userMax||axis.max,start_1,i_1;breaks_2.forEach(function(brk){repeat_1=brk.repeat||Infinity;if(isNumber(min_1)&&isNumber(max_1)){if(Additions.isInBreak(brk,min_1)){min_1+=(brk.to%repeat_1)-(min_1%repeat_1)}if(Additions.isInBreak(brk,max_1)){max_1-=(max_1%repeat_1)-(brk.from%repeat_1)}}});breaks_2.forEach(function(brk){start_1=brk.from;repeat_1=brk.repeat||Infinity;if(isNumber(min_1)&&isNumber(max_1)){while(start_1-repeat_1>min_1){start_1-=repeat_1}while(start_1<min_1){start_1+=repeat_1}for(i_1=start_1;i_1<max_1;i_1+=repeat_1){breakArrayT_1.push({value:i_1,move:"in",});breakArrayT_1.push({value:i_1+brk.to-brk.from,move:"out",size:brk.breakSize,})}}});breakArrayT_1.sort(function(a,b){return a.value===b.value?(a.move==="in"?0:1)-(b.move==="in"?0:1):a.value-b.value});inBrk_1=0;start_1=min_1;breakArrayT_1.forEach(function(brk){inBrk_1+=brk.move==="in"?1:-1;if(inBrk_1===1&&brk.move==="in"){start_1=brk.value}if(inBrk_1===0&&isNumber(start_1)){breakArray_1.push({from:start_1,to:brk.value,len:brk.value-start_1-(brk.size||0),});length_1+=brk.value-start_1-(brk.size||0)}});brokenAxis.breakArray=breakArray_1;if(isNumber(min_1)&&isNumber(max_1)&&isNumber(axis.min)){brokenAxis.unitLength=max_1-min_1-length_1+pointRangePadding;fireEvent(axis,"afterBreaks");if(axis.staticScale){axis.transA=axis.staticScale}else if(brokenAxis.unitLength){axis.transA*=(max_1-axis.min+pointRangePadding)/brokenAxis.unitLength}if(pointRangePadding){axis.minPixelPadding=axis.transA*(axis.minPointOffset||0)}axis.min=min_1;axis.max=max_1}}}}if(pick(redraw,true)){axis.chart.redraw()}};return Additions})();BrokenAxis.Additions=Additions})(BrokenAxis||(BrokenAxis={}));return BrokenAxis});_registerModule(_modules,"Core/Axis/GridAxis.js",[_modules["Core/Axis/Axis.js"],_modules["Core/Axis/AxisDefaults.js"],_modules["Core/Globals.js"],_modules["Core/Utilities.js"],],function(Axis,AxisDefaults,H,U){var dateFormats=H.dateFormats;var addEvent=U.addEvent,defined=U.defined,erase=U.erase,find=U.find,isArray=U.isArray,isNumber=U.isNumber,merge=U.merge,pick=U.pick,timeUnits=U.timeUnits,wrap=U.wrap;function argsToArray(args){return Array.prototype.slice.call(args,1)}function isObject(x){return U.isObject(x,true)}function applyGridOptions(axis){var options=axis.options;options.labels.align=pick(options.labels.align,"center");if(!axis.categories){options.showLastLabel=false}axis.labelRotation=0;options.labels.rotation=0}var GridAxis;(function(GridAxis){var Side;(function(Side){Side[(Side["top"]=0)]="top";Side[(Side["right"]=1)]="right";Side[(Side["bottom"]=2)]="bottom";Side[(Side["left"]=3)]="left"})((Side=GridAxis.Side||(GridAxis.Side={})));function compose(AxisClass,ChartClass,TickClass){if(AxisClass.keepProps.indexOf("grid")===-1){AxisClass.keepProps.push("grid");AxisClass.prototype.getMaxLabelDimensions=getMaxLabelDimensions;wrap(AxisClass.prototype,"unsquish",wrapUnsquish);addEvent(AxisClass,"init",onInit);addEvent(AxisClass,"afterGetOffset",onAfterGetOffset);addEvent(AxisClass,"afterGetTitlePosition",onAfterGetTitlePosition);addEvent(AxisClass,"afterInit",onAfterInit);addEvent(AxisClass,"afterRender",onAfterRender);addEvent(AxisClass,"afterSetAxisTranslation",onAfterSetAxisTranslation);addEvent(AxisClass,"afterSetOptions",onAfterSetOptions);addEvent(AxisClass,"afterSetOptions",onAfterSetOptions2);addEvent(AxisClass,"afterSetScale",onAfterSetScale);addEvent(AxisClass,"afterTickSize",onAfterTickSize);addEvent(AxisClass,"trimTicks",onTrimTicks);addEvent(AxisClass,"destroy",onDestroy)}addEvent(ChartClass,"afterSetChartSize",onChartAfterSetChartSize);addEvent(TickClass,"afterGetLabelPosition",onTickAfterGetLabelPosition);addEvent(TickClass,"labelFormat",onTickLabelFormat);return AxisClass}GridAxis.compose=compose;function getMaxLabelDimensions(ticks,tickPositions){var dimensions={width:0,height:0,};tickPositions.forEach(function(pos){var tick=ticks[pos];var labelHeight=0,labelWidth=0,label;if(isObject(tick)){label=isObject(tick.label)?tick.label:{};labelHeight=label.getBBox?label.getBBox().height:0;if(label.textStr&&!isNumber(label.textPxLength)){label.textPxLength=label.getBBox().width}labelWidth=isNumber(label.textPxLength)?Math.round(label.textPxLength):0;if(label.textStr){labelWidth=Math.round(label.getBBox().width)}dimensions.height=Math.max(labelHeight,dimensions.height);dimensions.width=Math.max(labelWidth,dimensions.width)}});if(this.options.type==="treegrid"&&this.treeGrid&&this.treeGrid.mapOfPosToGridNode){var treeDepth=this.treeGrid.mapOfPosToGridNode[-1].height||0;dimensions.width+=this.options.labels.indentation*(treeDepth-1)}return dimensions}function onAfterGetOffset(){var grid=this.grid;((grid&&grid.columns)||[]).forEach(function(column){column.getOffset()})}function onAfterGetTitlePosition(e){var axis=this;var options=axis.options;var gridOptions=options.grid||{};if(gridOptions.enabled===true){var axisTitle=axis.axisTitle,axisHeight=axis.height,horiz=axis.horiz,axisLeft=axis.left,offset=axis.offset,opposite=axis.opposite,options_1=axis.options,axisTop=axis.top,axisWidth=axis.width;var tickSize=axis.tickSize();var titleWidth=axisTitle&&axisTitle.getBBox().width;var xOption=options_1.title.x;var yOption=options_1.title.y;var titleMargin=pick(options_1.title.margin,horiz?5:10);var titleFontSize=axis.chart.renderer.fontMetrics(options_1.title.style.fontSize,axisTitle).f;var crispCorr=tickSize?tickSize[0]/2:0;var offAxis=(horiz?axisTop+axisHeight:axisLeft)+(horiz?1:-1)*(opposite?-1:1)*crispCorr+(axis.side===GridAxis.Side.bottom?titleFontSize:0);e.titlePosition.x=horiz?axisLeft-(titleWidth||0)/2-titleMargin+xOption:offAxis+(opposite?axisWidth:0)+offset+xOption;e.titlePosition.y=horiz?offAxis-(opposite?axisHeight:0)+(opposite?titleFontSize:-titleFontSize)/2+offset+yOption:axisTop-titleMargin+yOption}}function onAfterInit(){var axis=this;var chart=axis.chart,_a=axis.options.grid,gridOptions=_a===void 0?{}:_a,userOptions=axis.userOptions;if(gridOptions.enabled){applyGridOptions(axis)}if(gridOptions.columns){var columns=(axis.grid.columns=[]);var columnIndex=(axis.grid.columnIndex=0);while(++columnIndex<gridOptions.columns.length){var columnOptions=merge(userOptions,gridOptions.columns[gridOptions.columns.length-columnIndex-1],{linkedTo:0,type:"category",scrollbar:{enabled:false,},});delete columnOptions.grid.columns;var column=new Axis(axis.chart,columnOptions);column.grid.isColumn=true;column.grid.columnIndex=columnIndex;erase(chart.axes,column);erase(chart[axis.coll],column);columns.push(column)}}}function onAfterRender(){var axis=this,grid=axis.grid,options=axis.options,gridOptions=options.grid||{};if(gridOptions.enabled===true){var min=axis.min||0,max=axis.max||0;axis.maxLabelDimensions=axis.getMaxLabelDimensions(axis.ticks,axis.tickPositions);if(axis.rightWall){axis.rightWall.destroy()}if(axis.grid&&axis.grid.isOuterAxis()&&axis.axisLine){var lineWidth=options.lineWidth;if(lineWidth){var linePath=axis.getLinePath(lineWidth),startPoint=linePath[0],endPoint=linePath[1],tickLength=(axis.tickSize("tick")||[1])[0],distance=(tickLength-1)*(axis.side===GridAxis.Side.top||axis.side===GridAxis.Side.left?-1:1);if(startPoint[0]==="M"&&endPoint[0]==="L"){if(axis.horiz){startPoint[2]+=distance;endPoint[2]+=distance}else{startPoint[1]+=distance;endPoint[1]+=distance}}if(!axis.horiz&&axis.chart.marginRight){var upperBorderStartPoint=startPoint,upperBorderEndPoint=["L",axis.left,startPoint[2]||0],upperBorderPath=[upperBorderStartPoint,upperBorderEndPoint,],lowerBorderEndPoint=["L",axis.chart.chartWidth-axis.chart.marginRight,axis.toPixels(max+axis.tickmarkOffset),],lowerBorderStartPoint=["M",endPoint[1]||0,axis.toPixels(max+axis.tickmarkOffset),],lowerBorderPath=[lowerBorderStartPoint,lowerBorderEndPoint,];if(!axis.grid.upperBorder&&min%1!==0){axis.grid.upperBorder=axis.grid.renderBorder(upperBorderPath)}if(axis.grid.upperBorder){axis.grid.upperBorder.attr({stroke:options.lineColor,"stroke-width":options.lineWidth,});axis.grid.upperBorder.animate({d:upperBorderPath,})}if(!axis.grid.lowerBorder&&max%1!==0){axis.grid.lowerBorder=axis.grid.renderBorder(lowerBorderPath)}if(axis.grid.lowerBorder){axis.grid.lowerBorder.attr({stroke:options.lineColor,"stroke-width":options.lineWidth,});axis.grid.lowerBorder.animate({d:lowerBorderPath,})}}if(!axis.grid.axisLineExtra){axis.grid.axisLineExtra=axis.grid.renderBorder(linePath)}else{axis.grid.axisLineExtra.attr({stroke:options.lineColor,"stroke-width":options.lineWidth,});axis.grid.axisLineExtra.animate({d:linePath,})}axis.axisLine[axis.showAxis?"show":"hide"](true)}}((grid&&grid.columns)||[]).forEach(function(column){column.render()});if(!axis.horiz&&axis.chart.hasRendered&&(axis.scrollbar||(axis.linkedParent&&axis.linkedParent.scrollbar))){var tickmarkOffset=axis.tickmarkOffset,lastTick=axis.tickPositions[axis.tickPositions.length-1],firstTick=axis.tickPositions[0];var label=void 0;while((label=axis.hiddenLabels.pop())&&label.element){label.show()}label=axis.ticks[firstTick].label;if(label){if(min-firstTick>tickmarkOffset){axis.hiddenLabels.push(label.hide())}else{label.show()}}label=axis.ticks[lastTick].label;if(label){if(lastTick-max>tickmarkOffset){axis.hiddenLabels.push(label.hide())}else{label.show()}}var mark=axis.ticks[lastTick].mark;if(mark){if(lastTick-max<tickmarkOffset&&lastTick-max>0&&axis.ticks[lastTick].isLast){mark.hide()}else if(axis.ticks[lastTick-1]){mark.show()}}}}}function onAfterSetAxisTranslation(){var axis=this;var tickInfo=axis.tickPositions&&axis.tickPositions.info;var options=axis.options;var gridOptions=options.grid||{};var userLabels=axis.userOptions.labels||{};if(gridOptions.enabled){if(axis.horiz){axis.series.forEach(function(series){series.options.pointRange=0});if(tickInfo&&options.dateTimeLabelFormats&&options.labels&&!defined(userLabels.align)&&(options.dateTimeLabelFormats[tickInfo.unitName].range===false||tickInfo.count>1)){options.labels.align="left";if(!defined(userLabels.x)){options.labels.x=3}}}else{if(this.options.type!=="treegrid"&&axis.grid&&axis.grid.columns){this.minPointOffset=this.tickInterval}}}}function onAfterSetOptions(e){var options=this.options,userOptions=e.userOptions,gridOptions=options&&isObject(options.grid)?options.grid:{};var gridAxisOptions;if(gridOptions.enabled===true){gridAxisOptions=merge(true,{className:"highcharts-grid-axis "+(userOptions.className||""),dateTimeLabelFormats:{hour:{list:["%H:%M","%H"],},day:{list:["%A, %e. %B","%a, %e. %b","%E"],},week:{list:["Week %W","W%W"],},month:{list:["%B","%b","%o"],},},grid:{borderWidth:1,},labels:{padding:2,style:{fontSize:"13px",},},margin:0,title:{text:null,reserveSpace:false,rotation:0,},units:[["millisecond",[1,10,100]],["second",[1,10]],["minute",[1,5,15]],["hour",[1,6]],["day",[1]],["week",[1]],["month",[1]],["year",null],],},userOptions);if(this.coll==="xAxis"){if(defined(userOptions.linkedTo)&&!defined(userOptions.tickPixelInterval)){gridAxisOptions.tickPixelInterval=350}if(!defined(userOptions.tickPixelInterval)&&defined(userOptions.linkedTo)&&!defined(userOptions.tickPositioner)&&!defined(userOptions.tickInterval)){gridAxisOptions.tickPositioner=function(min,max){var parentInfo=this.linkedParent&&this.linkedParent.tickPositions&&this.linkedParent.tickPositions.info;if(parentInfo){var units=gridAxisOptions.units||[];var unitIdx=void 0,count=void 0,unitName=void 0;for(var i=0;i<units.length;i++){if(units[i][0]===parentInfo.unitName){unitIdx=i;break}}if(units[unitIdx+1]){unitName=units[unitIdx+1][0];count=(units[unitIdx+1][1]||[1])[0]}else if(parentInfo.unitName==="year"){unitName="year";count=parentInfo.count*10}var unitRange=timeUnits[unitName];this.tickInterval=unitRange*count;return this.getTimeTicks({unitRange:unitRange,count:count,unitName:unitName,},min,max,this.options.startOfWeek)}}}}merge(true,this.options,gridAxisOptions);if(this.horiz){options.minPadding=pick(userOptions.minPadding,0);options.maxPadding=pick(userOptions.maxPadding,0)}if(isNumber(options.grid.borderWidth)){options.tickWidth=options.lineWidth=gridOptions.borderWidth}}}function onAfterSetOptions2(e){var axis=this;var userOptions=e.userOptions;var gridOptions=(userOptions&&userOptions.grid)||{};var columns=gridOptions.columns;if(gridOptions.enabled&&columns){merge(true,axis.options,columns[columns.length-1])}}function onAfterSetScale(){var axis=this;(axis.grid.columns||[]).forEach(function(column){column.setScale()})}function onAfterTickSize(e){var defaultLeftAxisOptions=AxisDefaults.defaultLeftAxisOptions;var _a=this,horiz=_a.horiz,maxLabelDimensions=_a.maxLabelDimensions,_b=_a.options.grid,gridOptions=_b===void 0?{}:_b;if(gridOptions.enabled&&maxLabelDimensions){var labelPadding=Math.abs(defaultLeftAxisOptions.labels.x)*2;var distance=horiz?gridOptions.cellHeight||labelPadding+maxLabelDimensions.height:labelPadding+maxLabelDimensions.width;if(isArray(e.tickSize)){e.tickSize[0]=distance}else{e.tickSize=[distance,0]}}}function onChartAfterSetChartSize(){this.axes.forEach(function(axis){((axis.grid&&axis.grid.columns)||[]).forEach(function(column){column.setAxisSize();column.setAxisTranslation()})})}function onDestroy(e){var grid=this.grid;(grid.columns||[]).forEach(function(column){column.destroy(e.keepEvents)});grid.columns=void 0}function onInit(e){var axis=this;var userOptions=e.userOptions||{};var gridOptions=userOptions.grid||{};if(gridOptions.enabled&&defined(gridOptions.borderColor)){userOptions.tickColor=userOptions.lineColor=gridOptions.borderColor}if(!axis.grid){axis.grid=new Additions(axis)}axis.hiddenLabels=[]}function onTickAfterGetLabelPosition(e){var tick=this,label=tick.label,axis=tick.axis,reversed=axis.reversed,chart=axis.chart,options=axis.options,gridOptions=options.grid||{},labelOpts=axis.options.labels,align=labelOpts.align,verticalAlign="middle",side=GridAxis.Side[axis.side],tickmarkOffset=e.tickmarkOffset,tickPositions=axis.tickPositions,tickPos=tick.pos-tickmarkOffset,nextTickPos=isNumber(tickPositions[e.index+1])?tickPositions[e.index+1]-tickmarkOffset:(axis.max||0)+tickmarkOffset,tickSize=axis.tickSize("tick"),tickWidth=tickSize?tickSize[0]:0,crispCorr=tickSize?tickSize[1]/2:0;var labelHeight,lblMetrics,lines,bottom,top,left,right;if(gridOptions.enabled===true){if(side==="top"){bottom=axis.top+axis.offset;top=bottom-tickWidth}else if(side==="bottom"){top=chart.chartHeight-axis.bottom+axis.offset;bottom=top+tickWidth}else{bottom=axis.top+axis.len-(axis.translate(reversed?nextTickPos:tickPos)||0);top=axis.top+axis.len-(axis.translate(reversed?tickPos:nextTickPos)||0)}if(side==="right"){left=chart.chartWidth-axis.right+axis.offset;right=left+tickWidth}else if(side==="left"){right=axis.left+axis.offset;left=right-tickWidth}else{left=Math.round(axis.left+(axis.translate(reversed?nextTickPos:tickPos)||0))-crispCorr;right=Math.min(Math.round(axis.left+(axis.translate(reversed?tickPos:nextTickPos)||0))-crispCorr,axis.left+axis.len)}tick.slotWidth=right-left;e.pos.x=align==="left"?left:align==="right"?right:left+(right-left)/2;e.pos.y=verticalAlign==="top"?top:verticalAlign==="bottom"?bottom:top+(bottom-top)/2;lblMetrics=chart.renderer.fontMetrics(labelOpts.style.fontSize,label&&label.element);labelHeight=label?label.getBBox().height:0;if(!labelOpts.useHTML){lines=Math.round(labelHeight/lblMetrics.h);e.pos.y+=(lblMetrics.b-(lblMetrics.h-lblMetrics.f))/2+ -(((lines-1)*lblMetrics.h)/2)}else{e.pos.y+=lblMetrics.b+ -(labelHeight/2)}e.pos.x+=(axis.horiz&&labelOpts.x)||0}}function onTickLabelFormat(ctx){var axis=ctx.axis,value=ctx.value;if(axis.options.grid&&axis.options.grid.enabled){var tickPos=axis.tickPositions;var series=(axis.linkedParent||axis).series[0];var isFirst=value===tickPos[0];var isLast=value===tickPos[tickPos.length-1];var point=series&&find(series.options.data,function(p){return p[axis.isXAxis?"x":"y"]===value});var pointCopy=void 0;if(point&&series.is("gantt")){pointCopy=merge(point);H.seriesTypes.gantt.prototype.pointClass.setGanttPointAliases(pointCopy)}ctx.isFirst=isFirst;ctx.isLast=isLast;ctx.point=pointCopy}}function onTrimTicks(){var axis=this;var options=axis.options;var gridOptions=options.grid||{};var categoryAxis=axis.categories;var tickPositions=axis.tickPositions;var firstPos=tickPositions[0];var lastPos=tickPositions[tickPositions.length-1];var linkedMin=axis.linkedParent&&axis.linkedParent.min;var linkedMax=axis.linkedParent&&axis.linkedParent.max;var min=linkedMin||axis.min;var max=linkedMax||axis.max;var tickInterval=axis.tickInterval;var endMoreThanMin=firstPos<min&&firstPos+tickInterval>min;var startLessThanMax=lastPos>max&&lastPos-tickInterval<max;if(gridOptions.enabled===true&&!categoryAxis&&(axis.horiz||axis.isLinked)){if(endMoreThanMin&&!options.startOnTick){tickPositions[0]=min}if(startLessThanMax&&!options.endOnTick){tickPositions[tickPositions.length-1]=max}}}function wrapUnsquish(proceed){var axis=this;var _a=axis.options.grid,gridOptions=_a===void 0?{}:_a;if(gridOptions.enabled===true&&axis.categories){return axis.tickInterval}return proceed.apply(axis,argsToArray(arguments))}var Additions=(function(){function Additions(axis){this.axis=axis}Additions.prototype.isOuterAxis=function(){var axis=this.axis;var chart=axis.chart;var columnIndex=axis.grid.columnIndex;var columns=(axis.linkedParent&&axis.linkedParent.grid.columns)||axis.grid.columns;var parentAxis=columnIndex?axis.linkedParent:axis;var thisIndex=-1,lastIndex=0;chart[axis.coll].forEach(function(otherAxis,index){if(otherAxis.side===axis.side&&!otherAxis.options.isInternal){lastIndex=index;if(otherAxis===parentAxis){thisIndex=index}}});return(lastIndex===thisIndex&&(isNumber(columnIndex)?columns.length===columnIndex:true))};Additions.prototype.renderBorder=function(path){var axis=this.axis,renderer=axis.chart.renderer,options=axis.options,extraBorderLine=renderer.path(path).addClass("highcharts-axis-line").add(axis.axisBorder);if(!renderer.styledMode){extraBorderLine.attr({stroke:options.lineColor,"stroke-width":options.lineWidth,zIndex:7,})}return extraBorderLine};return Additions})();GridAxis.Additions=Additions})(GridAxis||(GridAxis={}));dateFormats.E=function(timestamp){return this.dateFormat("%a",timestamp,true).charAt(0)};dateFormats.W=function(timestamp){var d=new this.Date(timestamp);var firstDay=(this.get("Day",d)+6)%7;var thursday=new this.Date(d.valueOf());this.set("Date",thursday,this.get("Date",d)-firstDay+3);var firstThursday=new this.Date(this.get("FullYear",thursday),0,1);if(this.get("Day",firstThursday)!==4){this.set("Month",d,0);this.set("Date",d,1+((11-this.get("Day",firstThursday))%7))}return(1+Math.floor((thursday.valueOf()-firstThursday.valueOf())/604800000)).toString()};("");return GridAxis});_registerModule(_modules,"Gantt/Tree.js",[_modules["Core/Utilities.js"]],function(U){var extend=U.extend,isNumber=U.isNumber,pick=U.pick;var getListOfParents=function(data,ids){var listOfParents=data.reduce(function(prev,curr){var parent=pick(curr.parent,"");if(typeof prev[parent]==="undefined"){prev[parent]=[]}prev[parent].push(curr);return prev},{}),parents=Object.keys(listOfParents);parents.forEach(function(parent,list){var children=listOfParents[parent];if(parent!==""&&ids.indexOf(parent)===-1){children.forEach(function(child){list[""].push(child)});delete list[parent]}});return listOfParents};var getNode=function(id,parent,level,data,mapOfIdToChildren,options){var descendants=0,height=0,after=options&&options.after,before=options&&options.before,node={data:data,depth:level-1,id:id,level:level,parent:parent,},start,end,children;if(typeof before==="function"){before(node,options)}children=(mapOfIdToChildren[id]||[]).map(function(child){var node=getNode(child.id,id,level+1,child,mapOfIdToChildren,options),childStart=child.start,childEnd=child.milestone===true?childStart:child.end;start=!isNumber(start)||childStart<start?childStart:start;end=!isNumber(end)||childEnd>end?childEnd:end;descendants=descendants+1+node.descendants;height=Math.max(node.height+1,height);return node});if(data){data.start=pick(data.start,start);data.end=pick(data.end,end)}extend(node,{children:children,descendants:descendants,height:height,});if(typeof after==="function"){after(node,options)}return node};var getTree=function(data,options){var ids=data.map(function(d){return d.id}),mapOfIdToChildren=getListOfParents(data,ids);return getNode("",null,1,null,mapOfIdToChildren,options)};var Tree={getListOfParents:getListOfParents,getNode:getNode,getTree:getTree,};return Tree});_registerModule(_modules,"Core/Axis/TreeGridTick.js",[_modules["Core/Utilities.js"]],function(U){var addEvent=U.addEvent,isObject=U.isObject,isNumber=U.isNumber,pick=U.pick,wrap=U.wrap;var TreeGridTick;(function(TreeGridTick){var applied=false;function compose(TickClass){if(!applied){addEvent(TickClass,"init",onInit);wrap(TickClass.prototype,"getLabelPosition",wrapGetLabelPosition);wrap(TickClass.prototype,"renderLabel",wrapRenderLabel);TickClass.prototype.collapse=function(redraw){this.treeGrid.collapse(redraw)};TickClass.prototype.expand=function(redraw){this.treeGrid.expand(redraw)};TickClass.prototype.toggleCollapse=function(redraw){this.treeGrid.toggleCollapse(redraw)};applied=true}}TreeGridTick.compose=compose;function onInit(){var tick=this;if(!tick.treeGrid){tick.treeGrid=new Additions(tick)}}function onTickHover(label){label.addClass("highcharts-treegrid-node-active");if(!label.renderer.styledMode){label.css({textDecoration:"underline",})}}function onTickHoverExit(label,options){var css=isObject(options.style)?options.style:{};label.removeClass("highcharts-treegrid-node-active");if(!label.renderer.styledMode){label.css({textDecoration:css.textDecoration})}}function renderLabelIcon(tick,params){var treeGrid=tick.treeGrid,isNew=!treeGrid.labelIcon,renderer=params.renderer,labelBox=params.xy,options=params.options,width=options.width||0,height=options.height||0,iconCenter={x:labelBox.x-width/2-(options.padding||0),y:labelBox.y-height/2,},rotation=params.collapsed?90:180,shouldRender=params.show&&isNumber(iconCenter.y);var icon=treeGrid.labelIcon;if(!icon){treeGrid.labelIcon=icon=renderer.path(renderer.symbols[options.type](options.x||0,options.y||0,width,height)).addClass("highcharts-label-icon").add(params.group)}icon.attr({y:shouldRender?0:-9999});if(!renderer.styledMode){icon.attr({cursor:"pointer",fill:pick(params.color,"#666666"),"stroke-width":1,stroke:options.lineColor,strokeWidth:options.lineWidth||0,})}icon[isNew?"attr":"animate"]({translateX:iconCenter.x,translateY:iconCenter.y,rotation:rotation,})}function wrapGetLabelPosition(proceed,x,y,label,horiz,labelOptions,tickmarkOffset,index,step){var tick=this,lbOptions=pick(tick.options&&tick.options.labels,labelOptions),pos=tick.pos,axis=tick.axis,options=axis.options,isTreeGrid=options.type==="treegrid",result=proceed.apply(tick,[x,y,label,horiz,lbOptions,tickmarkOffset,index,step,]);var symbolOptions,indentation,mapOfPosToGridNode,node,level;if(isTreeGrid){symbolOptions=lbOptions&&isObject(lbOptions.symbol,true)?lbOptions.symbol:{};indentation=lbOptions&&isNumber(lbOptions.indentation)?lbOptions.indentation:0;mapOfPosToGridNode=axis.treeGrid.mapOfPosToGridNode;node=mapOfPosToGridNode&&mapOfPosToGridNode[pos];level=(node&&node.depth)||1;result.x+=(symbolOptions.width||0)+(symbolOptions.padding||0)*2+(level-1)*indentation}return result}function wrapRenderLabel(proceed){var tick=this,pos=tick.pos,axis=tick.axis,label=tick.label,mapOfPosToGridNode=axis.treeGrid.mapOfPosToGridNode,options=axis.options,labelOptions=pick(tick.options&&tick.options.labels,options&&options.labels),symbolOptions=labelOptions&&isObject(labelOptions.symbol,true)?labelOptions.symbol:{},node=mapOfPosToGridNode&&mapOfPosToGridNode[pos],level=node&&node.depth,isTreeGrid=options.type==="treegrid",shouldRender=axis.tickPositions.indexOf(pos)>-1,prefixClassName="highcharts-treegrid-node-",styledMode=axis.chart.styledMode;var collapsed,addClassName,removeClassName;if(isTreeGrid&&node){if(label&&label.element){label.addClass(prefixClassName+"level-"+level)}}proceed.apply(tick,Array.prototype.slice.call(arguments,1));if(isTreeGrid&&label&&label.element&&node&&node.descendants&&node.descendants>0){collapsed=axis.treeGrid.isCollapsed(node);renderLabelIcon(tick,{color:(!styledMode&&label.styles&&label.styles.color)||"",collapsed:collapsed,group:label.parentGroup,options:symbolOptions,renderer:label.renderer,show:shouldRender,xy:label.xy,});addClassName=prefixClassName+(collapsed?"collapsed":"expanded");removeClassName=prefixClassName+(collapsed?"expanded":"collapsed");label.addClass(addClassName).removeClass(removeClassName);if(!styledMode){label.css({cursor:"pointer",})}[label,tick.treeGrid.labelIcon].forEach(function(object){if(object&&!object.attachedTreeGridEvents){addEvent(object.element,"mouseover",function(){onTickHover(label)});addEvent(object.element,"mouseout",function(){onTickHoverExit(label,labelOptions)});addEvent(object.element,"click",function(){tick.treeGrid.toggleCollapse()});object.attachedTreeGridEvents=true}})}}var Additions=(function(){function Additions(tick){this.tick=tick}Additions.prototype.collapse=function(redraw){var tick=this.tick,axis=tick.axis,brokenAxis=axis.brokenAxis;if(brokenAxis&&axis.treeGrid.mapOfPosToGridNode){var pos=tick.pos,node=axis.treeGrid.mapOfPosToGridNode[pos],breaks=axis.treeGrid.collapse(node);brokenAxis.setBreaks(breaks,pick(redraw,true))}};Additions.prototype.expand=function(redraw){var tick=this.tick,axis=tick.axis,brokenAxis=axis.brokenAxis;if(brokenAxis&&axis.treeGrid.mapOfPosToGridNode){var pos=tick.pos,node=axis.treeGrid.mapOfPosToGridNode[pos],breaks=axis.treeGrid.expand(node);brokenAxis.setBreaks(breaks,pick(redraw,true))}};Additions.prototype.toggleCollapse=function(redraw){var tick=this.tick,axis=tick.axis,brokenAxis=axis.brokenAxis;if(brokenAxis&&axis.treeGrid.mapOfPosToGridNode){var pos=tick.pos,node=axis.treeGrid.mapOfPosToGridNode[pos],breaks=axis.treeGrid.toggleCollapse(node);brokenAxis.setBreaks(breaks,pick(redraw,true))}};return Additions})();TreeGridTick.Additions=Additions})(TreeGridTick||(TreeGridTick={}));return TreeGridTick});_registerModule(_modules,"Series/TreeUtilities.js",[_modules["Core/Color/Color.js"],_modules["Core/Utilities.js"]],function(Color,U){var extend=U.extend,isArray=U.isArray,isNumber=U.isNumber,isObject=U.isObject,merge=U.merge,pick=U.pick;function getColor(node,options){var index=options.index,mapOptionsToLevel=options.mapOptionsToLevel,parentColor=options.parentColor,parentColorIndex=options.parentColorIndex,series=options.series,colors=options.colors,siblings=options.siblings,points=series.points,chartOptionsChart=series.chart.options.chart;var getColorByPoint,point,level,colorByPoint,colorIndexByPoint,color,colorIndex;var variateColor=function(color){var colorVariation=level&&level.colorVariation;if(colorVariation&&colorVariation.key==="brightness"&&index&&siblings){return Color.parse(color).brighten(colorVariation.to*(index/siblings)).get()}return color};if(node){point=points[node.i];level=mapOptionsToLevel[node.level]||{};getColorByPoint=point&&level.colorByPoint;if(getColorByPoint){colorIndexByPoint=point.index%(colors?colors.length:chartOptionsChart.colorCount);colorByPoint=colors&&colors[colorIndexByPoint]}if(!series.chart.styledMode){color=pick(point&&point.options.color,level&&level.color,colorByPoint,parentColor&&variateColor(parentColor),series.color)}colorIndex=pick(point&&point.options.colorIndex,level&&level.colorIndex,colorIndexByPoint,parentColorIndex,options.colorIndex)}return{color:color,colorIndex:colorIndex,}}function getLevelOptions(params){var result=null,defaults,converted,i,from,to,levels;if(isObject(params)){result={};from=isNumber(params.from)?params.from:1;levels=params.levels;converted={};defaults=isObject(params.defaults)?params.defaults:{};if(isArray(levels)){converted=levels.reduce(function(obj,item){var level,levelIsConstant,options;if(isObject(item)&&isNumber(item.level)){options=merge({},item);levelIsConstant=pick(options.levelIsConstant,defaults.levelIsConstant);delete options.levelIsConstant;delete options.level;level=item.level+(levelIsConstant?0:from-1);if(isObject(obj[level])){merge(true,obj[level],options)}else{obj[level]=options}}return obj},{})}to=isNumber(params.to)?params.to:1;for(i=0;i<=to;i++){result[i]=merge({},defaults,isObject(converted[i])?converted[i]:{})}}return result}function setTreeValues(tree,options){var before=options.before,idRoot=options.idRoot,mapIdToNode=options.mapIdToNode,nodeRoot=mapIdToNode[idRoot],levelIsConstant=options.levelIsConstant!==false,points=options.points,point=points[tree.i],optionsPoint=(point&&point.options)||{},children=[];var childrenTotal=0;tree.levelDynamic=tree.level-(levelIsConstant?0:nodeRoot.level);tree.name=pick(point&&point.name,"");tree.visible=idRoot===tree.id||options.visible===true;if(typeof before==="function"){tree=before(tree,options)}tree.children.forEach(function(child,i){var newOptions=extend({},options);extend(newOptions,{index:i,siblings:tree.children.length,visible:tree.visible,});child=setTreeValues(child,newOptions);children.push(child);if(child.visible){childrenTotal+=child.val}});var value=pick(optionsPoint.value,childrenTotal);tree.visible=value>=0&&(childrenTotal>0||tree.visible);tree.children=children;tree.childrenTotal=childrenTotal;tree.isLeaf=tree.visible&&!childrenTotal;tree.val=value;return tree}function updateRootId(series){var rootId,options;if(isObject(series)){options=isObject(series.options)?series.options:{};rootId=pick(series.rootNode,options.rootId,"");if(isObject(series.userOptions)){series.userOptions.rootId=rootId}series.rootNode=rootId}return rootId}var TreeUtilities={getColor:getColor,getLevelOptions:getLevelOptions,setTreeValues:setTreeValues,updateRootId:updateRootId,};return TreeUtilities});_registerModule(_modules,"Core/Axis/TreeGridAxis.js",[_modules["Core/Axis/BrokenAxis.js"],_modules["Core/Axis/GridAxis.js"],_modules["Gantt/Tree.js"],_modules["Core/Axis/TreeGridTick.js"],_modules["Series/TreeUtilities.js"],_modules["Core/Utilities.js"],],function(BrokenAxis,GridAxis,Tree,TreeGridTick,TU,U){var getLevelOptions=TU.getLevelOptions;var addEvent=U.addEvent,find=U.find,fireEvent=U.fireEvent,isArray=U.isArray,isObject=U.isObject,isString=U.isString,merge=U.merge,pick=U.pick,wrap=U.wrap;var TreeGridAxis;(function(TreeGridAxis){var TickConstructor;function compose(AxisClass,ChartClass,SeriesClass,TickClass){if(AxisClass.keepProps.indexOf("treeGrid")===-1){AxisClass.keepProps.push("treeGrid");TickConstructor=TickClass;wrap(AxisClass.prototype,"generateTick",wrapGenerateTick);wrap(AxisClass.prototype,"init",wrapInit);wrap(AxisClass.prototype,"setTickInterval",wrapSetTickInterval);AxisClass.prototype.utils={getNode:Tree.getNode,};GridAxis.compose(AxisClass,ChartClass,TickClass);BrokenAxis.compose(AxisClass,SeriesClass);TreeGridTick.compose(TickClass)}return AxisClass}TreeGridAxis.compose=compose;function getBreakFromNode(node,max){var to=node.collapseEnd||0;var from=node.collapseStart||0;if(to>=max){from-=0.5}return{from:from,to:to,showPoints:false,}}function getTreeGridFromData(data,uniqueNames,numberOfSeries){var categories=[],collapsedNodes=[],mapOfIdToNode={},uniqueNamesEnabled=typeof uniqueNames==="boolean"?uniqueNames:false;var mapOfPosToGridNode={},posIterator=-1;var treeParams={after:function(node){var gridNode=mapOfPosToGridNode[node.pos];var height=0,descendants=0;gridNode.children.forEach(function(child){descendants+=(child.descendants||0)+1;height=Math.max((child.height||0)+1,height)});gridNode.descendants=descendants;gridNode.height=height;if(gridNode.collapsed){collapsedNodes.push(gridNode)}},before:function(node){var data=isObject(node.data,true)?node.data:{},name=isString(data.name)?data.name:"",parentNode=mapOfIdToNode[node.parent],parentGridNode=isObject(parentNode,true)?mapOfPosToGridNode[parentNode.pos]:null,hasSameName=function(x){return x.name===name};var gridNode,pos;if(uniqueNamesEnabled&&isObject(parentGridNode,true)&&!!(gridNode=find(parentGridNode.children,hasSameName))){pos=gridNode.pos;gridNode.nodes.push(node)}else{pos=posIterator++}if(!mapOfPosToGridNode[pos]){mapOfPosToGridNode[pos]=gridNode={depth:parentGridNode?parentGridNode.depth+1:0,name:name,id:data.id,nodes:[node],children:[],pos:pos,};if(pos!==-1){categories.push(name)}if(isObject(parentGridNode,true)){parentGridNode.children.push(gridNode)}}if(isString(node.id)){mapOfIdToNode[node.id]=node}if(gridNode&&data.collapsed===true){gridNode.collapsed=true}node.pos=pos},};var updateYValuesAndTickPos=function(map,numberOfSeries){var setValues=function(gridNode,start,result){var nodes=gridNode.nodes,padding=0.5;var end=start+(start===-1?0:numberOfSeries-1);var diff=(end-start)/2,pos=start+diff;nodes.forEach(function(node){var data=node.data;if(isObject(data,true)){data.y=start+(data.seriesIndex||0);delete data.seriesIndex}node.pos=pos});result[pos]=gridNode;gridNode.pos=pos;gridNode.tickmarkOffset=diff+padding;gridNode.collapseStart=end+padding;gridNode.children.forEach(function(child){setValues(child,end+1,result);end=(child.collapseEnd||0)-padding});gridNode.collapseEnd=end+padding;return result};return setValues(map["-1"],-1,{})};var tree=Tree.getTree(data,treeParams);mapOfPosToGridNode=updateYValuesAndTickPos(mapOfPosToGridNode,numberOfSeries);return{categories:categories,mapOfIdToNode:mapOfIdToNode,mapOfPosToGridNode:mapOfPosToGridNode,collapsedNodes:collapsedNodes,tree:tree,}}function onBeforeRender(e){var chart=e.target,axes=chart.axes;axes.filter(function(axis){return axis.options.type==="treegrid"}).forEach(function(axis){var options=axis.options||{},labelOptions=options.labels,uniqueNames=options.uniqueNames,max=options.max,isDirty=!axis.treeGrid.mapOfPosToGridNode||axis.series.some(function(series){return(!series.hasRendered||series.isDirtyData||series.isDirty)});var numberOfSeries=0,data,treeGrid;if(isDirty){data=axis.series.reduce(function(arr,s){if(s.visible){(s.options.data||[]).forEach(function(data){if(s.options.keys&&s.options.keys.length){data=s.pointClass.prototype.optionsToObject.call({series:s},data);s.pointClass.setGanttPointAliases(data)}if(isObject(data,true)){data.seriesIndex=numberOfSeries;arr.push(data)}});if(uniqueNames===true){numberOfSeries++}}return arr},[]);if(max&&data.length<max){for(var i=data.length;i<=max;i++){data.push({name:i+"\u200B",})}}treeGrid=getTreeGridFromData(data,uniqueNames||false,uniqueNames===true?numberOfSeries:1);axis.categories=treeGrid.categories;axis.treeGrid.mapOfPosToGridNode=treeGrid.mapOfPosToGridNode;axis.hasNames=true;axis.treeGrid.tree=treeGrid.tree;axis.series.forEach(function(series){var axisData=(series.options.data||[]).map(function(d){if(isArray(d)&&series.options.keys&&series.options.keys.length){data.forEach(function(point){if(d.indexOf(point.x)>=0&&d.indexOf(point.x2)>=0){d=point}})}return isObject(d,true)?merge(d):d});if(series.visible){series.setData(axisData,false)}});axis.treeGrid.mapOptionsToLevel=getLevelOptions({defaults:labelOptions,from:1,levels:labelOptions&&labelOptions.levels,to:axis.treeGrid.tree&&axis.treeGrid.tree.height,});if(e.type==="beforeRender"){axis.treeGrid.collapsedNodes=treeGrid.collapsedNodes}}})}function wrapGenerateTick(proceed,pos){var axis=this,mapOptionsToLevel=axis.treeGrid.mapOptionsToLevel||{},isTreeGrid=axis.options.type==="treegrid",ticks=axis.ticks;var tick=ticks[pos],levelOptions,options,gridNode;if(isTreeGrid&&axis.treeGrid.mapOfPosToGridNode){gridNode=axis.treeGrid.mapOfPosToGridNode[pos];levelOptions=mapOptionsToLevel[gridNode.depth];if(levelOptions){options={labels:levelOptions,}}if(!tick&&TickConstructor){ticks[pos]=tick=new TickConstructor(axis,pos,void 0,void 0,{category:gridNode.name,tickmarkOffset:gridNode.tickmarkOffset,options:options,})}else{tick.parameters.category=gridNode.name;tick.options=options;tick.addLabel()}}else{proceed.apply(axis,Array.prototype.slice.call(arguments,1))}}function wrapInit(proceed,chart,userOptions){var axis=this,isTreeGrid=userOptions.type==="treegrid";if(!axis.treeGrid){axis.treeGrid=new Additions(axis)}if(isTreeGrid){addEvent(chart,"beforeRender",onBeforeRender);addEvent(chart,"beforeRedraw",onBeforeRender);addEvent(chart,"addSeries",function(e){if(e.options.data){var treeGrid=getTreeGridFromData(e.options.data,userOptions.uniqueNames||false,1);axis.treeGrid.collapsedNodes=(axis.treeGrid.collapsedNodes||[]).concat(treeGrid.collapsedNodes)}});addEvent(axis,"foundExtremes",function(){if(axis.treeGrid.collapsedNodes){axis.treeGrid.collapsedNodes.forEach(function(node){var breaks=axis.treeGrid.collapse(node);if(axis.brokenAxis){axis.brokenAxis.setBreaks(breaks,false);if(axis.treeGrid.collapsedNodes){axis.treeGrid.collapsedNodes=axis.treeGrid.collapsedNodes.filter(function(n){return(node.collapseStart!==n.collapseStart||node.collapseEnd!==n.collapseEnd)})}}})}});addEvent(axis,"afterBreaks",function(){if(axis.coll==="yAxis"&&!axis.staticScale&&axis.chart.options.chart.height){axis.isDirty=true}});userOptions=merge({grid:{enabled:true,},labels:{align:"left",levels:[{level:void 0,},{level:1,style:{fontWeight:"bold",},},],symbol:{type:"triangle",x:-5,y:-5,height:10,width:10,padding:5,},},uniqueNames:false,},userOptions,{reversed:true,grid:{columns:void 0,},})}proceed.apply(axis,[chart,userOptions]);if(isTreeGrid){axis.hasNames=true;axis.options.showLastLabel=true}}function wrapSetTickInterval(proceed){var axis=this,options=axis.options,isTreeGrid=options.type==="treegrid";if(isTreeGrid){axis.min=pick(axis.userMin,options.min,axis.dataMin);axis.max=pick(axis.userMax,options.max,axis.dataMax);fireEvent(axis,"foundExtremes");axis.setAxisTranslation();axis.tickmarkOffset=0.5;axis.tickInterval=1;axis.tickPositions=axis.treeGrid.mapOfPosToGridNode?axis.treeGrid.getTickPositions():[]}else{proceed.apply(axis,Array.prototype.slice.call(arguments,1))}}var Additions=(function(){function Additions(axis){this.axis=axis}Additions.prototype.setCollapsedStatus=function(node){var axis=this.axis,chart=axis.chart;axis.series.forEach(function(series){var data=series.options.data;if(node.id&&data){var point=chart.get(node.id),dataPoint=data[series.data.indexOf(point)];if(point&&dataPoint){point.collapsed=node.collapsed;dataPoint.collapsed=node.collapsed}}})};Additions.prototype.collapse=function(node){var axis=this.axis,breaks=axis.options.breaks||[],obj=getBreakFromNode(node,axis.max);breaks.push(obj);node.collapsed=true;axis.treeGrid.setCollapsedStatus(node);return breaks};Additions.prototype.expand=function(node){var axis=this.axis,breaks=axis.options.breaks||[],obj=getBreakFromNode(node,axis.max);node.collapsed=false;axis.treeGrid.setCollapsedStatus(node);return breaks.reduce(function(arr,b){if(b.to!==obj.to||b.from!==obj.from){arr.push(b)}return arr},[])};Additions.prototype.getTickPositions=function(){var axis=this.axis,roundedMin=Math.floor(axis.min/axis.tickInterval)*axis.tickInterval,roundedMax=Math.ceil(axis.max/axis.tickInterval)*axis.tickInterval;return Object.keys(axis.treeGrid.mapOfPosToGridNode||{}).reduce(function(arr,key){var pos=+key;if(pos>=roundedMin&&pos<=roundedMax&&!(axis.brokenAxis&&axis.brokenAxis.isInAnyBreak(pos))){arr.push(pos)}return arr},[])};Additions.prototype.isCollapsed=function(node){var axis=this.axis,breaks=axis.options.breaks||[],obj=getBreakFromNode(node,axis.max);return breaks.some(function(b){return b.from===obj.from&&b.to===obj.to})};Additions.prototype.toggleCollapse=function(node){return this.isCollapsed(node)?this.expand(node):this.collapse(node)};return Additions})();TreeGridAxis.Additions=Additions})(TreeGridAxis||(TreeGridAxis={}));return TreeGridAxis});_registerModule(_modules,"Extensions/CurrentDateIndication.js",[_modules["Core/Axis/Axis.js"],_modules["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],_modules["Core/Utilities.js"],],function(Axis,PlotLineOrBand,U){var addEvent=U.addEvent,merge=U.merge,wrap=U.wrap;var defaultOptions={color:"#ccd6eb",width:2,label:{format:"%a, %b %d %Y, %H:%M",formatter:function(value,format){return this.axis.chart.time.dateFormat(format||"",value)},rotation:0,style:{fontSize:"10px",},},};addEvent(Axis,"afterSetOptions",function(){var options=this.options,cdiOptions=options.currentDateIndicator;if(cdiOptions){var plotLineOptions=typeof cdiOptions==="object"?merge(defaultOptions,cdiOptions):merge(defaultOptions);plotLineOptions.value=Date.now();plotLineOptions.className="highcharts-current-date-indicator";if(!options.plotLines){options.plotLines=[]}options.plotLines.push(plotLineOptions)}});addEvent(PlotLineOrBand,"render",function(){if(this.label){this.label.attr({text:this.getLabelText(this.options.label),})}});wrap(PlotLineOrBand.prototype,"getLabelText",function(defaultMethod,defaultLabelOptions){var options=this.options;if(options&&options.className&&options.className.indexOf("highcharts-current-date-indicator")!==-1&&options.label&&typeof options.label.formatter==="function"){options.value=Date.now();return options.label.formatter.call(this,options.value,options.label.format)}return defaultMethod.call(this,defaultLabelOptions)})});_registerModule(_modules,"Extensions/StaticScale.js",[_modules["Core/Axis/Axis.js"],_modules["Core/Chart/Chart.js"],_modules["Core/Utilities.js"],],function(Axis,Chart,U){var addEvent=U.addEvent,defined=U.defined,isNumber=U.isNumber,pick=U.pick;addEvent(Axis,"afterSetOptions",function(){var chartOptions=this.chart.options.chart;if(!this.horiz&&isNumber(this.options.staticScale)&&(!chartOptions.height||(chartOptions.scrollablePlotArea&&chartOptions.scrollablePlotArea.minHeight))){this.staticScale=this.options.staticScale}});Chart.prototype.adjustHeight=function(){if(this.redrawTrigger!=="adjustHeight"){(this.axes||[]).forEach(function(axis){var chart=axis.chart,animate=!!chart.initiatedScale&&chart.options.animation,staticScale=axis.options.staticScale,height,diff;if(axis.staticScale&&defined(axis.min)){height=pick(axis.brokenAxis&&axis.brokenAxis.unitLength,axis.max+axis.tickInterval-axis.min)*staticScale;height=Math.max(height,staticScale);diff=height-chart.plotHeight;if(!chart.scrollablePixelsY&&Math.abs(diff)>=1){chart.plotHeight=height;chart.redrawTrigger="adjustHeight";chart.setSize(void 0,chart.chartHeight+diff,animate)}axis.series.forEach(function(series){var clipRect=series.sharedClipKey&&chart.sharedClips[series.sharedClipKey];if(clipRect){clipRect.attr(chart.inverted?{width:chart.plotHeight,}:{height:chart.plotHeight,})}})}});this.initiatedScale=true}this.redrawTrigger=null};addEvent(Chart,"render",Chart.prototype.adjustHeight)});_registerModule(_modules,"Extensions/ArrowSymbols.js",[_modules["Core/Renderer/SVG/SVGRenderer.js"]],function(SVGRenderer){var symbols=SVGRenderer.prototype.symbols;function arrow(x,y,w,h){return[["M",x,y+h/2],["L",x+w,y],["L",x,y+h/2],["L",x+w,y+h],]}function arrowHalf(x,y,w,h){return arrow(x,y,w/2,h)}function triangleLeft(x,y,w,h){return[["M",x+w,y],["L",x,y+h/2],["L",x+w,y+h],["Z"],]}function triangleLeftHalf(x,y,w,h){return triangleLeft(x,y,w/2,h)}symbols.arrow=arrow;symbols["arrow-filled"]=triangleLeft;symbols["arrow-filled-half"]=triangleLeftHalf;symbols["arrow-half"]=arrowHalf;symbols["triangle-left"]=triangleLeft;symbols["triangle-left-half"]=triangleLeftHalf;return symbols});_registerModule(_modules,"Gantt/Connection.js",[_modules["Core/Globals.js"],_modules["Core/DefaultOptions.js"],_modules["Core/Series/Point.js"],_modules["Core/Utilities.js"],],function(H,D,Point,U){"";var defaultOptions=D.defaultOptions;var addEvent=U.addEvent,defined=U.defined,error=U.error,extend=U.extend,merge=U.merge,objectEach=U.objectEach,pick=U.pick,splat=U.splat;var deg2rad=H.deg2rad,max=Math.max,min=Math.min;extend(defaultOptions,{connectors:{type:"straight",lineWidth:1,marker:{enabled:false,align:"center",verticalAlign:"middle",inside:false,lineWidth:1,},startMarker:{symbol:"diamond",},endMarker:{symbol:"arrow-filled",},},});function getPointBB(point){var shapeArgs=point.shapeArgs,bb;if(shapeArgs){return{xMin:shapeArgs.x||0,xMax:(shapeArgs.x||0)+(shapeArgs.width||0),yMin:shapeArgs.y||0,yMax:(shapeArgs.y||0)+(shapeArgs.height||0),}}bb=point.graphic&&point.graphic.getBBox();return bb?{xMin:point.plotX-bb.width/2,xMax:point.plotX+bb.width/2,yMin:point.plotY-bb.height/2,yMax:point.plotY+bb.height/2,}:null}function calculateObstacleMargin(obstacles){var len=obstacles.length,i=0,j,obstacleDistance,distances=[],distance=function(a,b,bbMargin){var margin=pick(bbMargin,10),yOverlap=a.yMax+margin>b.yMin-margin&&a.yMin-margin<b.yMax+margin,xOverlap=a.xMax+margin>b.xMin-margin&&a.xMin-margin<b.xMax+margin,xDistance=yOverlap?a.xMin>b.xMax?a.xMin-b.xMax:b.xMin-a.xMax:Infinity,yDistance=xOverlap?a.yMin>b.yMax?a.yMin-b.yMax:b.yMin-a.yMax:Infinity;if(xOverlap&&yOverlap){return margin?distance(a,b,Math.floor(margin/2)):Infinity}return min(xDistance,yDistance)};for(;i<len;++i){for(j=i+1;j<len;++j){obstacleDistance=distance(obstacles[i],obstacles[j]);if(obstacleDistance<80){distances.push(obstacleDistance)}}}distances.push(80);return max(Math.floor(distances.sort(function(a,b){return a-b})[Math.floor(distances.length/10)]/2-1),1)}var Connection=(function(){function Connection(from,to,options){this.chart=void 0;this.fromPoint=void 0;this.graphics=void 0;this.pathfinder=void 0;this.toPoint=void 0;this.init(from,to,options)}Connection.prototype.init=function(from,to,options){this.fromPoint=from;this.toPoint=to;this.options=options;this.chart=from.series.chart;this.pathfinder=this.chart.pathfinder};Connection.prototype.renderPath=function(path,attribs,animation){var connection=this,chart=this.chart,styledMode=chart.styledMode,pathfinder=chart.pathfinder,animate=!chart.options.chart.forExport&&animation!==false,pathGraphic=connection.graphics&&connection.graphics.path,anim;if(!pathfinder.group){pathfinder.group=chart.renderer.g().addClass("highcharts-pathfinder-group").attr({zIndex:-1}).add(chart.seriesGroup)}pathfinder.group.translate(chart.plotLeft,chart.plotTop);if(!(pathGraphic&&pathGraphic.renderer)){pathGraphic=chart.renderer.path().add(pathfinder.group);if(!styledMode){pathGraphic.attr({opacity:0,})}}pathGraphic.attr(attribs);anim={d:path};if(!styledMode){anim.opacity=1}pathGraphic[animate?"animate":"attr"](anim,animation);this.graphics=this.graphics||{};this.graphics.path=pathGraphic};Connection.prototype.addMarker=function(type,options,path){var connection=this,chart=connection.fromPoint.series.chart,pathfinder=chart.pathfinder,renderer=chart.renderer,point=type==="start"?connection.fromPoint:connection.toPoint,anchor=point.getPathfinderAnchorPoint(options),markerVector,radians,rotation,box,width,height,pathVector,segment;if(!options.enabled){return}if(type==="start"){segment=path[1]}else{segment=path[path.length-2]}if((segment&&segment[0]==="M")||segment[0]==="L"){pathVector={x:segment[1],y:segment[2],};radians=point.getRadiansToVector(pathVector,anchor);markerVector=point.getMarkerVector(radians,options.radius,anchor);rotation=-radians/deg2rad;if(options.width&&options.height){width=options.width;height=options.height}else{width=height=options.radius*2}connection.graphics=connection.graphics||{};box={x:markerVector.x-width/2,y:markerVector.y-height/2,width:width,height:height,rotation:rotation,rotationOriginX:markerVector.x,rotationOriginY:markerVector.y,};if(!connection.graphics[type]){connection.graphics[type]=renderer.symbol(options.symbol).addClass("highcharts-point-connecting-path-"+type+"-marker").attr(box).add(pathfinder.group);if(!renderer.styledMode){connection.graphics[type].attr({fill:options.color||connection.fromPoint.color,stroke:options.lineColor,"stroke-width":options.lineWidth,opacity:0,}).animate({opacity:1,},point.series.options.animation)}}else{connection.graphics[type].animate(box)}}};Connection.prototype.getPath=function(options){var pathfinder=this.pathfinder,chart=this.chart,algorithm=pathfinder.algorithms[options.type],chartObstacles=pathfinder.chartObstacles;if(typeof algorithm!=="function"){error('"'+options.type+'" is not a Pathfinder algorithm.');return{path:[],obstacles:[],}}if(algorithm.requiresObstacles&&!chartObstacles){chartObstacles=pathfinder.chartObstacles=pathfinder.getChartObstacles(options);chart.options.connectors.algorithmMargin=options.algorithmMargin;pathfinder.chartObstacleMetrics=pathfinder.getObstacleMetrics(chartObstacles)}return algorithm(this.fromPoint.getPathfinderAnchorPoint(options.startMarker),this.toPoint.getPathfinderAnchorPoint(options.endMarker),merge({chartObstacles:chartObstacles,lineObstacles:pathfinder.lineObstacles||[],obstacleMetrics:pathfinder.chartObstacleMetrics,hardBounds:{xMin:0,xMax:chart.plotWidth,yMin:0,yMax:chart.plotHeight,},obstacleOptions:{margin:options.algorithmMargin,},startDirectionX:pathfinder.getAlgorithmStartDirection(options.startMarker),},options))};Connection.prototype.render=function(){var connection=this,fromPoint=connection.fromPoint,series=fromPoint.series,chart=series.chart,pathfinder=chart.pathfinder,pathResult,path,options=merge(chart.options.connectors,series.options.connectors,fromPoint.options.connectors,connection.options),attribs={};if(!chart.styledMode){attribs.stroke=options.lineColor||fromPoint.color;attribs["stroke-width"]=options.lineWidth;if(options.dashStyle){attribs.dashstyle=options.dashStyle}}attribs["class"]="highcharts-point-connecting-path "+"highcharts-color-"+fromPoint.colorIndex;options=merge(attribs,options);if(!defined(options.marker.radius)){options.marker.radius=min(max(Math.ceil((options.algorithmMargin||8)/2)-1,1),5)}pathResult=connection.getPath(options);path=pathResult.path;if(pathResult.obstacles){pathfinder.lineObstacles=pathfinder.lineObstacles||[];pathfinder.lineObstacles=pathfinder.lineObstacles.concat(pathResult.obstacles)}connection.renderPath(path,attribs,series.options.animation);connection.addMarker("start",merge(options.marker,options.startMarker),path);connection.addMarker("end",merge(options.marker,options.endMarker),path)};Connection.prototype.destroy=function(){if(this.graphics){objectEach(this.graphics,function(val){val.destroy()});delete this.graphics}};return Connection})();H.Connection=Connection;extend(Point.prototype,{getPathfinderAnchorPoint:function(markerOptions){var bb=getPointBB(this),x,y;switch(markerOptions.align){case"right":x="xMax";break;case"left":x="xMin"}switch(markerOptions.verticalAlign){case"top":y="yMin";break;case"bottom":y="yMax"}return{x:x?bb[x]:(bb.xMin+bb.xMax)/2,y:y?bb[y]:(bb.yMin+bb.yMax)/2,}},getRadiansToVector:function(v1,v2){var box;if(!defined(v2)){box=getPointBB(this);if(box){v2={x:(box.xMin+box.xMax)/2,y:(box.yMin+box.yMax)/2,}}}return Math.atan2(v2.y-v1.y,v1.x-v2.x)},getMarkerVector:function(radians,markerRadius,anchor){var twoPI=Math.PI*2.0,theta=radians,bb=getPointBB(this),rectWidth=bb.xMax-bb.xMin,rectHeight=bb.yMax-bb.yMin,rAtan=Math.atan2(rectHeight,rectWidth),tanTheta=1,leftOrRightRegion=false,rectHalfWidth=rectWidth/2.0,rectHalfHeight=rectHeight/2.0,rectHorizontalCenter=bb.xMin+rectHalfWidth,rectVerticalCenter=bb.yMin+rectHalfHeight,edgePoint={x:rectHorizontalCenter,y:rectVerticalCenter,},xFactor=1,yFactor=1;while(theta<-Math.PI){theta+=twoPI}while(theta>Math.PI){theta-=twoPI}tanTheta=Math.tan(theta);if(theta>-rAtan&&theta<=rAtan){yFactor=-1;leftOrRightRegion=true}else if(theta>rAtan&&theta<=Math.PI-rAtan){yFactor=-1}else if(theta>Math.PI-rAtan||theta<=-(Math.PI-rAtan)){xFactor=-1;leftOrRightRegion=true}else{xFactor=-1}if(leftOrRightRegion){edgePoint.x+=xFactor*rectHalfWidth;edgePoint.y+=yFactor*rectHalfWidth*tanTheta}else{edgePoint.x+=xFactor*(rectHeight/(2.0*tanTheta));edgePoint.y+=yFactor*rectHalfHeight}if(anchor.x!==rectHorizontalCenter){edgePoint.x=anchor.x}if(anchor.y!==rectVerticalCenter){edgePoint.y=anchor.y}return{x:edgePoint.x+markerRadius*Math.cos(theta),y:edgePoint.y-markerRadius*Math.sin(theta),}},});function warnLegacy(chart){if(chart.options.pathfinder||chart.series.reduce(function(acc,series){if(series.options){merge(true,(series.options.connectors=series.options.connectors||{}),series.options.pathfinder)}return acc||(series.options&&series.options.pathfinder)},false)){merge(true,(chart.options.connectors=chart.options.connectors||{}),chart.options.pathfinder);error("WARNING: Pathfinder options have been renamed. "+'Use "chart.connectors" or "series.connectors" instead.')}}return Connection});_registerModule(_modules,"Gantt/PathfinderAlgorithms.js",[_modules["Core/Utilities.js"]],function(U){var extend=U.extend,pick=U.pick;var min=Math.min,max=Math.max,abs=Math.abs;function findLastObstacleBefore(obstacles,xMin,startIx){var left=startIx||0,right=obstacles.length-1,min=xMin-0.0000001,cursor,cmp;while(left<=right){cursor=(right+left)>>1;cmp=min-obstacles[cursor].xMin;if(cmp>0){left=cursor+1}else if(cmp<0){right=cursor-1}else{return cursor}}return left>0?left-1:0}function pointWithinObstacle(obstacle,point){return(point.x<=obstacle.xMax&&point.x>=obstacle.xMin&&point.y<=obstacle.yMax&&point.y>=obstacle.yMin)}function findObstacleFromPoint(obstacles,point){var i=findLastObstacleBefore(obstacles,point.x+1)+1;while(i--){if(obstacles[i].xMax>=point.x&&pointWithinObstacle(obstacles[i],point)){return i}}return-1}function pathFromSegments(segments){var path=[];if(segments.length){path.push(["M",segments[0].start.x,segments[0].start.y]);for(var i=0;i<segments.length;++i){path.push(["L",segments[i].end.x,segments[i].end.y])}}return path}function limitObstacleToBounds(obstacle,bounds){obstacle.yMin=max(obstacle.yMin,bounds.yMin);obstacle.yMax=min(obstacle.yMax,bounds.yMax);obstacle.xMin=max(obstacle.xMin,bounds.xMin);obstacle.xMax=min(obstacle.xMax,bounds.xMax)}function straight(start,end){return{path:[["M",start.x,start.y],["L",end.x,end.y],],obstacles:[{start:start,end:end}],}}var simpleConnect=function(start,end,options){var segments=[],endSegment,dir=pick(options.startDirectionX,abs(end.x-start.x)>abs(end.y-start.y))?"x":"y",chartObstacles=options.chartObstacles,startObstacleIx=findObstacleFromPoint(chartObstacles,start),endObstacleIx=findObstacleFromPoint(chartObstacles,end),startObstacle,endObstacle,prevWaypoint,waypoint,waypoint2,useMax,endPoint;function copyFromPoint(from,fromKey,to,toKey,offset){var point={x:from.x,y:from.y,};point[fromKey]=to[toKey||fromKey]+(offset||0);return point}function getMeOut(obstacle,point,direction){var useMax=abs(point[direction]-obstacle[direction+"Min"])>abs(point[direction]-obstacle[direction+"Max"]);return copyFromPoint(point,direction,obstacle,direction+(useMax?"Max":"Min"),useMax?1:-1)}if(endObstacleIx>-1){endObstacle=chartObstacles[endObstacleIx];waypoint=getMeOut(endObstacle,end,dir);endSegment={start:waypoint,end:end,};endPoint=waypoint}else{endPoint=end}if(startObstacleIx>-1){startObstacle=chartObstacles[startObstacleIx];waypoint=getMeOut(startObstacle,start,dir);segments.push({start:start,end:waypoint,});if(waypoint[dir]>=start[dir]===waypoint[dir]>=endPoint[dir]){dir=dir==="y"?"x":"y";useMax=start[dir]<end[dir];segments.push({start:waypoint,end:copyFromPoint(waypoint,dir,startObstacle,dir+(useMax?"Max":"Min"),useMax?1:-1),});dir=dir==="y"?"x":"y"}}prevWaypoint=segments.length?segments[segments.length-1].end:start;waypoint=copyFromPoint(prevWaypoint,dir,endPoint);segments.push({start:prevWaypoint,end:waypoint,});dir=dir==="y"?"x":"y";waypoint2=copyFromPoint(waypoint,dir,endPoint);segments.push({start:waypoint,end:waypoint2,});segments.push(endSegment);return{path:pathFromSegments(segments),obstacles:segments,}};simpleConnect.requiresObstacles=true;var fastAvoid=function(start,end,options){var dirIsX=pick(options.startDirectionX,abs(end.x-start.x)>abs(end.y-start.y)),dir=dirIsX?"x":"y",segments,useMax,extractedEndPoint,endSegments=[],forceObstacleBreak=false,metrics=options.obstacleMetrics,softMinX=min(start.x,end.x)-metrics.maxWidth-10,softMaxX=max(start.x,end.x)+metrics.maxWidth+10,softMinY=min(start.y,end.y)-metrics.maxHeight-10,softMaxY=max(start.y,end.y)+metrics.maxHeight+10,chartObstacles=options.chartObstacles,startObstacleIx=findLastObstacleBefore(chartObstacles,softMinX),endObstacleIx=findLastObstacleBefore(chartObstacles,softMaxX);function pivotPoint(fromPoint,toPoint,directionIsX){var firstPoint,lastPoint,highestPoint,lowestPoint,i,searchDirection=fromPoint.x<toPoint.x?1:-1;if(fromPoint.x<toPoint.x){firstPoint=fromPoint;lastPoint=toPoint}else{firstPoint=toPoint;lastPoint=fromPoint}if(fromPoint.y<toPoint.y){lowestPoint=fromPoint;highestPoint=toPoint}else{lowestPoint=toPoint;highestPoint=fromPoint}i=searchDirection<0?min(findLastObstacleBefore(chartObstacles,lastPoint.x),chartObstacles.length-1):0;while(chartObstacles[i]&&((searchDirection>0&&chartObstacles[i].xMin<=lastPoint.x)||(searchDirection<0&&chartObstacles[i].xMax>=firstPoint.x))){if(chartObstacles[i].xMin<=lastPoint.x&&chartObstacles[i].xMax>=firstPoint.x&&chartObstacles[i].yMin<=highestPoint.y&&chartObstacles[i].yMax>=lowestPoint.y){if(directionIsX){return{y:fromPoint.y,x:fromPoint.x<toPoint.x?chartObstacles[i].xMin-1:chartObstacles[i].xMax+1,obstacle:chartObstacles[i],}}return{x:fromPoint.x,y:fromPoint.y<toPoint.y?chartObstacles[i].yMin-1:chartObstacles[i].yMax+1,obstacle:chartObstacles[i],}}i+=searchDirection}return toPoint}function getDodgeDirection(obstacle,fromPoint,toPoint,dirIsX,bounds){var softBounds=bounds.soft,hardBounds=bounds.hard,dir=dirIsX?"x":"y",toPointMax={x:fromPoint.x,y:fromPoint.y},toPointMin={x:fromPoint.x,y:fromPoint.y},minPivot,maxPivot,maxOutOfSoftBounds=obstacle[dir+"Max"]>=softBounds[dir+"Max"],minOutOfSoftBounds=obstacle[dir+"Min"]<=softBounds[dir+"Min"],maxOutOfHardBounds=obstacle[dir+"Max"]>=hardBounds[dir+"Max"],minOutOfHardBounds=obstacle[dir+"Min"]<=hardBounds[dir+"Min"],minDistance=abs(obstacle[dir+"Min"]-fromPoint[dir]),maxDistance=abs(obstacle[dir+"Max"]-fromPoint[dir]),useMax=abs(minDistance-maxDistance)<10?fromPoint[dir]<toPoint[dir]:maxDistance<minDistance;toPointMin[dir]=obstacle[dir+"Min"];toPointMax[dir]=obstacle[dir+"Max"];minPivot=pivotPoint(fromPoint,toPointMin,dirIsX)[dir]!==toPointMin[dir];maxPivot=pivotPoint(fromPoint,toPointMax,dirIsX)[dir]!==toPointMax[dir];useMax=minPivot?maxPivot?useMax:true:maxPivot?false:useMax;useMax=minOutOfSoftBounds?maxOutOfSoftBounds?useMax:true:maxOutOfSoftBounds?false:useMax;useMax=minOutOfHardBounds?maxOutOfHardBounds?useMax:true:maxOutOfHardBounds?false:useMax;return useMax}function clearPathTo(fromPoint,toPoint,dirIsX){if(fromPoint.x===toPoint.x&&fromPoint.y===toPoint.y){return[]}var dir=dirIsX?"x":"y",pivot,segments,waypoint,waypointUseMax,envelopingObstacle,secondEnvelopingObstacle,envelopWaypoint,obstacleMargin=options.obstacleOptions.margin,bounds={soft:{xMin:softMinX,xMax:softMaxX,yMin:softMinY,yMax:softMaxY,},hard:options.hardBounds,};envelopingObstacle=findObstacleFromPoint(chartObstacles,fromPoint);if(envelopingObstacle>-1){envelopingObstacle=chartObstacles[envelopingObstacle];waypointUseMax=getDodgeDirection(envelopingObstacle,fromPoint,toPoint,dirIsX,bounds);limitObstacleToBounds(envelopingObstacle,options.hardBounds);envelopWaypoint=dirIsX?{y:fromPoint.y,x:envelopingObstacle[waypointUseMax?"xMax":"xMin"]+(waypointUseMax?1:-1),}:{x:fromPoint.x,y:envelopingObstacle[waypointUseMax?"yMax":"yMin"]+(waypointUseMax?1:-1),};secondEnvelopingObstacle=findObstacleFromPoint(chartObstacles,envelopWaypoint);if(secondEnvelopingObstacle>-1){secondEnvelopingObstacle=chartObstacles[secondEnvelopingObstacle];limitObstacleToBounds(secondEnvelopingObstacle,options.hardBounds);envelopWaypoint[dir]=waypointUseMax?max(envelopingObstacle[dir+"Max"]-obstacleMargin+1,(secondEnvelopingObstacle[dir+"Min"]+envelopingObstacle[dir+"Max"])/2):min(envelopingObstacle[dir+"Min"]+obstacleMargin-1,(secondEnvelopingObstacle[dir+"Max"]+envelopingObstacle[dir+"Min"])/2);if(fromPoint.x===envelopWaypoint.x&&fromPoint.y===envelopWaypoint.y){if(forceObstacleBreak){envelopWaypoint[dir]=waypointUseMax?max(envelopingObstacle[dir+"Max"],secondEnvelopingObstacle[dir+"Max"])+1:min(envelopingObstacle[dir+"Min"],secondEnvelopingObstacle[dir+"Min"])-1}forceObstacleBreak=!forceObstacleBreak}else{forceObstacleBreak=false}}segments=[{start:fromPoint,end:envelopWaypoint,},]}else{pivot=pivotPoint(fromPoint,{x:dirIsX?toPoint.x:fromPoint.x,y:dirIsX?fromPoint.y:toPoint.y,},dirIsX);segments=[{start:fromPoint,end:{x:pivot.x,y:pivot.y,},},];if(pivot[dirIsX?"x":"y"]!==toPoint[dirIsX?"x":"y"]){waypointUseMax=getDodgeDirection(pivot.obstacle,pivot,toPoint,!dirIsX,bounds);limitObstacleToBounds(pivot.obstacle,options.hardBounds);waypoint={x:dirIsX?pivot.x:pivot.obstacle[waypointUseMax?"xMax":"xMin"]+(waypointUseMax?1:-1),y:dirIsX?pivot.obstacle[waypointUseMax?"yMax":"yMin"]+(waypointUseMax?1:-1):pivot.y,};dirIsX=!dirIsX;segments=segments.concat(clearPathTo({x:pivot.x,y:pivot.y,},waypoint,dirIsX))}}segments=segments.concat(clearPathTo(segments[segments.length-1].end,toPoint,!dirIsX));return segments}function extractFromObstacle(obstacle,point,goalPoint){var dirIsX=min(obstacle.xMax-point.x,point.x-obstacle.xMin)<min(obstacle.yMax-point.y,point.y-obstacle.yMin),bounds={soft:options.hardBounds,hard:options.hardBounds,},useMax=getDodgeDirection(obstacle,point,goalPoint,dirIsX,bounds);return dirIsX?{y:point.y,x:obstacle[useMax?"xMax":"xMin"]+(useMax?1:-1),}:{x:point.x,y:obstacle[useMax?"yMax":"yMin"]+(useMax?1:-1),}}chartObstacles=chartObstacles.slice(startObstacleIx,endObstacleIx+1);if((endObstacleIx=findObstacleFromPoint(chartObstacles,end))>-1){extractedEndPoint=extractFromObstacle(chartObstacles[endObstacleIx],end,start);endSegments.push({end:end,start:extractedEndPoint,});end=extractedEndPoint}while((endObstacleIx=findObstacleFromPoint(chartObstacles,end))>-1){useMax=end[dir]-start[dir]<0;extractedEndPoint={x:end.x,y:end.y,};extractedEndPoint[dir]=chartObstacles[endObstacleIx][useMax?dir+"Max":dir+"Min"]+(useMax?1:-1);endSegments.push({end:end,start:extractedEndPoint,});end=extractedEndPoint}segments=clearPathTo(start,end,dirIsX);segments=segments.concat(endSegments.reverse());return{path:pathFromSegments(segments),obstacles:segments,}};fastAvoid.requiresObstacles=true;var algorithms={fastAvoid:fastAvoid,straight:straight,simpleConnect:simpleConnect,};return algorithms});_registerModule(_modules,"Gantt/Pathfinder.js",[_modules["Gantt/Connection.js"],_modules["Core/Chart/Chart.js"],_modules["Core/Globals.js"],_modules["Core/DefaultOptions.js"],_modules["Core/Series/Point.js"],_modules["Core/Utilities.js"],_modules["Gantt/PathfinderAlgorithms.js"],],function(Connection,Chart,H,D,Point,U,pathfinderAlgorithms){"";var defaultOptions=D.defaultOptions;var addEvent=U.addEvent,defined=U.defined,error=U.error,extend=U.extend,merge=U.merge,objectEach=U.objectEach,pick=U.pick,splat=U.splat;var deg2rad=H.deg2rad,max=Math.max,min=Math.min;extend(defaultOptions,{connectors:{type:"straight",lineWidth:1,marker:{enabled:false,align:"center",verticalAlign:"middle",inside:false,lineWidth:1,},startMarker:{symbol:"diamond",},endMarker:{symbol:"arrow-filled",},},});function getPointBB(point){var shapeArgs=point.shapeArgs,bb;if(shapeArgs){return{xMin:shapeArgs.x||0,xMax:(shapeArgs.x||0)+(shapeArgs.width||0),yMin:shapeArgs.y||0,yMax:(shapeArgs.y||0)+(shapeArgs.height||0),}}bb=point.graphic&&point.graphic.getBBox();return bb?{xMin:point.plotX-bb.width/2,xMax:point.plotX+bb.width/2,yMin:point.plotY-bb.height/2,yMax:point.plotY+bb.height/2,}:null}function calculateObstacleMargin(obstacles){var len=obstacles.length,i=0,j,obstacleDistance,distances=[],distance=function(a,b,bbMargin){var margin=pick(bbMargin,10),yOverlap=a.yMax+margin>b.yMin-margin&&a.yMin-margin<b.yMax+margin,xOverlap=a.xMax+margin>b.xMin-margin&&a.xMin-margin<b.xMax+margin,xDistance=yOverlap?a.xMin>b.xMax?a.xMin-b.xMax:b.xMin-a.xMax:Infinity,yDistance=xOverlap?a.yMin>b.yMax?a.yMin-b.yMax:b.yMin-a.yMax:Infinity;if(xOverlap&&yOverlap){return margin?distance(a,b,Math.floor(margin/2)):Infinity}return min(xDistance,yDistance)};for(;i<len;++i){for(j=i+1;j<len;++j){obstacleDistance=distance(obstacles[i],obstacles[j]);if(obstacleDistance<80){distances.push(obstacleDistance)}}}distances.push(80);return max(Math.floor(distances.sort(function(a,b){return a-b})[Math.floor(distances.length/10)]/2-1),1)}var Pathfinder=(function(){function Pathfinder(chart){this.chart=void 0;this.chartObstacles=void 0;this.chartObstacleMetrics=void 0;this.connections=void 0;this.group=void 0;this.lineObstacles=void 0;this.init(chart)}Pathfinder.prototype.init=function(chart){this.chart=chart;this.connections=[];addEvent(chart,"redraw",function(){this.pathfinder.update()})};Pathfinder.prototype.update=function(deferRender){var chart=this.chart,pathfinder=this,oldConnections=pathfinder.connections;pathfinder.connections=[];chart.series.forEach(function(series){if(series.visible&&!series.options.isInternal){series.points.forEach(function(point){var ganttPointOptions=point.options;if(ganttPointOptions&&ganttPointOptions.dependency){ganttPointOptions.connect=ganttPointOptions.dependency}var to,connects=point.options&&point.options.connect&&splat(point.options.connect);if(point.visible&&point.isInside!==false&&connects){connects.forEach(function(connect){to=chart.get(typeof connect==="string"?connect:connect.to);if(to instanceof Point&&to.series.visible&&to.visible&&to.isInside!==false){pathfinder.connections.push(new Connection(point,to,typeof connect==="string"?{}:connect))}})}})}});for(var j=0,k=void 0,found=void 0,lenOld=oldConnections.length,lenNew=pathfinder.connections.length;j<lenOld;++j){found=false;for(k=0;k<lenNew;++k){if(oldConnections[j].fromPoint===pathfinder.connections[k].fromPoint&&oldConnections[j].toPoint===pathfinder.connections[k].toPoint){pathfinder.connections[k].graphics=oldConnections[j].graphics;found=true;break}}if(!found){oldConnections[j].destroy()}}delete this.chartObstacles;delete this.lineObstacles;pathfinder.renderConnections(deferRender)};Pathfinder.prototype.renderConnections=function(deferRender){if(deferRender){this.chart.series.forEach(function(series){var render=function(){var pathfinder=series.chart.pathfinder,conns=(pathfinder&&pathfinder.connections)||[];conns.forEach(function(connection){if(connection.fromPoint&&connection.fromPoint.series===series){connection.render()}});if(series.pathfinderRemoveRenderEvent){series.pathfinderRemoveRenderEvent();delete series.pathfinderRemoveRenderEvent}};if(series.options.animation===false){render()}else{series.pathfinderRemoveRenderEvent=addEvent(series,"afterAnimate",render)}})}else{this.connections.forEach(function(connection){connection.render()})}};Pathfinder.prototype.getChartObstacles=function(options){var obstacles=[],series=this.chart.series,margin=pick(options.algorithmMargin,0),calculatedMargin;for(var i=0,sLen=series.length;i<sLen;++i){if(series[i].visible&&!series[i].options.isInternal){for(var j=0,pLen=series[i].points.length,bb=void 0,point=void 0;j<pLen;++j){point=series[i].points[j];if(point.visible){bb=getPointBB(point);if(bb){obstacles.push({xMin:bb.xMin-margin,xMax:bb.xMax+margin,yMin:bb.yMin-margin,yMax:bb.yMax+margin,})}}}}}obstacles=obstacles.sort(function(a,b){return a.xMin-b.xMin});if(!defined(options.algorithmMargin)){calculatedMargin=options.algorithmMargin=calculateObstacleMargin(obstacles);obstacles.forEach(function(obstacle){obstacle.xMin-=calculatedMargin;obstacle.xMax+=calculatedMargin;obstacle.yMin-=calculatedMargin;obstacle.yMax+=calculatedMargin})}return obstacles};Pathfinder.prototype.getObstacleMetrics=function(obstacles){var maxWidth=0,maxHeight=0,width,height,i=obstacles.length;while(i--){width=obstacles[i].xMax-obstacles[i].xMin;height=obstacles[i].yMax-obstacles[i].yMin;if(maxWidth<width){maxWidth=width}if(maxHeight<height){maxHeight=height}}return{maxHeight:maxHeight,maxWidth:maxWidth,}};Pathfinder.prototype.getAlgorithmStartDirection=function(markerOptions){var xCenter=markerOptions.align!=="left"&&markerOptions.align!=="right",yCenter=markerOptions.verticalAlign!=="top"&&markerOptions.verticalAlign!=="bottom",undef;return xCenter?yCenter?undef:false:yCenter?true:undef};return Pathfinder})();Pathfinder.prototype.algorithms=pathfinderAlgorithms;H.Pathfinder=Pathfinder;extend(Point.prototype,{getPathfinderAnchorPoint:function(markerOptions){var bb=getPointBB(this),x,y;switch(markerOptions.align){case"right":x="xMax";break;case"left":x="xMin"}switch(markerOptions.verticalAlign){case"top":y="yMin";break;case"bottom":y="yMax"}return{x:x?bb[x]:(bb.xMin+bb.xMax)/2,y:y?bb[y]:(bb.yMin+bb.yMax)/2,}},getRadiansToVector:function(v1,v2){var box;if(!defined(v2)){box=getPointBB(this);if(box){v2={x:(box.xMin+box.xMax)/2,y:(box.yMin+box.yMax)/2,}}}return Math.atan2(v2.y-v1.y,v1.x-v2.x)},getMarkerVector:function(radians,markerRadius,anchor){var twoPI=Math.PI*2.0,theta=radians,bb=getPointBB(this),rectWidth=bb.xMax-bb.xMin,rectHeight=bb.yMax-bb.yMin,rAtan=Math.atan2(rectHeight,rectWidth),tanTheta=1,leftOrRightRegion=false,rectHalfWidth=rectWidth/2.0,rectHalfHeight=rectHeight/2.0,rectHorizontalCenter=bb.xMin+rectHalfWidth,rectVerticalCenter=bb.yMin+rectHalfHeight,edgePoint={x:rectHorizontalCenter,y:rectVerticalCenter,},xFactor=1,yFactor=1;while(theta<-Math.PI){theta+=twoPI}while(theta>Math.PI){theta-=twoPI}tanTheta=Math.tan(theta);if(theta>-rAtan&&theta<=rAtan){yFactor=-1;leftOrRightRegion=true}else if(theta>rAtan&&theta<=Math.PI-rAtan){yFactor=-1}else if(theta>Math.PI-rAtan||theta<=-(Math.PI-rAtan)){xFactor=-1;leftOrRightRegion=true}else{xFactor=-1}if(leftOrRightRegion){edgePoint.x+=xFactor*rectHalfWidth;edgePoint.y+=yFactor*rectHalfWidth*tanTheta}else{edgePoint.x+=xFactor*(rectHeight/(2.0*tanTheta));edgePoint.y+=yFactor*rectHalfHeight}if(anchor.x!==rectHorizontalCenter){edgePoint.x=anchor.x}if(anchor.y!==rectVerticalCenter){edgePoint.y=anchor.y}return{x:edgePoint.x+markerRadius*Math.cos(theta),y:edgePoint.y-markerRadius*Math.sin(theta),}},});function warnLegacy(chart){if(chart.options.pathfinder||chart.series.reduce(function(acc,series){if(series.options){merge(true,(series.options.connectors=series.options.connectors||{}),series.options.pathfinder)}return acc||(series.options&&series.options.pathfinder)},false)){merge(true,(chart.options.connectors=chart.options.connectors||{}),chart.options.pathfinder);error("WARNING: Pathfinder options have been renamed. "+'Use "chart.connectors" or "series.connectors" instead.')}}Chart.prototype.callbacks.push(function(chart){var options=chart.options;if(options.connectors.enabled!==false){warnLegacy(chart);this.pathfinder=new Pathfinder(this);this.pathfinder.update(true)}});return Pathfinder});_registerModule(_modules,"Series/Gantt/GanttSeries.js",[_modules["Core/Axis/Axis.js"],_modules["Core/Chart/Chart.js"],_modules["Series/Gantt/GanttPoint.js"],_modules["Core/Series/SeriesRegistry.js"],_modules["Core/Axis/Tick.js"],_modules["Core/Utilities.js"],_modules["Core/Axis/TreeGridAxis.js"],],function(Axis,Chart,GanttPoint,SeriesRegistry,Tick,U,TreeGridAxis){var __extends=(this&&this.__extends)||(function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b})||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):((__.prototype=b.prototype),new __())}})();var Series=SeriesRegistry.series,XRangeSeries=SeriesRegistry.seriesTypes.xrange;var extend=U.extend,isNumber=U.isNumber,merge=U.merge,splat=U.splat;TreeGridAxis.compose(Axis,Chart,Series,Tick);var GanttSeries=(function(_super){__extends(GanttSeries,_super);function GanttSeries(){var _this=(_super!==null&&_super.apply(this,arguments))||this;_this.data=void 0;_this.options=void 0;_this.points=void 0;return _this}GanttSeries.prototype.drawPoint=function(point,verb){var series=this,seriesOpts=series.options,renderer=series.chart.renderer,shapeArgs=point.shapeArgs,plotY=point.plotY,graphic=point.graphic,state=point.selected&&"select",cutOff=seriesOpts.stacking&&!seriesOpts.borderRadius,diamondShape;if(point.options.milestone){if(isNumber(plotY)&&point.y!==null&&point.visible!==false){diamondShape=renderer.symbols.diamond(shapeArgs.x||0,shapeArgs.y||0,shapeArgs.width||0,shapeArgs.height||0);if(graphic){graphic[verb]({d:diamondShape,})}else{point.graphic=graphic=renderer.path(diamondShape).addClass(point.getClassName(),true).add(point.group||series.group)}if(!series.chart.styledMode){point.graphic.attr(series.pointAttribs(point,state)).shadow(seriesOpts.shadow,null,cutOff)}}else if(graphic){point.graphic=graphic.destroy()}}else{XRangeSeries.prototype.drawPoint.call(series,point,verb)}};GanttSeries.prototype.translatePoint=function(point){var series=this,shapeArgs,size;XRangeSeries.prototype.translatePoint.call(series,point);if(point.options.milestone){shapeArgs=point.shapeArgs;size=shapeArgs.height||0;point.shapeArgs={x:(shapeArgs.x||0)-size/2,y:shapeArgs.y,width:size,height:size,}}};GanttSeries.defaultOptions=merge(XRangeSeries.defaultOptions,{grouping:false,dataLabels:{enabled:true,},tooltip:{headerFormat:'<span style="font-size: 10px">{series.name}</span><br/>',pointFormat:null,pointFormatter:function(){var point=this,series=point.series,xAxis=series.xAxis,formats=series.tooltipOptions.dateTimeLabelFormats,startOfWeek=xAxis.options.startOfWeek,ttOptions=series.tooltipOptions,format=ttOptions.xDateFormat,start,end,milestone=point.options.milestone,retVal="<b>"+(point.name||point.yCategory)+"</b>";if(ttOptions.pointFormat){return point.tooltipFormatter(ttOptions.pointFormat)}if(!format&&isNumber(point.start)){format=series.chart.time.getDateFormat(xAxis.closestPointRange,point.start,startOfWeek,formats||{})}start=series.chart.time.dateFormat(format,point.start);end=series.chart.time.dateFormat(format,point.end);retVal+="<br/>";if(!milestone){retVal+="Start: "+start+"<br/>";retVal+="End: "+end+"<br/>"}else{retVal+=start+"<br/>"}return retVal},},connectors:{type:"simpleConnect",animation:{reversed:true,},startMarker:{enabled:true,symbol:"arrow-filled",radius:4,fill:"#fa0",align:"left",},endMarker:{enabled:false,align:"right",},},});return GanttSeries})(XRangeSeries);extend(GanttSeries.prototype,{pointArrayMap:["start","end","y"],pointClass:GanttPoint,setData:Series.prototype.setData,});SeriesRegistry.registerSeriesType("gantt",GanttSeries);("");return GanttSeries});_registerModule(_modules,"Core/Chart/GanttChart.js",[_modules["Core/Chart/Chart.js"],_modules["Core/DefaultOptions.js"],_modules["Core/Utilities.js"],],function(Chart,D,U){var __extends=(this&&this.__extends)||(function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b})||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):((__.prototype=b.prototype),new __())}})();var getOptions=D.getOptions;var isArray=U.isArray,merge=U.merge,splat=U.splat;var GanttChart=(function(_super){__extends(GanttChart,_super);function GanttChart(){return(_super!==null&&_super.apply(this,arguments))||this}GanttChart.prototype.init=function(userOptions,callback){var defaultOptions=getOptions(),xAxisOptions=userOptions.xAxis,yAxisOptions=userOptions.yAxis;var defaultLinkedTo;userOptions.xAxis=userOptions.yAxis=void 0;var options=merge(true,{chart:{type:"gantt",},title:{text:null,},legend:{enabled:false,},navigator:{series:{type:"gantt"},yAxis:{type:"category",},},},userOptions,{isGantt:true,});userOptions.xAxis=xAxisOptions;userOptions.yAxis=yAxisOptions;options.xAxis=(!isArray(userOptions.xAxis)?[userOptions.xAxis||{},{}]:userOptions.xAxis).map(function(xAxisOptions,i){if(i===1){defaultLinkedTo=0}return merge(defaultOptions.xAxis,{grid:{enabled:true,},opposite:true,linkedTo:defaultLinkedTo,},xAxisOptions,{type:"datetime",})});options.yAxis=splat(userOptions.yAxis||{}).map(function(yAxisOptions){return merge(defaultOptions.yAxis,{grid:{enabled:true,},staticScale:50,reversed:true,type:yAxisOptions.categories?yAxisOptions.type:"treegrid",},yAxisOptions)});_super.prototype.init.call(this,options,callback)};return GanttChart})(Chart);(function(GanttChart){function ganttChart(a,b,c){return new GanttChart(a,b,c)}GanttChart.ganttChart=ganttChart})(GanttChart||(GanttChart={}));return GanttChart});_registerModule(_modules,"Core/Axis/ScrollbarAxis.js",[_modules["Core/Utilities.js"]],function(U){var addEvent=U.addEvent,defined=U.defined,pick=U.pick;var ScrollbarAxis=(function(){function ScrollbarAxis(){}ScrollbarAxis.compose=function(AxisClass,ScrollbarClass){if(ScrollbarAxis.composed.indexOf(AxisClass)===-1){ScrollbarAxis.composed.push(AxisClass)}else{return AxisClass}var getExtremes=function(axis){var axisMin=pick(axis.options&&axis.options.min,axis.min);var axisMax=pick(axis.options&&axis.options.max,axis.max);return{axisMin:axisMin,axisMax:axisMax,scrollMin:defined(axis.dataMin)?Math.min(axisMin,axis.min,axis.dataMin,pick(axis.threshold,Infinity)):axisMin,scrollMax:defined(axis.dataMax)?Math.max(axisMax,axis.max,axis.dataMax,pick(axis.threshold,-Infinity)):axisMax,}};addEvent(AxisClass,"afterInit",function(){var axis=this;if(axis.options&&axis.options.scrollbar&&axis.options.scrollbar.enabled){axis.options.scrollbar.vertical=!axis.horiz;axis.options.startOnTick=axis.options.endOnTick=false;axis.scrollbar=new ScrollbarClass(axis.chart.renderer,axis.options.scrollbar,axis.chart);addEvent(axis.scrollbar,"changed",function(e){var _a=getExtremes(axis),axisMin=_a.axisMin,axisMax=_a.axisMax,unitedMin=_a.scrollMin,unitedMax=_a.scrollMax,range=unitedMax-unitedMin,to,from;if(!defined(axisMin)||!defined(axisMax)){return}if((axis.horiz&&!axis.reversed)||(!axis.horiz&&axis.reversed)){to=unitedMin+range*this.to;from=unitedMin+range*this.from}else{to=unitedMin+range*(1-this.from);from=unitedMin+range*(1-this.to)}if(this.shouldUpdateExtremes(e.DOMType)){axis.setExtremes(from,to,true,e.DOMType!=="mousemove"&&e.DOMType!=="touchmove",e)}else{this.setRange(this.from,this.to)}})}});addEvent(AxisClass,"afterRender",function(){var axis=this,_a=getExtremes(axis),scrollMin=_a.scrollMin,scrollMax=_a.scrollMax,scrollbar=axis.scrollbar,offset=axis.axisTitleMargin+(axis.titleOffset||0),scrollbarsOffsets=axis.chart.scrollbarsOffsets,axisMargin=axis.options.margin||0,offsetsIndex,from,to;if(scrollbar){if(axis.horiz){if(!axis.opposite){scrollbarsOffsets[1]+=offset}scrollbar.position(axis.left,axis.top+axis.height+2+scrollbarsOffsets[1]-(axis.opposite?axisMargin:0),axis.width,axis.height);if(!axis.opposite){scrollbarsOffsets[1]+=axisMargin}offsetsIndex=1}else{if(axis.opposite){scrollbarsOffsets[0]+=offset}var xPosition=void 0;if(!scrollbar.options.opposite){xPosition=axis.opposite?0:axisMargin}else{xPosition=axis.left+axis.width+2+scrollbarsOffsets[0]-(axis.opposite?0:axisMargin)}scrollbar.position(xPosition,axis.top,axis.width,axis.height);if(axis.opposite){scrollbarsOffsets[0]+=axisMargin}offsetsIndex=0}scrollbarsOffsets[offsetsIndex]+=scrollbar.size+scrollbar.options.margin;if(isNaN(scrollMin)||isNaN(scrollMax)||!defined(axis.min)||!defined(axis.max)||axis.min===axis.max){scrollbar.setRange(0,1)}else{from=(axis.min-scrollMin)/(scrollMax-scrollMin);to=(axis.max-scrollMin)/(scrollMax-scrollMin);if((axis.horiz&&!axis.reversed)||(!axis.horiz&&axis.reversed)){scrollbar.setRange(from,to)}else{scrollbar.setRange(1-to,1-from)}}}});addEvent(AxisClass,"afterGetOffset",function(){var axis=this,opposite=axis.scrollbar&&!axis.scrollbar.options.opposite,index=axis.horiz?2:opposite?3:1,scrollbar=axis.scrollbar;if(scrollbar){axis.chart.scrollbarsOffsets=[0,0];axis.chart.axisOffset[index]+=scrollbar.size+scrollbar.options.margin}});return AxisClass};ScrollbarAxis.composed=[];return ScrollbarAxis})();return ScrollbarAxis});_registerModule(_modules,"Core/ScrollbarDefaults.js",[_modules["Core/Globals.js"]],function(H){var isTouchDevice=H.isTouchDevice;var ScrollbarDefaults={height:isTouchDevice?20:14,barBorderRadius:0,buttonBorderRadius:0,liveRedraw:void 0,margin:10,minWidth:6,opposite:true,step:0.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:1,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"#333333",trackBackgroundColor:"#f2f2f2",trackBorderColor:"#f2f2f2",trackBorderWidth:1,};return ScrollbarDefaults});_registerModule(_modules,"Core/Scrollbar.js",[_modules["Core/DefaultOptions.js"],_modules["Core/Globals.js"],_modules["Core/Axis/ScrollbarAxis.js"],_modules["Core/ScrollbarDefaults.js"],_modules["Core/Utilities.js"],],function(D,H,ScrollbarAxis,ScrollbarDefaults,U){var defaultOptions=D.defaultOptions;var addEvent=U.addEvent,correctFloat=U.correctFloat,defined=U.defined,destroyObjectProperties=U.destroyObjectProperties,fireEvent=U.fireEvent,merge=U.merge,pick=U.pick,removeEvent=U.removeEvent;var Scrollbar=(function(){function Scrollbar(renderer,options,chart){this._events=[];this.chart=void 0;this.chartX=0;this.chartY=0;this.from=0;this.group=void 0;this.options=void 0;this.renderer=void 0;this.scrollbar=void 0;this.scrollbarButtons=[];this.scrollbarGroup=void 0;this.scrollbarLeft=0;this.scrollbarRifles=void 0;this.scrollbarStrokeWidth=1;this.scrollbarTop=0;this.size=0;this.to=0;this.track=void 0;this.trackBorderWidth=1;this.userOptions=void 0;this.x=0;this.y=0;this.init(renderer,options,chart)}Scrollbar.compose=function(AxisClass){ScrollbarAxis.compose(AxisClass,Scrollbar)};Scrollbar.swapXY=function(path,vertical){if(vertical){path.forEach(function(seg){var len=seg.length;var temp;for(var i=0;i<len;i+=2){temp=seg[i+1];if(typeof temp==="number"){seg[i+1]=seg[i+2];seg[i+2]=temp}}})}return path};Scrollbar.prototype.addEvents=function(){var buttonsOrder=this.options.inverted?[1,0]:[0,1],buttons=this.scrollbarButtons,bar=this.scrollbarGroup.element,track=this.track.element,mouseDownHandler=this.mouseDownHandler.bind(this),mouseMoveHandler=this.mouseMoveHandler.bind(this),mouseUpHandler=this.mouseUpHandler.bind(this);var _events=[[buttons[buttonsOrder[0]].element,"click",this.buttonToMinClick.bind(this),],[buttons[buttonsOrder[1]].element,"click",this.buttonToMaxClick.bind(this),],[track,"click",this.trackClick.bind(this)],[bar,"mousedown",mouseDownHandler],[bar.ownerDocument,"mousemove",mouseMoveHandler],[bar.ownerDocument,"mouseup",mouseUpHandler],];if(H.hasTouch){_events.push([bar,"touchstart",mouseDownHandler],[bar.ownerDocument,"touchmove",mouseMoveHandler],[bar.ownerDocument,"touchend",mouseUpHandler])}_events.forEach(function(args){addEvent.apply(null,args)});this._events=_events};Scrollbar.prototype.buttonToMaxClick=function(e){var scroller=this;var range=(scroller.to-scroller.from)*pick(scroller.options.step,0.2);scroller.updatePosition(scroller.from+range,scroller.to+range);fireEvent(scroller,"changed",{from:scroller.from,to:scroller.to,trigger:"scrollbar",DOMEvent:e,})};Scrollbar.prototype.buttonToMinClick=function(e){var scroller=this;var range=correctFloat(scroller.to-scroller.from)*pick(scroller.options.step,0.2);scroller.updatePosition(correctFloat(scroller.from-range),correctFloat(scroller.to-range));fireEvent(scroller,"changed",{from:scroller.from,to:scroller.to,trigger:"scrollbar",DOMEvent:e,})};Scrollbar.prototype.cursorToScrollbarPosition=function(normalizedEvent){var scroller=this,options=scroller.options,minWidthDifference=options.minWidth>scroller.calculatedWidth?options.minWidth:0;return{chartX:(normalizedEvent.chartX-scroller.x-scroller.xOffset)/(scroller.barWidth-minWidthDifference),chartY:(normalizedEvent.chartY-scroller.y-scroller.yOffset)/(scroller.barWidth-minWidthDifference),}};Scrollbar.prototype.destroy=function(){var scroller=this,navigator=scroller.chart.scroller;scroller.removeEvents();["track","scrollbarRifles","scrollbar","scrollbarGroup","group",].forEach(function(prop){if(scroller[prop]&&scroller[prop].destroy){scroller[prop]=scroller[prop].destroy()}});if(navigator&&scroller===navigator.scrollbar){navigator.scrollbar=null;destroyObjectProperties(navigator.scrollbarButtons)}};Scrollbar.prototype.drawScrollbarButton=function(index){var scroller=this,renderer=scroller.renderer,scrollbarButtons=scroller.scrollbarButtons,options=scroller.options,size=scroller.size,group=renderer.g().add(scroller.group);var tempElem;scrollbarButtons.push(group);tempElem=renderer.rect().addClass("highcharts-scrollbar-button").add(group);if(!scroller.chart.styledMode){tempElem.attr({stroke:options.buttonBorderColor,"stroke-width":options.buttonBorderWidth,fill:options.buttonBackgroundColor,})}tempElem.attr(tempElem.crisp({x:-0.5,y:-0.5,width:size+1,height:size+1,r:options.buttonBorderRadius,},tempElem.strokeWidth()));tempElem=renderer.path(Scrollbar.swapXY([["M",size/2+(index?-1:1),size/2-3],["L",size/2+(index?-1:1),size/2+3],["L",size/2+(index?2:-2),size/2],],options.vertical)).addClass("highcharts-scrollbar-arrow").add(scrollbarButtons[index]);if(!scroller.chart.styledMode){tempElem.attr({fill:options.buttonArrowColor,})}};Scrollbar.prototype.init=function(renderer,options,chart){var scroller=this;scroller.scrollbarButtons=[];scroller.renderer=renderer;scroller.userOptions=options;scroller.options=merge(ScrollbarDefaults,defaultOptions.scrollbar,options);scroller.chart=chart;scroller.size=pick(scroller.options.size,scroller.options.height);if(options.enabled){scroller.render();scroller.addEvents()}};Scrollbar.prototype.mouseDownHandler=function(e){var scroller=this,normalizedEvent=scroller.chart.pointer.normalize(e),mousePosition=scroller.cursorToScrollbarPosition(normalizedEvent);scroller.chartX=mousePosition.chartX;scroller.chartY=mousePosition.chartY;scroller.initPositions=[scroller.from,scroller.to];scroller.grabbedCenter=true};Scrollbar.prototype.mouseMoveHandler=function(e){var scroller=this,normalizedEvent=scroller.chart.pointer.normalize(e),options=scroller.options,direction=options.vertical?"chartY":"chartX",initPositions=scroller.initPositions||[];var scrollPosition,chartPosition,change;if(scroller.grabbedCenter&&(!e.touches||e.touches[0][direction]!==0)){chartPosition=scroller.cursorToScrollbarPosition(normalizedEvent)[direction];scrollPosition=scroller[direction];change=chartPosition-scrollPosition;scroller.hasDragged=true;scroller.updatePosition(initPositions[0]+change,initPositions[1]+change);if(scroller.hasDragged){fireEvent(scroller,"changed",{from:scroller.from,to:scroller.to,trigger:"scrollbar",DOMType:e.type,DOMEvent:e,})}}};Scrollbar.prototype.mouseUpHandler=function(e){var scroller=this;if(scroller.hasDragged){fireEvent(scroller,"changed",{from:scroller.from,to:scroller.to,trigger:"scrollbar",DOMType:e.type,DOMEvent:e,})}scroller.grabbedCenter=scroller.hasDragged=scroller.chartX=scroller.chartY=null};Scrollbar.prototype.position=function(x,y,width,height){var scroller=this,options=scroller.options,vertical=options.vertical,method=scroller.rendered?"animate":"attr";var xOffset=height,yOffset=0;scroller.x=x;scroller.y=y+this.trackBorderWidth;scroller.width=width;scroller.height=height;scroller.xOffset=xOffset;scroller.yOffset=yOffset;if(vertical){scroller.width=scroller.yOffset=width=yOffset=scroller.size;scroller.xOffset=xOffset=0;scroller.barWidth=height-width*2;scroller.x=x=x+scroller.options.margin}else{scroller.height=scroller.xOffset=height=xOffset=scroller.size;scroller.barWidth=width-height*2;scroller.y=scroller.y+scroller.options.margin}scroller.group[method]({translateX:x,translateY:scroller.y,});scroller.track[method]({width:width,height:height,});scroller.scrollbarButtons[1][method]({translateX:vertical?0:width-xOffset,translateY:vertical?height-yOffset:0,})};Scrollbar.prototype.removeEvents=function(){this._events.forEach(function(args){removeEvent.apply(null,args)});this._events.length=0};Scrollbar.prototype.render=function(){var scroller=this,renderer=scroller.renderer,options=scroller.options,size=scroller.size,styledMode=scroller.chart.styledMode,group=renderer.g("scrollbar").attr({zIndex:options.zIndex,translateY:-99999,}).add();scroller.group=group;scroller.track=renderer.rect().addClass("highcharts-scrollbar-track").attr({x:0,r:options.trackBorderRadius||0,height:size,width:size,}).add(group);if(!styledMode){scroller.track.attr({fill:options.trackBackgroundColor,stroke:options.trackBorderColor,"stroke-width":options.trackBorderWidth,})}scroller.trackBorderWidth=scroller.track.strokeWidth();scroller.track.attr({y:(-this.trackBorderWidth%2)/2,});scroller.scrollbarGroup=renderer.g().add(group);scroller.scrollbar=renderer.rect().addClass("highcharts-scrollbar-thumb").attr({height:size,width:size,r:options.barBorderRadius||0,}).add(scroller.scrollbarGroup);scroller.scrollbarRifles=renderer.path(Scrollbar.swapXY([["M",-3,size/4],["L",-3,(2*size)/3],["M",0,size/4],["L",0,(2*size)/3],["M",3,size/4],["L",3,(2*size)/3],],options.vertical)).addClass("highcharts-scrollbar-rifles").add(scroller.scrollbarGroup);if(!styledMode){scroller.scrollbar.attr({fill:options.barBackgroundColor,stroke:options.barBorderColor,"stroke-width":options.barBorderWidth,});scroller.scrollbarRifles.attr({stroke:options.rifleColor,"stroke-width":1,})}scroller.scrollbarStrokeWidth=scroller.scrollbar.strokeWidth();scroller.scrollbarGroup.translate((-scroller.scrollbarStrokeWidth%2)/2,(-scroller.scrollbarStrokeWidth%2)/2);scroller.drawScrollbarButton(0);scroller.drawScrollbarButton(1)};Scrollbar.prototype.setRange=function(from,to){var scroller=this,options=scroller.options,vertical=options.vertical,minWidth=options.minWidth,fullWidth=scroller.barWidth,method=this.rendered&&!this.hasDragged&&!(this.chart.navigator&&this.chart.navigator.hasDragged)?"animate":"attr";if(!defined(fullWidth)){return}var toPX=fullWidth*Math.min(to,1);var fromPX,newSize;from=Math.max(from,0);fromPX=Math.ceil(fullWidth*from);scroller.calculatedWidth=newSize=correctFloat(toPX-fromPX);if(newSize<minWidth){fromPX=(fullWidth-minWidth+newSize)*from;newSize=minWidth}var newPos=Math.floor(fromPX+scroller.xOffset+scroller.yOffset);var newRiflesPos=newSize/2-0.5;scroller.from=from;scroller.to=to;if(!vertical){scroller.scrollbarGroup[method]({translateX:newPos,});scroller.scrollbar[method]({width:newSize,});scroller.scrollbarRifles[method]({translateX:newRiflesPos,});scroller.scrollbarLeft=newPos;scroller.scrollbarTop=0}else{scroller.scrollbarGroup[method]({translateY:newPos,});scroller.scrollbar[method]({height:newSize,});scroller.scrollbarRifles[method]({translateY:newRiflesPos,});scroller.scrollbarTop=newPos;scroller.scrollbarLeft=0}if(newSize<=12){scroller.scrollbarRifles.hide()}else{scroller.scrollbarRifles.show(true)}if(options.showFull===false){if(from<=0&&to>=1){scroller.group.hide()}else{scroller.group.show()}}scroller.rendered=true};Scrollbar.prototype.shouldUpdateExtremes=function(eventType){return(pick(this.options.liveRedraw,H.svg&&!H.isTouchDevice&&!this.chart.isBoosting)||eventType==="mouseup"||eventType==="touchend"||!defined(eventType))};Scrollbar.prototype.trackClick=function(e){var scroller=this;var normalizedEvent=scroller.chart.pointer.normalize(e),range=scroller.to-scroller.from,top=scroller.y+scroller.scrollbarTop,left=scroller.x+scroller.scrollbarLeft;if((scroller.options.vertical&&normalizedEvent.chartY>top)||(!scroller.options.vertical&&normalizedEvent.chartX>left)){scroller.updatePosition(scroller.from+range,scroller.to+range)}else{scroller.updatePosition(scroller.from-range,scroller.to-range)}fireEvent(scroller,"changed",{from:scroller.from,to:scroller.to,trigger:"scrollbar",DOMEvent:e,})};Scrollbar.prototype.update=function(options){this.destroy();this.init(this.chart.renderer,merge(true,this.options,options),this.chart)};Scrollbar.prototype.updatePosition=function(from,to){if(to>1){from=correctFloat(1-correctFloat(to-from));to=1}if(from<0){to=correctFloat(to-from);from=0}this.from=from;this.to=to};Scrollbar.defaultOptions=ScrollbarDefaults;return Scrollbar})();defaultOptions.scrollbar=merge(true,Scrollbar.defaultOptions,defaultOptions.scrollbar);return Scrollbar});_registerModule(_modules,"Extensions/RangeSelector.js",[_modules["Core/Axis/Axis.js"],_modules["Core/Chart/Chart.js"],_modules["Core/Globals.js"],_modules["Core/DefaultOptions.js"],_modules["Core/Renderer/SVG/SVGElement.js"],_modules["Core/Utilities.js"],],function(Axis,Chart,H,D,SVGElement,U){var defaultOptions=D.defaultOptions;var addEvent=U.addEvent,createElement=U.createElement,css=U.css,defined=U.defined,destroyObjectProperties=U.destroyObjectProperties,discardElement=U.discardElement,extend=U.extend,find=U.find,fireEvent=U.fireEvent,isNumber=U.isNumber,merge=U.merge,objectEach=U.objectEach,pad=U.pad,pick=U.pick,pInt=U.pInt,splat=U.splat;extend(defaultOptions,{rangeSelector:{allButtonsEnabled:false,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7,},floating:false,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%b %e, %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:true,inputPosition:{align:"right",x:0,y:0,},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0,},inputStyle:{color:"#335cad",cursor:"pointer",},labelStyle:{color:"#666666",},},});extend(defaultOptions.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"→",});var RangeSelector=(function(){function RangeSelector(chart){this.buttons=void 0;this.buttonOptions=RangeSelector.prototype.defaultButtons;this.initialButtonGroupWidth=0;this.options=void 0;this.chart=chart;this.init(chart)}RangeSelector.prototype.clickButton=function(i,redraw){var rangeSelector=this,chart=rangeSelector.chart,rangeOptions=rangeSelector.buttonOptions[i],baseAxis=chart.xAxis[0],unionExtremes=(chart.scroller&&chart.scroller.getUnionExtremes())||baseAxis||{},dataMin=unionExtremes.dataMin,dataMax=unionExtremes.dataMax,newMin,newMax=baseAxis&&Math.round(Math.min(baseAxis.max,pick(dataMax,baseAxis.max))),type=rangeOptions.type,baseXAxisOptions,range=rangeOptions._range,rangeMin,minSetting,rangeSetting,ctx,ytdExtremes,dataGrouping=rangeOptions.dataGrouping;if(dataMin===null||dataMax===null){return}chart.fixedRange=range;rangeSelector.setSelected(i);if(dataGrouping){this.forcedDataGrouping=true;Axis.prototype.setDataGrouping.call(baseAxis||{chart:this.chart},dataGrouping,false);this.frozenStates=rangeOptions.preserveDataGrouping}if(type==="month"||type==="year"){if(!baseAxis){range=rangeOptions}else{ctx={range:rangeOptions,max:newMax,chart:chart,dataMin:dataMin,dataMax:dataMax,};newMin=baseAxis.minFromRange.call(ctx);if(isNumber(ctx.newMax)){newMax=ctx.newMax}}}else if(range){newMin=Math.max(newMax-range,dataMin);newMax=Math.min(newMin+range,dataMax)}else if(type==="ytd"){if(baseAxis){if(typeof dataMax==="undefined"){dataMin=Number.MAX_VALUE;dataMax=Number.MIN_VALUE;chart.series.forEach(function(series){var xData=series.xData;dataMin=Math.min(xData[0],dataMin);dataMax=Math.max(xData[xData.length-1],dataMax)});redraw=false}ytdExtremes=rangeSelector.getYTDExtremes(dataMax,dataMin,chart.time.useUTC);newMin=rangeMin=ytdExtremes.min;newMax=ytdExtremes.max}else{rangeSelector.deferredYTDClick=i;return}}else if(type==="all"&&baseAxis){if(chart.navigator&&chart.navigator.baseSeries[0]){chart.navigator.baseSeries[0].xAxis.options.range=void 0}newMin=dataMin;newMax=dataMax}if(defined(newMin)){newMin+=rangeOptions._offsetMin}if(defined(newMax)){newMax+=rangeOptions._offsetMax}if(this.dropdown){this.dropdown.selectedIndex=i+1}if(!baseAxis){baseXAxisOptions=splat(chart.options.xAxis)[0];rangeSetting=baseXAxisOptions.range;baseXAxisOptions.range=range;minSetting=baseXAxisOptions.min;baseXAxisOptions.min=rangeMin;addEvent(chart,"load",function resetMinAndRange(){baseXAxisOptions.range=rangeSetting;baseXAxisOptions.min=minSetting})}else{baseAxis.setExtremes(newMin,newMax,pick(redraw,true),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:rangeOptions,})}fireEvent(this,"afterBtnClick")};RangeSelector.prototype.setSelected=function(selected){this.selected=this.options.selected=selected};RangeSelector.prototype.init=function(chart){var rangeSelector=this,options=chart.options.rangeSelector,buttonOptions=options.buttons||rangeSelector.defaultButtons.slice(),selectedOption=options.selected,blurInputs=function(){var minInput=rangeSelector.minInput,maxInput=rangeSelector.maxInput;if(minInput&&minInput.blur){fireEvent(minInput,"blur")}if(maxInput&&maxInput.blur){fireEvent(maxInput,"blur")}};rangeSelector.chart=chart;rangeSelector.options=options;rangeSelector.buttons=[];rangeSelector.buttonOptions=buttonOptions;this.eventsToUnbind=[];this.eventsToUnbind.push(addEvent(chart.container,"mousedown",blurInputs));this.eventsToUnbind.push(addEvent(chart,"resize",blurInputs));buttonOptions.forEach(rangeSelector.computeButtonRange);if(typeof selectedOption!=="undefined"&&buttonOptions[selectedOption]){this.clickButton(selectedOption,false)}this.eventsToUnbind.push(addEvent(chart,"load",function(){if(chart.xAxis&&chart.xAxis[0]){addEvent(chart.xAxis[0],"setExtremes",function(e){if(this.max-this.min!==chart.fixedRange&&e.trigger!=="rangeSelectorButton"&&e.trigger!=="updatedData"&&rangeSelector.forcedDataGrouping&&!rangeSelector.frozenStates){this.setDataGrouping(false,false)}})}}))};RangeSelector.prototype.updateButtonStates=function(){var rangeSelector=this,chart=this.chart,dropdown=this.dropdown,baseAxis=chart.xAxis[0],actualRange=Math.round(baseAxis.max-baseAxis.min),hasNoData=!baseAxis.hasVisibleSeries,day=24*36e5,unionExtremes=(chart.scroller&&chart.scroller.getUnionExtremes())||baseAxis,dataMin=unionExtremes.dataMin,dataMax=unionExtremes.dataMax,ytdExtremes=rangeSelector.getYTDExtremes(dataMax,dataMin,chart.time.useUTC),ytdMin=ytdExtremes.min,ytdMax=ytdExtremes.max,selected=rangeSelector.selected,selectedExists=isNumber(selected),allButtonsEnabled=rangeSelector.options.allButtonsEnabled,buttons=rangeSelector.buttons;rangeSelector.buttonOptions.forEach(function(rangeOptions,i){var range=rangeOptions._range,type=rangeOptions.type,count=rangeOptions.count||1,button=buttons[i],state=0,disable,select,offsetRange=rangeOptions._offsetMax-rangeOptions._offsetMin,isSelected=i===selected,isTooGreatRange=range>dataMax-dataMin,isTooSmallRange=range<baseAxis.minRange,isYTDButNotSelected=false,isAllButAlreadyShowingAll=false,isSameRange=range===actualRange;if((type==="month"||type==="year")&&actualRange+36e5>={month:28,year:365}[type]*day*count-offsetRange&&actualRange-36e5<={month:31,year:366}[type]*day*count+offsetRange){isSameRange=true}else if(type==="ytd"){isSameRange=ytdMax-ytdMin+offsetRange===actualRange;isYTDButNotSelected=!isSelected}else if(type==="all"){isSameRange=baseAxis.max-baseAxis.min>=dataMax-dataMin;isAllButAlreadyShowingAll=!isSelected&&selectedExists&&isSameRange}disable=!allButtonsEnabled&&(isTooGreatRange||isTooSmallRange||isAllButAlreadyShowingAll||hasNoData);select=(isSelected&&isSameRange)||(isSameRange&&!selectedExists&&!isYTDButNotSelected)||(isSelected&&rangeSelector.frozenStates);if(disable){state=3}else if(select){selectedExists=true;state=2}if(button.state!==state){button.setState(state);if(dropdown){dropdown.options[i+1].disabled=disable;if(state===2){dropdown.selectedIndex=i+1}}if(state===0&&selected===i){rangeSelector.setSelected()}}})};RangeSelector.prototype.computeButtonRange=function(rangeOptions){var type=rangeOptions.type,count=rangeOptions.count||1,fixedTimes={millisecond:1,second:1000,minute:60*1000,hour:3600*1000,day:24*3600*1000,week:7*24*3600*1000,};if(fixedTimes[type]){rangeOptions._range=fixedTimes[type]*count}else if(type==="month"||type==="year"){rangeOptions._range={month:30,year:365,}[type]*24*36e5*count}rangeOptions._offsetMin=pick(rangeOptions.offsetMin,0);rangeOptions._offsetMax=pick(rangeOptions.offsetMax,0);rangeOptions._range+=rangeOptions._offsetMax-rangeOptions._offsetMin};RangeSelector.prototype.getInputValue=function(name){var input=name==="min"?this.minInput:this.maxInput;var options=this.chart.options.rangeSelector;var time=this.chart.time;if(input){return((input.type==="text"&&options.inputDateParser)||this.defaultInputDateParser)(input.value,time.useUTC,time)}return 0};RangeSelector.prototype.setInputValue=function(name,inputTime){var options=this.options,time=this.chart.time,input=name==="min"?this.minInput:this.maxInput,dateBox=name==="min"?this.minDateBox:this.maxDateBox;if(input){var hcTimeAttr=input.getAttribute("data-hc-time");var updatedTime=defined(hcTimeAttr)?Number(hcTimeAttr):void 0;if(defined(inputTime)){var previousTime=updatedTime;if(defined(previousTime)){input.setAttribute("data-hc-time-previous",previousTime)}input.setAttribute("data-hc-time",inputTime);updatedTime=inputTime}input.value=time.dateFormat(this.inputTypeFormats[input.type]||options.inputEditDateFormat,updatedTime);if(dateBox){dateBox.attr({text:time.dateFormat(options.inputDateFormat,updatedTime),})}}};RangeSelector.prototype.setInputExtremes=function(name,min,max){var input=name==="min"?this.minInput:this.maxInput;if(input){var format=this.inputTypeFormats[input.type];var time=this.chart.time;if(format){var newMin=time.dateFormat(format,min);if(input.min!==newMin){input.min=newMin}var newMax=time.dateFormat(format,max);if(input.max!==newMax){input.max=newMax}}}};RangeSelector.prototype.showInput=function(name){var dateBox=name==="min"?this.minDateBox:this.maxDateBox;var input=name==="min"?this.minInput:this.maxInput;if(input&&dateBox&&this.inputGroup){var isTextInput=input.type==="text";var _a=this.inputGroup,translateX=_a.translateX,translateY=_a.translateY;var inputBoxWidth=this.options.inputBoxWidth;css(input,{width:isTextInput?dateBox.width+(inputBoxWidth?-2:20)+"px":"auto",height:isTextInput?dateBox.height-2+"px":"auto",border:"2px solid silver",});if(isTextInput&&inputBoxWidth){css(input,{left:translateX+dateBox.x+"px",top:translateY+"px",})}else{css(input,{left:Math.min(Math.round(dateBox.x+translateX-(input.offsetWidth-dateBox.width)/2),this.chart.chartWidth-input.offsetWidth)+"px",top:translateY-(input.offsetHeight-dateBox.height)/2+"px",})}}};RangeSelector.prototype.hideInput=function(name){var input=name==="min"?this.minInput:this.maxInput;if(input){css(input,{top:"-9999em",border:0,width:"1px",height:"1px",})}};RangeSelector.prototype.defaultInputDateParser=function(inputDate,useUTC,time){var hasTimezone=function(str){return(str.length>6&&(str.lastIndexOf("-")===str.length-6||str.lastIndexOf("+")===str.length-6))};var input=inputDate.split("/").join("-").split(" ").join("T");if(input.indexOf("T")===-1){input+="T00:00"}if(useUTC){input+="Z"}else if(H.isSafari&&!hasTimezone(input)){var offset=new Date(input).getTimezoneOffset()/60;input+=offset<=0?"+"+pad(-offset)+":00":"-"+pad(offset)+":00"}var date=Date.parse(input);if(!isNumber(date)){var parts=inputDate.split("-");date=Date.UTC(pInt(parts[0]),pInt(parts[1])-1,pInt(parts[2]))}if(time&&useUTC&&isNumber(date)){date+=time.getTimezoneOffset(date)}return date};RangeSelector.prototype.drawInput=function(name){var _a=this,chart=_a.chart,div=_a.div,inputGroup=_a.inputGroup;var rangeSelector=this,chartStyle=chart.renderer.style||{},renderer=chart.renderer,options=chart.options.rangeSelector,lang=defaultOptions.lang,isMin=name==="min";function updateExtremes(){var value=rangeSelector.getInputValue(name),chartAxis=chart.xAxis[0],dataAxis=chart.scroller&&chart.scroller.xAxis?chart.scroller.xAxis:chartAxis,dataMin=dataAxis.dataMin,dataMax=dataAxis.dataMax;var maxInput=rangeSelector.maxInput,minInput=rangeSelector.minInput;if(value!==Number(input.getAttribute("data-hc-time-previous"))&&isNumber(value)){input.setAttribute("data-hc-time-previous",value);if(isMin&&maxInput&&isNumber(dataMin)){if(value>Number(maxInput.getAttribute("data-hc-time"))){value=void 0}else if(value<dataMin){value=dataMin}}else if(minInput&&isNumber(dataMax)){if(value<Number(minInput.getAttribute("data-hc-time"))){value=void 0}else if(value>dataMax){value=dataMax}}if(typeof value!=="undefined"){chartAxis.setExtremes(isMin?value:chartAxis.min,isMin?chartAxis.max:value,void 0,void 0,{trigger:"rangeSelectorInput"})}}}var text=lang[isMin?"rangeSelectorFrom":"rangeSelectorTo"]||"";var label=renderer.label(text,0).addClass("highcharts-range-label").attr({padding:text?2:0,height:text?options.inputBoxHeight:0,}).add(inputGroup);var dateBox=renderer.label("",0).addClass("highcharts-range-input").attr({padding:2,width:options.inputBoxWidth,height:options.inputBoxHeight,"text-align":"center",}).on("click",function(){rangeSelector.showInput(name);rangeSelector[name+"Input"].focus()});if(!chart.styledMode){dateBox.attr({stroke:options.inputBoxBorderColor,"stroke-width":1,})}dateBox.add(inputGroup);var input=createElement("input",{name:name,className:"highcharts-range-selector",},void 0,div);input.setAttribute("type",preferredInputType(options.inputDateFormat||"%b %e, %Y"));if(!chart.styledMode){label.css(merge(chartStyle,options.labelStyle));dateBox.css(merge({color:"#333333",},chartStyle,options.inputStyle));css(input,extend({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:chartStyle.fontSize,fontFamily:chartStyle.fontFamily,top:"-9999em",},options.inputStyle))}input.onfocus=function(){rangeSelector.showInput(name)};input.onblur=function(){if(input===H.doc.activeElement){updateExtremes()}rangeSelector.hideInput(name);rangeSelector.setInputValue(name);input.blur()};var keyDown=false;input.onchange=function(){if(!keyDown){updateExtremes();rangeSelector.hideInput(name);input.blur()}};input.onkeypress=function(event){if(event.keyCode===13){updateExtremes()}};input.onkeydown=function(event){keyDown=true;if(event.keyCode===38||event.keyCode===40){updateExtremes()}};input.onkeyup=function(){keyDown=false};return{dateBox:dateBox,input:input,label:label}};RangeSelector.prototype.getPosition=function(){var chart=this.chart,options=chart.options.rangeSelector,top=options.verticalAlign==="top"?chart.plotTop-chart.axisOffset[0]:0;return{buttonTop:top+options.buttonPosition.y,inputTop:top+options.inputPosition.y-10,}};RangeSelector.prototype.getYTDExtremes=function(dataMax,dataMin,useUTC){var time=this.chart.time,min,now=new time.Date(dataMax),year=time.get("FullYear",now),startOfYear=useUTC?time.Date.UTC(year,0,1):+new time.Date(year,0,1);min=Math.max(dataMin,startOfYear);var ts=now.getTime();return{max:Math.min(dataMax||ts,ts),min:min,}};RangeSelector.prototype.render=function(min,max){var chart=this.chart,renderer=chart.renderer,container=chart.container,chartOptions=chart.options,options=chartOptions.rangeSelector,inputsZIndex=pick(chartOptions.chart.style&&chartOptions.chart.style.zIndex,0)+1,inputEnabled=options.inputEnabled,rendered=this.rendered;if(options.enabled===false){return}if(!rendered){this.group=renderer.g("range-selector-group").attr({zIndex:7,}).add();this.div=createElement("div",void 0,{position:"relative",height:0,zIndex:inputsZIndex,});if(this.buttonOptions.length){this.renderButtons()}if(container.parentNode){container.parentNode.insertBefore(this.div,container)}if(inputEnabled){this.inputGroup=renderer.g("input-group").add(this.group);var minElems=this.drawInput("min");this.minDateBox=minElems.dateBox;this.minLabel=minElems.label;this.minInput=minElems.input;var maxElems=this.drawInput("max");this.maxDateBox=maxElems.dateBox;this.maxLabel=maxElems.label;this.maxInput=maxElems.input}}if(inputEnabled){this.setInputValue("min",min);this.setInputValue("max",max);var unionExtremes=(chart.scroller&&chart.scroller.getUnionExtremes())||chart.xAxis[0]||{};if(defined(unionExtremes.dataMin)&&defined(unionExtremes.dataMax)){var minRange=chart.xAxis[0].minRange||0;this.setInputExtremes("min",unionExtremes.dataMin,Math.min(unionExtremes.dataMax,this.getInputValue("max"))-minRange);this.setInputExtremes("max",Math.max(unionExtremes.dataMin,this.getInputValue("min"))+minRange,unionExtremes.dataMax)}if(this.inputGroup){var x_1=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox,].forEach(function(label){if(label){var width=label.getBBox().width;if(width){label.attr({x:x_1});x_1+=width+options.inputSpacing}}})}}this.alignElements();this.rendered=true};RangeSelector.prototype.renderButtons=function(){var _this=this;var _a=this,buttons=_a.buttons,chart=_a.chart,options=_a.options;var lang=defaultOptions.lang;var renderer=chart.renderer;var buttonTheme=merge(options.buttonTheme);var states=buttonTheme&&buttonTheme.states;var width=buttonTheme.width||28;delete buttonTheme.width;delete buttonTheme.states;this.buttonGroup=renderer.g("range-selector-buttons").add(this.group);var dropdown=(this.dropdown=createElement("select",void 0,{position:"absolute",width:"1px",height:"1px",padding:0,border:0,top:"-9999em",cursor:"pointer",opacity:0.0001,},this.div));addEvent(dropdown,"touchstart",function(){dropdown.style.fontSize="16px"});[[H.isMS?"mouseover":"mouseenter"],[H.isMS?"mouseout":"mouseleave"],["change","click"],].forEach(function(_a){var from=_a[0],to=_a[1];addEvent(dropdown,from,function(){var button=buttons[_this.currentButtonIndex()];if(button){fireEvent(button.element,to||from)}})});this.zoomText=renderer.label((lang&&lang.rangeSelectorZoom)||"",0).attr({padding:options.buttonTheme.padding,height:options.buttonTheme.height,paddingLeft:0,paddingRight:0,}).add(this.buttonGroup);if(!this.chart.styledMode){this.zoomText.css(options.labelStyle);buttonTheme["stroke-width"]=pick(buttonTheme["stroke-width"],0)}createElement("option",{textContent:this.zoomText.textStr,disabled:true,},void 0,dropdown);this.buttonOptions.forEach(function(rangeOptions,i){createElement("option",{textContent:rangeOptions.title||rangeOptions.text,},void 0,dropdown);buttons[i]=renderer.button(rangeOptions.text,0,0,function(e){var buttonEvents=rangeOptions.events&&rangeOptions.events.click,callDefaultEvent;if(buttonEvents){callDefaultEvent=buttonEvents.call(rangeOptions,e)}if(callDefaultEvent!==false){_this.clickButton(i)}_this.isActive=true},buttonTheme,states&&states.hover,states&&states.select,states&&states.disabled).attr({"text-align":"center",width:width,}).add(_this.buttonGroup);if(rangeOptions.title){buttons[i].attr("title",rangeOptions.title)}})};RangeSelector.prototype.alignElements=function(){var _this=this;var _a=this,buttonGroup=_a.buttonGroup,buttons=_a.buttons,chart=_a.chart,group=_a.group,inputGroup=_a.inputGroup,options=_a.options,zoomText=_a.zoomText;var chartOptions=chart.options;var navButtonOptions=chartOptions.exporting&&chartOptions.exporting.enabled!==false&&chartOptions.navigation&&chartOptions.navigation.buttonOptions;var buttonPosition=options.buttonPosition,inputPosition=options.inputPosition,verticalAlign=options.verticalAlign;var getXOffsetForExportButton=function(group,position){if(navButtonOptions&&_this.titleCollision(chart)&&verticalAlign==="top"&&position.align==="right"&&position.y-group.getBBox().height-12<(navButtonOptions.y||0)+(navButtonOptions.height||0)+chart.spacing[0]){return-40}return 0};var plotLeft=chart.plotLeft;if(group&&buttonPosition&&inputPosition){var translateX=buttonPosition.x-chart.spacing[3];if(buttonGroup){this.positionButtons();if(!this.initialButtonGroupWidth){var width_1=0;if(zoomText){width_1+=zoomText.getBBox().width+5}buttons.forEach(function(button,i){width_1+=button.width;if(i!==buttons.length-1){width_1+=options.buttonSpacing}});this.initialButtonGroupWidth=width_1}plotLeft-=chart.spacing[3];this.updateButtonStates();var xOffsetForExportButton_1=getXOffsetForExportButton(buttonGroup,buttonPosition);this.alignButtonGroup(xOffsetForExportButton_1);group.placed=buttonGroup.placed=chart.hasLoaded}var xOffsetForExportButton=0;if(inputGroup){xOffsetForExportButton=getXOffsetForExportButton(inputGroup,inputPosition);if(inputPosition.align==="left"){translateX=plotLeft}else if(inputPosition.align==="right"){translateX=-Math.max(chart.axisOffset[1],-xOffsetForExportButton)}inputGroup.align({y:inputPosition.y,width:inputGroup.getBBox().width,align:inputPosition.align,x:inputPosition.x+translateX-2,},true,chart.spacingBox);inputGroup.placed=chart.hasLoaded}this.handleCollision(xOffsetForExportButton);group.align({verticalAlign:verticalAlign,},true,chart.spacingBox);var alignTranslateY=group.alignAttr.translateY;var groupHeight=group.getBBox().height+20;var translateY=0;if(verticalAlign==="bottom"){var legendOptions=chart.legend&&chart.legend.options;var legendHeight=legendOptions&&legendOptions.verticalAlign==="bottom"&&legendOptions.enabled&&!legendOptions.floating?chart.legend.legendHeight+pick(legendOptions.margin,10):0;groupHeight=groupHeight+legendHeight-20;translateY=alignTranslateY-groupHeight-(options.floating?0:options.y)-(chart.titleOffset?chart.titleOffset[2]:0)-10}if(verticalAlign==="top"){if(options.floating){translateY=0}if(chart.titleOffset&&chart.titleOffset[0]){translateY=chart.titleOffset[0]}translateY+=chart.margin[0]-chart.spacing[0]||0}else if(verticalAlign==="middle"){if(inputPosition.y===buttonPosition.y){translateY=alignTranslateY}else if(inputPosition.y||buttonPosition.y){if(inputPosition.y<0||buttonPosition.y<0){translateY-=Math.min(inputPosition.y,buttonPosition.y)}else{translateY=alignTranslateY-groupHeight}}}group.translate(options.x,options.y+Math.floor(translateY));var _b=this,minInput=_b.minInput,maxInput=_b.maxInput,dropdown=_b.dropdown;if(options.inputEnabled&&minInput&&maxInput){minInput.style.marginTop=group.translateY+"px";maxInput.style.marginTop=group.translateY+"px"}if(dropdown){dropdown.style.marginTop=group.translateY+"px"}}};RangeSelector.prototype.alignButtonGroup=function(xOffsetForExportButton,width){var _a=this,chart=_a.chart,options=_a.options,buttonGroup=_a.buttonGroup,buttons=_a.buttons;var buttonPosition=options.buttonPosition;var plotLeft=chart.plotLeft-chart.spacing[3];var translateX=buttonPosition.x-chart.spacing[3];if(buttonPosition.align==="right"){translateX+=xOffsetForExportButton-plotLeft}else if(buttonPosition.align==="center"){translateX-=plotLeft/2}if(buttonGroup){buttonGroup.align({y:buttonPosition.y,width:pick(width,this.initialButtonGroupWidth),align:buttonPosition.align,x:translateX,},true,chart.spacingBox)}};RangeSelector.prototype.positionButtons=function(){var _a=this,buttons=_a.buttons,chart=_a.chart,options=_a.options,zoomText=_a.zoomText;var verb=chart.hasLoaded?"animate":"attr";var buttonPosition=options.buttonPosition;var plotLeft=chart.plotLeft;var buttonLeft=plotLeft;if(zoomText&&zoomText.visibility!=="hidden"){zoomText[verb]({x:pick(plotLeft+buttonPosition.x,plotLeft),});buttonLeft+=buttonPosition.x+zoomText.getBBox().width+5}this.buttonOptions.forEach(function(rangeOptions,i){if(buttons[i].visibility!=="hidden"){buttons[i][verb]({x:buttonLeft});buttonLeft+=buttons[i].width+options.buttonSpacing}else{buttons[i][verb]({x:plotLeft})}})};RangeSelector.prototype.handleCollision=function(xOffsetForExportButton){var _this=this;var _a=this,chart=_a.chart,buttonGroup=_a.buttonGroup,inputGroup=_a.inputGroup;var _b=this.options,buttonPosition=_b.buttonPosition,dropdown=_b.dropdown,inputPosition=_b.inputPosition;var maxButtonWidth=function(){var buttonWidth=0;_this.buttons.forEach(function(button){var bBox=button.getBBox();if(bBox.width>buttonWidth){buttonWidth=bBox.width}});return buttonWidth};var groupsOverlap=function(buttonGroupWidth){if(inputGroup&&buttonGroup){var inputGroupX=inputGroup.alignAttr.translateX+inputGroup.alignOptions.x-xOffsetForExportButton+inputGroup.getBBox().x+2;var inputGroupWidth=inputGroup.alignOptions.width;var buttonGroupX=buttonGroup.alignAttr.translateX+buttonGroup.getBBox().x;return(buttonGroupX+buttonGroupWidth>inputGroupX&&inputGroupX+inputGroupWidth>buttonGroupX&&buttonPosition.y<inputPosition.y+inputGroup.getBBox().height)}return false};var moveInputsDown=function(){if(inputGroup&&buttonGroup){inputGroup.attr({translateX:inputGroup.alignAttr.translateX+(chart.axisOffset[1]>=-xOffsetForExportButton?0:-xOffsetForExportButton),translateY:inputGroup.alignAttr.translateY+buttonGroup.getBBox().height+10,})}};if(buttonGroup){if(dropdown==="always"){this.collapseButtons(xOffsetForExportButton);if(groupsOverlap(maxButtonWidth())){moveInputsDown()}return}if(dropdown==="never"){this.expandButtons()}}if(inputGroup&&buttonGroup){if(inputPosition.align===buttonPosition.align||groupsOverlap(this.initialButtonGroupWidth+20)){if(dropdown==="responsive"){this.collapseButtons(xOffsetForExportButton);if(groupsOverlap(maxButtonWidth())){moveInputsDown()}}else{moveInputsDown()}}else if(dropdown==="responsive"){this.expandButtons()}}else if(buttonGroup&&dropdown==="responsive"){if(this.initialButtonGroupWidth>chart.plotWidth){this.collapseButtons(xOffsetForExportButton)}else{this.expandButtons()}}};RangeSelector.prototype.collapseButtons=function(xOffsetForExportButton){var _a=this,buttons=_a.buttons,buttonOptions=_a.buttonOptions,chart=_a.chart,dropdown=_a.dropdown,options=_a.options,zoomText=_a.zoomText;var userButtonTheme=(chart.userOptions.rangeSelector&&chart.userOptions.rangeSelector.buttonTheme)||{};var getAttribs=function(text){return{text:text?text+" \u25BE":"▾",width:"auto",paddingLeft:pick(options.buttonTheme.paddingLeft,userButtonTheme.padding,8),paddingRight:pick(options.buttonTheme.paddingRight,userButtonTheme.padding,8),}};if(zoomText){zoomText.hide()}var hasActiveButton=false;buttonOptions.forEach(function(rangeOptions,i){var button=buttons[i];if(button.state!==2){button.hide()}else{button.show();button.attr(getAttribs(rangeOptions.text));hasActiveButton=true}});if(!hasActiveButton){if(dropdown){dropdown.selectedIndex=0}buttons[0].show();buttons[0].attr(getAttribs(this.zoomText&&this.zoomText.textStr))}var align=options.buttonPosition.align;this.positionButtons();if(align==="right"||align==="center"){this.alignButtonGroup(xOffsetForExportButton,buttons[this.currentButtonIndex()].getBBox().width)}this.showDropdown()};RangeSelector.prototype.expandButtons=function(){var _a=this,buttons=_a.buttons,buttonOptions=_a.buttonOptions,options=_a.options,zoomText=_a.zoomText;this.hideDropdown();if(zoomText){zoomText.show()}buttonOptions.forEach(function(rangeOptions,i){var button=buttons[i];button.show();button.attr({text:rangeOptions.text,width:options.buttonTheme.width||28,paddingLeft:pick(options.buttonTheme.paddingLeft,"unset"),paddingRight:pick(options.buttonTheme.paddingRight,"unset"),});if(button.state<2){button.setState(0)}});this.positionButtons()};RangeSelector.prototype.currentButtonIndex=function(){var dropdown=this.dropdown;if(dropdown&&dropdown.selectedIndex>0){return dropdown.selectedIndex-1}return 0};RangeSelector.prototype.showDropdown=function(){var _a=this,buttonGroup=_a.buttonGroup,buttons=_a.buttons,chart=_a.chart,dropdown=_a.dropdown;if(buttonGroup&&dropdown){var translateX=buttonGroup.translateX,translateY=buttonGroup.translateY;var bBox=buttons[this.currentButtonIndex()].getBBox();css(dropdown,{left:chart.plotLeft+translateX+"px",top:translateY+0.5+"px",width:bBox.width+"px",height:bBox.height+"px",});this.hasVisibleDropdown=true}};RangeSelector.prototype.hideDropdown=function(){var dropdown=this.dropdown;if(dropdown){css(dropdown,{top:"-9999em",width:"1px",height:"1px",});this.hasVisibleDropdown=false}};RangeSelector.prototype.getHeight=function(){var rangeSelector=this,options=rangeSelector.options,rangeSelectorGroup=rangeSelector.group,inputPosition=options.inputPosition,buttonPosition=options.buttonPosition,yPosition=options.y,buttonPositionY=buttonPosition.y,inputPositionY=inputPosition.y,rangeSelectorHeight=0,minPosition;if(options.height){return options.height}this.alignElements();rangeSelectorHeight=rangeSelectorGroup?rangeSelectorGroup.getBBox(true).height+13+yPosition:0;minPosition=Math.min(inputPositionY,buttonPositionY);if((inputPositionY<0&&buttonPositionY<0)||(inputPositionY>0&&buttonPositionY>0)){rangeSelectorHeight+=Math.abs(minPosition)}return rangeSelectorHeight};RangeSelector.prototype.titleCollision=function(chart){return!(chart.options.title.text||chart.options.subtitle.text)};RangeSelector.prototype.update=function(options){var chart=this.chart;merge(true,chart.options.rangeSelector,options);this.destroy();this.init(chart);this.render()};RangeSelector.prototype.destroy=function(){var rSelector=this,minInput=rSelector.minInput,maxInput=rSelector.maxInput;if(rSelector.eventsToUnbind){rSelector.eventsToUnbind.forEach(function(unbind){return unbind()});rSelector.eventsToUnbind=void 0}destroyObjectProperties(rSelector.buttons);if(minInput){minInput.onfocus=minInput.onblur=minInput.onchange=null}if(maxInput){maxInput.onfocus=maxInput.onblur=maxInput.onchange=null}objectEach(rSelector,function(val,key){if(val&&key!=="chart"){if(val instanceof SVGElement){val.destroy()}else if(val instanceof window.HTMLElement){discardElement(val)}}if(val!==RangeSelector.prototype[key]){rSelector[key]=null}},this)};return RangeSelector})();RangeSelector.prototype.defaultButtons=[{type:"month",count:1,text:"1m",title:"View 1 month",},{type:"month",count:3,text:"3m",title:"View 3 months",},{type:"month",count:6,text:"6m",title:"View 6 months",},{type:"ytd",text:"YTD",title:"View year to date",},{type:"year",count:1,text:"1y",title:"View 1 year",},{type:"all",text:"All",title:"View all",},];RangeSelector.prototype.inputTypeFormats={"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S",};function preferredInputType(format){var ms=format.indexOf("%L")!==-1;if(ms){return"text"}var date=["a","A","d","e","w","b","B","m","o","y","Y"].some(function(char){return format.indexOf("%"+char)!==-1});var time=["H","k","I","l","M","S"].some(function(char){return format.indexOf("%"+char)!==-1});if(date&&time){return"datetime-local"}if(date){return"date"}if(time){return"time"}return"text"}Axis.prototype.minFromRange=function(){var rangeOptions=this.range,type=rangeOptions.type,min,max=this.max,dataMin,range,time=this.chart.time,getTrueRange=function(base,count){var timeName=type==="year"?"FullYear":"Month";var date=new time.Date(base);var basePeriod=time.get(timeName,date);time.set(timeName,date,basePeriod+count);if(basePeriod===time.get(timeName,date)){time.set("Date",date,0)}return date.getTime()-base};if(isNumber(rangeOptions)){min=max-rangeOptions;range=rangeOptions}else{min=max+getTrueRange(max,-rangeOptions.count);if(this.chart){this.chart.fixedRange=max-min}}dataMin=pick(this.dataMin,Number.MIN_VALUE);if(!isNumber(min)){min=dataMin}if(min<=dataMin){min=dataMin;if(typeof range==="undefined"){range=getTrueRange(min,rangeOptions.count)}this.newMax=Math.min(min+range,this.dataMax)}if(!isNumber(max)){min=void 0}return min};if(!H.RangeSelector){var chartDestroyEvents_1=[];var initRangeSelector_1=function(chart){var extremes,rangeSelector=chart.rangeSelector,legend,alignTo,verticalAlign;function render(){if(rangeSelector){extremes=chart.xAxis[0].getExtremes();legend=chart.legend;verticalAlign=rangeSelector&&rangeSelector.options.verticalAlign;if(isNumber(extremes.min)){rangeSelector.render(extremes.min,extremes.max)}if(legend.display&&verticalAlign==="top"&&verticalAlign===legend.options.verticalAlign){alignTo=merge(chart.spacingBox);if(legend.options.layout==="vertical"){alignTo.y=chart.plotTop}else{alignTo.y+=rangeSelector.getHeight()}legend.group.placed=false;legend.align(alignTo)}}}if(rangeSelector){var events=find(chartDestroyEvents_1,function(e){return e[0]===chart});if(!events){chartDestroyEvents_1.push([chart,[addEvent(chart.xAxis[0],"afterSetExtremes",function(e){if(rangeSelector){rangeSelector.render(e.min,e.max)}}),addEvent(chart,"redraw",render),],])}render()}};addEvent(Chart,"afterGetContainer",function(){if(this.options.rangeSelector&&this.options.rangeSelector.enabled){this.rangeSelector=new RangeSelector(this)}});addEvent(Chart,"beforeRender",function(){var chart=this,axes=chart.axes,rangeSelector=chart.rangeSelector,verticalAlign;if(rangeSelector){if(isNumber(rangeSelector.deferredYTDClick)){rangeSelector.clickButton(rangeSelector.deferredYTDClick);delete rangeSelector.deferredYTDClick}axes.forEach(function(axis){axis.updateNames();axis.setScale()});chart.getAxisMargins();rangeSelector.render();verticalAlign=rangeSelector.options.verticalAlign;if(!rangeSelector.options.floating){if(verticalAlign==="bottom"){this.extraBottomMargin=true}else if(verticalAlign!=="middle"){this.extraTopMargin=true}}}});addEvent(Chart,"update",function(e){var chart=this,options=e.options,optionsRangeSelector=options.rangeSelector,rangeSelector=chart.rangeSelector,verticalAlign,extraBottomMarginWas=this.extraBottomMargin,extraTopMarginWas=this.extraTopMargin;if(optionsRangeSelector&&optionsRangeSelector.enabled&&!defined(rangeSelector)&&this.options.rangeSelector){this.options.rangeSelector.enabled=true;this.rangeSelector=rangeSelector=new RangeSelector(this)}this.extraBottomMargin=false;this.extraTopMargin=false;if(rangeSelector){initRangeSelector_1(this);verticalAlign=(optionsRangeSelector&&optionsRangeSelector.verticalAlign)||(rangeSelector.options&&rangeSelector.options.verticalAlign);if(!rangeSelector.options.floating){if(verticalAlign==="bottom"){this.extraBottomMargin=true}else if(verticalAlign!=="middle"){this.extraTopMargin=true}}if(this.extraBottomMargin!==extraBottomMarginWas||this.extraTopMargin!==extraTopMarginWas){this.isDirtyBox=true}}});addEvent(Chart,"render",function(){var chart=this,rangeSelector=chart.rangeSelector,verticalAlign;if(rangeSelector&&!rangeSelector.options.floating){rangeSelector.render();verticalAlign=rangeSelector.options.verticalAlign;if(verticalAlign==="bottom"){this.extraBottomMargin=true}else if(verticalAlign!=="middle"){this.extraTopMargin=true}}});addEvent(Chart,"getMargins",function(){var rangeSelector=this.rangeSelector,rangeSelectorHeight;if(rangeSelector){rangeSelectorHeight=rangeSelector.getHeight();if(this.extraTopMargin){this.plotTop+=rangeSelectorHeight}if(this.extraBottomMargin){this.marginBottom+=rangeSelectorHeight}}});Chart.prototype.callbacks.push(initRangeSelector_1);addEvent(Chart,"destroy",function destroyEvents(){for(var i=0;i<chartDestroyEvents_1.length;i++){var events=chartDestroyEvents_1[i];if(events[0]===this){events[1].forEach(function(unbind){return unbind()});chartDestroyEvents_1.splice(i,1);return}}});H.RangeSelector=RangeSelector}return RangeSelector});_registerModule(_modules,"Core/Axis/NavigatorAxis.js",[_modules["Core/Globals.js"],_modules["Core/Utilities.js"]],function(H,U){var isTouchDevice=H.isTouchDevice;var addEvent=U.addEvent,correctFloat=U.correctFloat,defined=U.defined,isNumber=U.isNumber,pick=U.pick;var NavigatorAxisAdditions=(function(){function NavigatorAxisAdditions(axis){this.axis=axis}NavigatorAxisAdditions.prototype.destroy=function(){this.axis=void 0};NavigatorAxisAdditions.prototype.toFixedRange=function(pxMin,pxMax,fixedMin,fixedMax){var navigator=this;var axis=navigator.axis;var chart=axis.chart;var fixedRange=chart&&chart.fixedRange,halfPointRange=(axis.pointRange||0)/2,newMin=pick(fixedMin,axis.translate(pxMin,true,!axis.horiz)),newMax=pick(fixedMax,axis.translate(pxMax,true,!axis.horiz)),changeRatio=fixedRange&&(newMax-newMin)/fixedRange;if(!defined(fixedMin)){newMin=correctFloat(newMin+halfPointRange)}if(!defined(fixedMax)){newMax=correctFloat(newMax-halfPointRange)}if(changeRatio>0.7&&changeRatio<1.3){if(fixedMax){newMin=newMax-fixedRange}else{newMax=newMin+fixedRange}}if(!isNumber(newMin)||!isNumber(newMax)){newMin=newMax=void 0}return{min:newMin,max:newMax,}};return NavigatorAxisAdditions})();var NavigatorAxis=(function(){function NavigatorAxis(){}NavigatorAxis.compose=function(AxisClass){AxisClass.keepProps.push("navigatorAxis");addEvent(AxisClass,"init",function(){var axis=this;if(!axis.navigatorAxis){axis.navigatorAxis=new NavigatorAxisAdditions(axis)}});addEvent(AxisClass,"zoom",function(e){var axis=this;var chart=axis.chart;var chartOptions=chart.options;var navigator=chartOptions.navigator;var navigatorAxis=axis.navigatorAxis;var pinchType=chartOptions.chart.pinchType;var rangeSelector=chartOptions.rangeSelector;var zoomType=chartOptions.chart.zoomType;var previousZoom;if(axis.isXAxis&&((navigator&&navigator.enabled)||(rangeSelector&&rangeSelector.enabled))){if(zoomType==="y"){e.zoomed=false}else if(((!isTouchDevice&&zoomType==="xy")||(isTouchDevice&&pinchType==="xy"))&&axis.options.range){previousZoom=navigatorAxis.previousZoom;if(defined(e.newMin)){navigatorAxis.previousZoom=[axis.min,axis.max]}else if(previousZoom){e.newMin=previousZoom[0];e.newMax=previousZoom[1];navigatorAxis.previousZoom=void 0}}}if(typeof e.zoomed!=="undefined"){e.preventDefault()}})};NavigatorAxis.AdditionsClass=NavigatorAxisAdditions;return NavigatorAxis})();return NavigatorAxis});_registerModule(_modules,"Core/Navigator.js",[_modules["Core/Axis/Axis.js"],_modules["Core/Chart/Chart.js"],_modules["Core/Color/Color.js"],_modules["Core/Globals.js"],_modules["Core/Axis/NavigatorAxis.js"],_modules["Core/DefaultOptions.js"],_modules["Core/Renderer/RendererRegistry.js"],_modules["Core/Scrollbar.js"],_modules["Core/Series/Series.js"],_modules["Core/Series/SeriesRegistry.js"],_modules["Core/Utilities.js"],],function(Axis,Chart,Color,H,NavigatorAxis,D,RendererRegistry,Scrollbar,Series,SeriesRegistry,U){var color=Color.parse;var hasTouch=H.hasTouch,isTouchDevice=H.isTouchDevice;var defaultOptions=D.defaultOptions;var seriesTypes=SeriesRegistry.seriesTypes;var addEvent=U.addEvent,clamp=U.clamp,correctFloat=U.correctFloat,defined=U.defined,destroyObjectProperties=U.destroyObjectProperties,erase=U.erase,extend=U.extend,find=U.find,isArray=U.isArray,isNumber=U.isNumber,merge=U.merge,pick=U.pick,removeEvent=U.removeEvent,splat=U.splat;var defaultSeriesType,numExt=function(extreme){var args=[];for(var _i=1;_i<arguments.length;_i++){args[_i-1]=arguments[_i]}var numbers=[].filter.call(args,isNumber);if(numbers.length){return Math[extreme].apply(0,numbers)}};defaultSeriesType=typeof seriesTypes.areaspline==="undefined"?"line":"areaspline";extend(defaultOptions,{navigator:{height:40,margin:25,maskInside:true,handles:{width:7,height:15,symbols:["navigator-handle","navigator-handle"],enabled:true,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999",},maskFill:color("#6685c2").setOpacity(0.3).get(),outlineColor:"#cccccc",outlineWidth:1,series:{type:defaultSeriesType,fillOpacity:0.05,lineWidth:1,compare:null,dataGrouping:{approximation:"average",enabled:true,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null],],},dataLabels:{enabled:false,zIndex:2,},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:false,},threshold:null,},xAxis:{overscroll:0,className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#999999",},x:3,y:-4,},crosshair:false,},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:false,endOnTick:false,minPadding:0.1,maxPadding:0.1,labels:{enabled:false,},crosshair:false,title:{text:null,},tickLength:0,tickWidth:0,},},});RendererRegistry.getRendererType().prototype.symbols["navigator-handle"]=function(_x,_y,_w,_h,options){var halfWidth=((options&&options.width)||0)/2,markerPosition=Math.round(halfWidth/3)+0.5,height=(options&&options.height)||0;return[["M",-halfWidth-1,0.5],["L",halfWidth,0.5],["L",halfWidth,height+0.5],["L",-halfWidth-1,height+0.5],["L",-halfWidth-1,0.5],["M",-markerPosition,4],["L",-markerPosition,height-3],["M",markerPosition-1,4],["L",markerPosition-1,height-3],]};var Navigator=(function(){function Navigator(chart){this.baseSeries=void 0;this.chart=void 0;this.handles=void 0;this.height=void 0;this.left=void 0;this.navigatorEnabled=void 0;this.navigatorGroup=void 0;this.navigatorOptions=void 0;this.navigatorSeries=void 0;this.navigatorSize=void 0;this.opposite=void 0;this.outline=void 0;this.outlineHeight=void 0;this.range=void 0;this.rendered=void 0;this.shades=void 0;this.size=void 0;this.top=void 0;this.xAxis=void 0;this.yAxis=void 0;this.zoomedMax=void 0;this.zoomedMin=void 0;this.init(chart)}Navigator.prototype.drawHandle=function(x,index,inverted,verb){var navigator=this,height=navigator.navigatorOptions.handles.height;navigator.handles[index][verb](inverted?{translateX:Math.round(navigator.left+navigator.height/2),translateY:Math.round(navigator.top+parseInt(x,10)+0.5-height),}:{translateX:Math.round(navigator.left+parseInt(x,10)),translateY:Math.round(navigator.top+navigator.height/2-height/2-1),})};Navigator.prototype.drawOutline=function(zoomedMin,zoomedMax,inverted,verb){var navigator=this,maskInside=navigator.navigatorOptions.maskInside,outlineWidth=navigator.outline.strokeWidth(),halfOutline=outlineWidth/2,outlineCorrection=(outlineWidth%2)/2,outlineHeight=navigator.outlineHeight,scrollbarHeight=navigator.scrollbarHeight||0,navigatorSize=navigator.size,left=navigator.left-scrollbarHeight,navigatorTop=navigator.top,verticalMin,path;if(inverted){left-=halfOutline;verticalMin=navigatorTop+zoomedMax+outlineCorrection;zoomedMax=navigatorTop+zoomedMin+outlineCorrection;path=[["M",left+outlineHeight,navigatorTop-scrollbarHeight-outlineCorrection,],["L",left+outlineHeight,verticalMin],["L",left,verticalMin],["L",left,zoomedMax],["L",left+outlineHeight,zoomedMax],["L",left+outlineHeight,navigatorTop+navigatorSize+scrollbarHeight,],];if(maskInside){path.push(["M",left+outlineHeight,verticalMin-halfOutline],["L",left+outlineHeight,zoomedMax+halfOutline])}}else{zoomedMin+=left+scrollbarHeight-outlineCorrection;zoomedMax+=left+scrollbarHeight-outlineCorrection;navigatorTop+=halfOutline;path=[["M",left,navigatorTop],["L",zoomedMin,navigatorTop],["L",zoomedMin,navigatorTop+outlineHeight],["L",zoomedMax,navigatorTop+outlineHeight],["L",zoomedMax,navigatorTop],["L",left+navigatorSize+scrollbarHeight*2,navigatorTop],];if(maskInside){path.push(["M",zoomedMin-halfOutline,navigatorTop],["L",zoomedMax+halfOutline,navigatorTop])}}navigator.outline[verb]({d:path,})};Navigator.prototype.drawMasks=function(zoomedMin,zoomedMax,inverted,verb){var navigator=this,left=navigator.left,top=navigator.top,navigatorHeight=navigator.height,height,width,x,y;if(inverted){x=[left,left,left];y=[top,top+zoomedMin,top+zoomedMax];width=[navigatorHeight,navigatorHeight,navigatorHeight];height=[zoomedMin,zoomedMax-zoomedMin,navigator.size-zoomedMax,]}else{x=[left,left+zoomedMin,left+zoomedMax];y=[top,top,top];width=[zoomedMin,zoomedMax-zoomedMin,navigator.size-zoomedMax,];height=[navigatorHeight,navigatorHeight,navigatorHeight]}navigator.shades.forEach(function(shade,i){shade[verb]({x:x[i],y:y[i],width:width[i],height:height[i],})})};Navigator.prototype.renderElements=function(){var navigator=this,navigatorOptions=navigator.navigatorOptions,maskInside=navigatorOptions.maskInside,chart=navigator.chart,inverted=chart.inverted,renderer=chart.renderer,navigatorGroup,mouseCursor={cursor:inverted?"ns-resize":"ew-resize",};navigator.navigatorGroup=navigatorGroup=renderer.g("navigator").attr({zIndex:8,visibility:"hidden",}).add();[!maskInside,maskInside,!maskInside].forEach(function(hasMask,index){navigator.shades[index]=renderer.rect().addClass("highcharts-navigator-mask"+(index===1?"-inside":"-outside")).add(navigatorGroup);if(!chart.styledMode){navigator.shades[index].attr({fill:hasMask?navigatorOptions.maskFill:"rgba(0,0,0,0)",}).css(index===1&&mouseCursor)}});navigator.outline=renderer.path().addClass("highcharts-navigator-outline").add(navigatorGroup);if(!chart.styledMode){navigator.outline.attr({"stroke-width":navigatorOptions.outlineWidth,stroke:navigatorOptions.outlineColor,})}if(navigatorOptions.handles.enabled){[0,1].forEach(function(index){navigatorOptions.handles.inverted=chart.inverted;navigator.handles[index]=renderer.symbol(navigatorOptions.handles.symbols[index],-navigatorOptions.handles.width/2-1,0,navigatorOptions.handles.width,navigatorOptions.handles.height,navigatorOptions.handles);navigator.handles[index].attr({zIndex:7-index}).addClass("highcharts-navigator-handle "+"highcharts-navigator-handle-"+["left","right"][index]).add(navigatorGroup);if(!chart.styledMode){var handlesOptions=navigatorOptions.handles;navigator.handles[index].attr({fill:handlesOptions.backgroundColor,stroke:handlesOptions.borderColor,"stroke-width":handlesOptions.lineWidth,}).css(mouseCursor)}})}};Navigator.prototype.update=function(options){(this.series||[]).forEach(function(series){if(series.baseSeries){delete series.baseSeries.navigatorSeries}});this.destroy();var chartOptions=this.chart.options;merge(true,chartOptions.navigator,this.options,options);this.init(this.chart)};Navigator.prototype.render=function(min,max,pxMin,pxMax){var navigator=this,chart=navigator.chart,navigatorWidth,scrollbarLeft,scrollbarTop,scrollbarHeight=navigator.scrollbarHeight,navigatorSize,xAxis=navigator.xAxis,pointRange=xAxis.pointRange||0,scrollbarXAxis=xAxis.navigatorAxis.fake?chart.xAxis[0]:xAxis,navigatorEnabled=navigator.navigatorEnabled,zoomedMin,zoomedMax,rendered=navigator.rendered,inverted=chart.inverted,verb,newMin,newMax,currentRange,minRange=chart.xAxis[0].minRange,maxRange=chart.xAxis[0].options.maxRange;if(this.hasDragged&&!defined(pxMin)){return}min=correctFloat(min-pointRange/2);max=correctFloat(max+pointRange/2);if(!isNumber(min)||!isNumber(max)){if(rendered){pxMin=0;pxMax=pick(xAxis.width,scrollbarXAxis.width)}else{return}}navigator.left=pick(xAxis.left,chart.plotLeft+scrollbarHeight+(inverted?chart.plotWidth:0));navigator.size=zoomedMax=navigatorSize=pick(xAxis.len,(inverted?chart.plotHeight:chart.plotWidth)-2*scrollbarHeight);if(inverted){navigatorWidth=scrollbarHeight}else{navigatorWidth=navigatorSize+2*scrollbarHeight}pxMin=pick(pxMin,xAxis.toPixels(min,true));pxMax=pick(pxMax,xAxis.toPixels(max,true));if(!isNumber(pxMin)||Math.abs(pxMin)===Infinity){pxMin=0;pxMax=navigatorWidth}newMin=xAxis.toValue(pxMin,true);newMax=xAxis.toValue(pxMax,true);currentRange=Math.abs(correctFloat(newMax-newMin));if(currentRange<minRange){if(this.grabbedLeft){pxMin=xAxis.toPixels(newMax-minRange-pointRange,true)}else if(this.grabbedRight){pxMax=xAxis.toPixels(newMin+minRange+pointRange,true)}}else if(defined(maxRange)&&correctFloat(currentRange-pointRange)>maxRange){if(this.grabbedLeft){pxMin=xAxis.toPixels(newMax-maxRange-pointRange,true)}else if(this.grabbedRight){pxMax=xAxis.toPixels(newMin+maxRange+pointRange,true)}}navigator.zoomedMax=clamp(Math.max(pxMin,pxMax),0,zoomedMax);navigator.zoomedMin=clamp(navigator.fixedWidth?navigator.zoomedMax-navigator.fixedWidth:Math.min(pxMin,pxMax),0,zoomedMax);navigator.range=navigator.zoomedMax-navigator.zoomedMin;zoomedMax=Math.round(navigator.zoomedMax);zoomedMin=Math.round(navigator.zoomedMin);if(navigatorEnabled){navigator.navigatorGroup.attr({visibility:"visible",});verb=rendered&&!navigator.hasDragged?"animate":"attr";navigator.drawMasks(zoomedMin,zoomedMax,inverted,verb);navigator.drawOutline(zoomedMin,zoomedMax,inverted,verb);if(navigator.navigatorOptions.handles.enabled){navigator.drawHandle(zoomedMin,0,inverted,verb);navigator.drawHandle(zoomedMax,1,inverted,verb)}}if(navigator.scrollbar){if(inverted){scrollbarTop=navigator.top-scrollbarHeight;scrollbarLeft=navigator.left-scrollbarHeight+(navigatorEnabled||!scrollbarXAxis.opposite?0:(scrollbarXAxis.titleOffset||0)+scrollbarXAxis.axisTitleMargin);scrollbarHeight=navigatorSize+2*scrollbarHeight}else{scrollbarTop=navigator.top+(navigatorEnabled?navigator.height:-scrollbarHeight);scrollbarLeft=navigator.left-scrollbarHeight}navigator.scrollbar.position(scrollbarLeft,scrollbarTop,navigatorWidth,scrollbarHeight);navigator.scrollbar.setRange(navigator.zoomedMin/(navigatorSize||1),navigator.zoomedMax/(navigatorSize||1))}navigator.rendered=true};Navigator.prototype.addMouseEvents=function(){var navigator=this,chart=navigator.chart,container=chart.container,eventsToUnbind=[],mouseMoveHandler,mouseUpHandler;navigator.mouseMoveHandler=mouseMoveHandler=function(e){navigator.onMouseMove(e)};navigator.mouseUpHandler=mouseUpHandler=function(e){navigator.onMouseUp(e)};eventsToUnbind=navigator.getPartsEvents("mousedown");eventsToUnbind.push(addEvent(chart.renderTo,"mousemove",mouseMoveHandler),addEvent(container.ownerDocument,"mouseup",mouseUpHandler));if(hasTouch){eventsToUnbind.push(addEvent(chart.renderTo,"touchmove",mouseMoveHandler),addEvent(container.ownerDocument,"touchend",mouseUpHandler));eventsToUnbind.concat(navigator.getPartsEvents("touchstart"))}navigator.eventsToUnbind=eventsToUnbind;if(navigator.series&&navigator.series[0]){eventsToUnbind.push(addEvent(navigator.series[0].xAxis,"foundExtremes",function(){chart.navigator.modifyNavigatorAxisExtremes()}))}};Navigator.prototype.getPartsEvents=function(eventName){var navigator=this,events=[];["shades","handles"].forEach(function(name){navigator[name].forEach(function(navigatorItem,index){events.push(addEvent(navigatorItem.element,eventName,function(e){navigator[name+"Mousedown"](e,index)}))})});return events};Navigator.prototype.shadesMousedown=function(e,index){e=this.chart.pointer.normalize(e);var navigator=this,chart=navigator.chart,xAxis=navigator.xAxis,zoomedMin=navigator.zoomedMin,navigatorPosition=navigator.left,navigatorSize=navigator.size,range=navigator.range,chartX=e.chartX,fixedMax,fixedMin,ext,left;if(chart.inverted){chartX=e.chartY;navigatorPosition=navigator.top}if(index===1){navigator.grabbedCenter=chartX;navigator.fixedWidth=range;navigator.dragOffset=chartX-zoomedMin}else{left=chartX-navigatorPosition-range/2;if(index===0){left=Math.max(0,left)}else if(index===2&&left+range>=navigatorSize){left=navigatorSize-range;if(navigator.reversedExtremes){left-=range;fixedMin=navigator.getUnionExtremes().dataMin}else{fixedMax=navigator.getUnionExtremes().dataMax}}if(left!==zoomedMin){navigator.fixedWidth=range;ext=xAxis.navigatorAxis.toFixedRange(left,left+range,fixedMin,fixedMax);if(defined(ext.min)){chart.xAxis[0].setExtremes(Math.min(ext.min,ext.max),Math.max(ext.min,ext.max),true,null,{trigger:"navigator"})}}}};Navigator.prototype.handlesMousedown=function(e,index){e=this.chart.pointer.normalize(e);var navigator=this,chart=navigator.chart,baseXAxis=chart.xAxis[0],reverse=navigator.reversedExtremes;if(index===0){navigator.grabbedLeft=true;navigator.otherHandlePos=navigator.zoomedMax;navigator.fixedExtreme=reverse?baseXAxis.min:baseXAxis.max}else{navigator.grabbedRight=true;navigator.otherHandlePos=navigator.zoomedMin;navigator.fixedExtreme=reverse?baseXAxis.max:baseXAxis.min}chart.fixedRange=null};Navigator.prototype.onMouseMove=function(e){var navigator=this,chart=navigator.chart,left=navigator.left,navigatorSize=navigator.navigatorSize,range=navigator.range,dragOffset=navigator.dragOffset,inverted=chart.inverted,chartX;if(!e.touches||e.touches[0].pageX!==0){e=chart.pointer.normalize(e);chartX=e.chartX;if(inverted){left=navigator.top;chartX=e.chartY}if(navigator.grabbedLeft){navigator.hasDragged=true;navigator.render(0,0,chartX-left,navigator.otherHandlePos)}else if(navigator.grabbedRight){navigator.hasDragged=true;navigator.render(0,0,navigator.otherHandlePos,chartX-left)}else if(navigator.grabbedCenter){navigator.hasDragged=true;if(chartX<dragOffset){chartX=dragOffset}else if(chartX>navigatorSize+dragOffset-range){chartX=navigatorSize+dragOffset-range}navigator.render(0,0,chartX-dragOffset,chartX-dragOffset+range)}if(navigator.hasDragged&&navigator.scrollbar&&pick(navigator.scrollbar.options.liveRedraw,H.svg&&!isTouchDevice&&!this.chart.isBoosting)){e.DOMType=e.type;setTimeout(function(){navigator.onMouseUp(e)},0)}}};Navigator.prototype.onMouseUp=function(e){var navigator=this,chart=navigator.chart,xAxis=navigator.xAxis,scrollbar=navigator.scrollbar,DOMEvent=e.DOMEvent||e,inverted=chart.inverted,verb=navigator.rendered&&!navigator.hasDragged?"animate":"attr",zoomedMax,zoomedMin,unionExtremes,fixedMin,fixedMax,ext;if((navigator.hasDragged&&(!scrollbar||!scrollbar.hasDragged))||e.trigger==="scrollbar"){unionExtremes=navigator.getUnionExtremes();if(navigator.zoomedMin===navigator.otherHandlePos){fixedMin=navigator.fixedExtreme}else if(navigator.zoomedMax===navigator.otherHandlePos){fixedMax=navigator.fixedExtreme}if(navigator.zoomedMax===navigator.size){fixedMax=navigator.reversedExtremes?unionExtremes.dataMin:unionExtremes.dataMax}if(navigator.zoomedMin===0){fixedMin=navigator.reversedExtremes?unionExtremes.dataMax:unionExtremes.dataMin}ext=xAxis.navigatorAxis.toFixedRange(navigator.zoomedMin,navigator.zoomedMax,fixedMin,fixedMax);if(defined(ext.min)){chart.xAxis[0].setExtremes(Math.min(ext.min,ext.max),Math.max(ext.min,ext.max),true,navigator.hasDragged?false:null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:DOMEvent,})}}if(e.DOMType!=="mousemove"&&e.DOMType!=="touchmove"){navigator.grabbedLeft=navigator.grabbedRight=navigator.grabbedCenter=navigator.fixedWidth=navigator.fixedExtreme=navigator.otherHandlePos=navigator.hasDragged=navigator.dragOffset=null}if(navigator.navigatorEnabled&&isNumber(navigator.zoomedMin)&&isNumber(navigator.zoomedMax)){zoomedMin=Math.round(navigator.zoomedMin);zoomedMax=Math.round(navigator.zoomedMax);if(navigator.shades){navigator.drawMasks(zoomedMin,zoomedMax,inverted,verb)}if(navigator.outline){navigator.drawOutline(zoomedMin,zoomedMax,inverted,verb)}if(navigator.navigatorOptions.handles.enabled&&Object.keys(navigator.handles).length===navigator.handles.length){navigator.drawHandle(zoomedMin,0,inverted,verb);navigator.drawHandle(zoomedMax,1,inverted,verb)}}};Navigator.prototype.removeEvents=function(){if(this.eventsToUnbind){this.eventsToUnbind.forEach(function(unbind){unbind()});this.eventsToUnbind=void 0}this.removeBaseSeriesEvents()};Navigator.prototype.removeBaseSeriesEvents=function(){var baseSeries=this.baseSeries||[];if(this.navigatorEnabled&&baseSeries[0]){if(this.navigatorOptions.adaptToUpdatedData!==false){baseSeries.forEach(function(series){removeEvent(series,"updatedData",this.updatedDataHandler)},this)}if(baseSeries[0].xAxis){removeEvent(baseSeries[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)}}};Navigator.prototype.init=function(chart){var chartOptions=chart.options,navigatorOptions=chartOptions.navigator,navigatorEnabled=navigatorOptions.enabled,scrollbarOptions=chartOptions.scrollbar,scrollbarEnabled=scrollbarOptions.enabled,height=navigatorEnabled?navigatorOptions.height:0,scrollbarHeight=scrollbarEnabled?scrollbarOptions.height:0;this.handles=[];this.shades=[];this.chart=chart;this.setBaseSeries();this.height=height;this.scrollbarHeight=scrollbarHeight;this.scrollbarEnabled=scrollbarEnabled;this.navigatorEnabled=navigatorEnabled;this.navigatorOptions=navigatorOptions;this.scrollbarOptions=scrollbarOptions;this.outlineHeight=height+scrollbarHeight;this.opposite=pick(navigatorOptions.opposite,Boolean(!navigatorEnabled&&chart.inverted));var navigator=this,baseSeries=navigator.baseSeries,xAxisIndex=chart.xAxis.length,yAxisIndex=chart.yAxis.length,baseXaxis=(baseSeries&&baseSeries[0]&&baseSeries[0].xAxis)||chart.xAxis[0]||{options:{}};chart.isDirtyBox=true;if(navigator.navigatorEnabled){navigator.xAxis=new Axis(chart,merge({breaks:baseXaxis.options.breaks,ordinal:baseXaxis.options.ordinal,},navigatorOptions.xAxis,{id:"navigator-x-axis",yAxis:"navigator-y-axis",isX:true,type:"datetime",index:xAxisIndex,isInternal:true,offset:0,keepOrdinalPadding:true,startOnTick:false,endOnTick:false,minPadding:0,maxPadding:0,zoomEnabled:false,},chart.inverted?{offsets:[scrollbarHeight,0,-scrollbarHeight,0],width:height,}:{offsets:[0,-scrollbarHeight,0,scrollbarHeight],height:height,}));navigator.yAxis=new Axis(chart,merge(navigatorOptions.yAxis,{id:"navigator-y-axis",alignTicks:false,offset:0,index:yAxisIndex,isInternal:true,reversed:pick(navigatorOptions.yAxis&&navigatorOptions.yAxis.reversed,chart.yAxis[0]&&chart.yAxis[0].reversed,false),zoomEnabled:false,},chart.inverted?{width:height,}:{height:height,}));if(baseSeries||navigatorOptions.series.data){navigator.updateNavigatorSeries(false)}else if(chart.series.length===0){navigator.unbindRedraw=addEvent(chart,"beforeRedraw",function(){if(chart.series.length>0&&!navigator.series){navigator.setBaseSeries();navigator.unbindRedraw()}})}navigator.reversedExtremes=(chart.inverted&&!navigator.xAxis.reversed)||(!chart.inverted&&navigator.xAxis.reversed);navigator.renderElements();navigator.addMouseEvents()}else{navigator.xAxis={chart:chart,navigatorAxis:{fake:true,},translate:function(value,reverse){var axis=chart.xAxis[0],ext=axis.getExtremes(),scrollTrackWidth=axis.len-2*scrollbarHeight,min=numExt("min",axis.options.min,ext.dataMin),valueRange=numExt("max",axis.options.max,ext.dataMax)-min;return reverse?(value*valueRange)/scrollTrackWidth+min:(scrollTrackWidth*(value-min))/valueRange},toPixels:function(value){return this.translate(value)},toValue:function(value){return this.translate(value,true)},};navigator.xAxis.navigatorAxis.axis=navigator.xAxis;navigator.xAxis.navigatorAxis.toFixedRange=NavigatorAxis.AdditionsClass.prototype.toFixedRange.bind(navigator.xAxis.navigatorAxis)}if(chart.options.scrollbar.enabled){chart.scrollbar=navigator.scrollbar=new Scrollbar(chart.renderer,merge(chart.options.scrollbar,{margin:navigator.navigatorEnabled?0:10,vertical:chart.inverted,}),chart);addEvent(navigator.scrollbar,"changed",function(e){var range=navigator.size,to=range*this.to,from=range*this.from;navigator.hasDragged=navigator.scrollbar.hasDragged;navigator.render(0,0,from,to);if(this.shouldUpdateExtremes(e.DOMType)){setTimeout(function(){navigator.onMouseUp(e)})}})}navigator.addBaseSeriesEvents();navigator.addChartEvents()};Navigator.prototype.getUnionExtremes=function(returnFalseOnNoBaseSeries){var baseAxis=this.chart.xAxis[0],navAxis=this.xAxis,navAxisOptions=navAxis.options,baseAxisOptions=baseAxis.options,ret;if(!returnFalseOnNoBaseSeries||baseAxis.dataMin!==null){ret={dataMin:pick(navAxisOptions&&navAxisOptions.min,numExt("min",baseAxisOptions.min,baseAxis.dataMin,navAxis.dataMin,navAxis.min)),dataMax:pick(navAxisOptions&&navAxisOptions.max,numExt("max",baseAxisOptions.max,baseAxis.dataMax,navAxis.dataMax,navAxis.max)),}}return ret};Navigator.prototype.setBaseSeries=function(baseSeriesOptions,redraw){var chart=this.chart,baseSeries=(this.baseSeries=[]);baseSeriesOptions=baseSeriesOptions||(chart.options&&chart.options.navigator.baseSeries)||(chart.series.length?find(chart.series,function(s){return!s.options.isInternal}).index:0);(chart.series||[]).forEach(function(series,i){if(!series.options.isInternal&&(series.options.showInNavigator||((i===baseSeriesOptions||series.options.id===baseSeriesOptions)&&series.options.showInNavigator!==false))){baseSeries.push(series)}});if(this.xAxis&&!this.xAxis.navigatorAxis.fake){this.updateNavigatorSeries(true,redraw)}};Navigator.prototype.updateNavigatorSeries=function(addEvents,redraw){var navigator=this,chart=navigator.chart,baseSeries=navigator.baseSeries,baseOptions,mergedNavSeriesOptions,chartNavigatorSeriesOptions=navigator.navigatorOptions.series,baseNavigatorOptions,navSeriesMixin={enableMouseTracking:false,index:null,linkedTo:null,group:"nav",padXAxis:false,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",showInLegend:false,stacking:void 0,isInternal:true,states:{inactive:{opacity:1,},},},navigatorSeries=(navigator.series=(navigator.series||[]).filter(function(navSeries){var base=navSeries.baseSeries;if(baseSeries.indexOf(base)<0){if(base){removeEvent(base,"updatedData",navigator.updatedDataHandler);delete base.navigatorSeries}if(navSeries.chart){navSeries.destroy()}return false}return true}));if(baseSeries&&baseSeries.length){baseSeries.forEach(function eachBaseSeries(base){var linkedNavSeries=base.navigatorSeries,userNavOptions=extend({color:base.color,visible:base.visible,},!isArray(chartNavigatorSeriesOptions)?chartNavigatorSeriesOptions:defaultOptions.navigator.series);if(linkedNavSeries&&navigator.navigatorOptions.adaptToUpdatedData===false){return}navSeriesMixin.name="Navigator "+baseSeries.length;baseOptions=base.options||{};baseNavigatorOptions=baseOptions.navigatorOptions||{};userNavOptions.dataLabels=splat(userNavOptions.dataLabels);mergedNavSeriesOptions=merge(baseOptions,navSeriesMixin,userNavOptions,baseNavigatorOptions);mergedNavSeriesOptions.pointRange=pick(userNavOptions.pointRange,baseNavigatorOptions.pointRange,defaultOptions.plotOptions[mergedNavSeriesOptions.type||"line"].pointRange);var navigatorSeriesData=baseNavigatorOptions.data||userNavOptions.data;navigator.hasNavigatorData=navigator.hasNavigatorData||!!navigatorSeriesData;mergedNavSeriesOptions.data=navigatorSeriesData||(baseOptions.data&&baseOptions.data.slice(0));if(linkedNavSeries&&linkedNavSeries.options){linkedNavSeries.update(mergedNavSeriesOptions,redraw)}else{base.navigatorSeries=chart.initSeries(mergedNavSeriesOptions);base.navigatorSeries.baseSeries=base;navigatorSeries.push(base.navigatorSeries)}})}if((chartNavigatorSeriesOptions.data&&!(baseSeries&&baseSeries.length))||isArray(chartNavigatorSeriesOptions)){navigator.hasNavigatorData=false;chartNavigatorSeriesOptions=splat(chartNavigatorSeriesOptions);chartNavigatorSeriesOptions.forEach(function(userSeriesOptions,i){navSeriesMixin.name="Navigator "+(navigatorSeries.length+1);mergedNavSeriesOptions=merge(defaultOptions.navigator.series,{color:(chart.series[i]&&!chart.series[i].options.isInternal&&chart.series[i].color)||chart.options.colors[i]||chart.options.colors[0],},navSeriesMixin,userSeriesOptions);mergedNavSeriesOptions.data=userSeriesOptions.data;if(mergedNavSeriesOptions.data){navigator.hasNavigatorData=true;navigatorSeries.push(chart.initSeries(mergedNavSeriesOptions))}})}if(addEvents){this.addBaseSeriesEvents()}};Navigator.prototype.addBaseSeriesEvents=function(){var navigator=this,baseSeries=navigator.baseSeries||[];if(baseSeries[0]&&baseSeries[0].xAxis){baseSeries[0].eventsToUnbind.push(addEvent(baseSeries[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))}baseSeries.forEach(function(base){base.eventsToUnbind.push(addEvent(base,"show",function(){if(this.navigatorSeries){this.navigatorSeries.setVisible(true,false)}}));base.eventsToUnbind.push(addEvent(base,"hide",function(){if(this.navigatorSeries){this.navigatorSeries.setVisible(false,false)}}));if(this.navigatorOptions.adaptToUpdatedData!==false){if(base.xAxis){base.eventsToUnbind.push(addEvent(base,"updatedData",this.updatedDataHandler))}}base.eventsToUnbind.push(addEvent(base,"remove",function(){if(this.navigatorSeries){erase(navigator.series,this.navigatorSeries);if(defined(this.navigatorSeries.options)){this.navigatorSeries.remove(false)}delete this.navigatorSeries}}))},this)};Navigator.prototype.getBaseSeriesMin=function(currentSeriesMin){return this.baseSeries.reduce(function(min,series){return Math.min(min,series.xData?series.xData[0]:min)},currentSeriesMin)};Navigator.prototype.modifyNavigatorAxisExtremes=function(){var xAxis=this.xAxis,unionExtremes;if(typeof xAxis.getExtremes!=="undefined"){unionExtremes=this.getUnionExtremes(true);if(unionExtremes&&(unionExtremes.dataMin!==xAxis.min||unionExtremes.dataMax!==xAxis.max)){xAxis.min=unionExtremes.dataMin;xAxis.max=unionExtremes.dataMax}}};Navigator.prototype.modifyBaseAxisExtremes=function(){var baseXAxis=this,navigator=baseXAxis.chart.navigator,baseExtremes=baseXAxis.getExtremes(),baseMin=baseExtremes.min,baseMax=baseExtremes.max,baseDataMin=baseExtremes.dataMin,baseDataMax=baseExtremes.dataMax,range=baseMax-baseMin,stickToMin=navigator.stickToMin,stickToMax=navigator.stickToMax,overscroll=pick(baseXAxis.options.overscroll,0),newMax,newMin,navigatorSeries=navigator.series&&navigator.series[0],hasSetExtremes=!!baseXAxis.setExtremes,unmutable=baseXAxis.eventArgs&&baseXAxis.eventArgs.trigger==="rangeSelectorButton";if(!unmutable){if(stickToMin){newMin=baseDataMin;newMax=newMin+range}if(stickToMax){newMax=baseDataMax+overscroll;if(!stickToMin){newMin=Math.max(baseDataMin,newMax-range,navigator.getBaseSeriesMin(navigatorSeries&&navigatorSeries.xData?navigatorSeries.xData[0]:-Number.MAX_VALUE))}}if(hasSetExtremes&&(stickToMin||stickToMax)){if(isNumber(newMin)){baseXAxis.min=baseXAxis.userMin=newMin;baseXAxis.max=baseXAxis.userMax=newMax}}}navigator.stickToMin=navigator.stickToMax=null};Navigator.prototype.updatedDataHandler=function(){var navigator=this.chart.navigator,baseSeries=this,navigatorSeries=this.navigatorSeries;navigator.stickToMax=navigator.reversedExtremes?Math.round(navigator.zoomedMin)===0:Math.round(navigator.zoomedMax)>=Math.round(navigator.size);navigator.stickToMin=navigator.shouldStickToMin(baseSeries,navigator);if(navigatorSeries&&!navigator.hasNavigatorData){navigatorSeries.options.pointStart=baseSeries.xData[0];navigatorSeries.setData(baseSeries.options.data,false,null,false)}};Navigator.prototype.shouldStickToMin=function(baseSeries,navigator){var xDataMin=navigator.getBaseSeriesMin(baseSeries.xData[0]),xAxis=baseSeries.xAxis,max=xAxis.max,min=xAxis.min,range=xAxis.options.range;var stickToMin=true;if(isNumber(max)&&isNumber(min)){if(range&&max-xDataMin>0){stickToMin=max-xDataMin<range}else{stickToMin=min<=xDataMin}}else{stickToMin=false}return stickToMin};Navigator.prototype.addChartEvents=function(){if(!this.eventsToUnbind){this.eventsToUnbind=[]}this.eventsToUnbind.push(addEvent(this.chart,"redraw",function(){var navigator=this.navigator,xAxis=navigator&&((navigator.baseSeries&&navigator.baseSeries[0]&&navigator.baseSeries[0].xAxis)||this.xAxis[0]);if(xAxis){navigator.render(xAxis.min,xAxis.max)}}),addEvent(this.chart,"getMargins",function(){var chart=this,navigator=chart.navigator,marginName=navigator.opposite?"plotTop":"marginBottom";if(chart.inverted){marginName=navigator.opposite?"marginRight":"plotLeft"}chart[marginName]=(chart[marginName]||0)+(navigator.navigatorEnabled||!chart.inverted?navigator.outlineHeight:0)+navigator.navigatorOptions.margin}))};Navigator.prototype.destroy=function(){this.removeEvents();if(this.xAxis){erase(this.chart.xAxis,this.xAxis);erase(this.chart.axes,this.xAxis)}if(this.yAxis){erase(this.chart.yAxis,this.yAxis);erase(this.chart.axes,this.yAxis)}(this.series||[]).forEach(function(s){if(s.destroy){s.destroy()}});["series","xAxis","yAxis","shades","outline","scrollbarTrack","scrollbarRifles","scrollbarGroup","scrollbar","navigatorGroup","rendered",].forEach(function(prop){if(this[prop]&&this[prop].destroy){this[prop].destroy()}this[prop]=null},this);[this.handles].forEach(function(coll){destroyObjectProperties(coll)},this)};return Navigator})();if(!H.Navigator){H.Navigator=Navigator;NavigatorAxis.compose(Axis);addEvent(Chart,"beforeShowResetZoom",function(){var chartOptions=this.options,navigator=chartOptions.navigator,rangeSelector=chartOptions.rangeSelector;if(((navigator&&navigator.enabled)||(rangeSelector&&rangeSelector.enabled))&&((!isTouchDevice&&chartOptions.chart.zoomType==="x")||(isTouchDevice&&chartOptions.chart.pinchType==="x"))){return false}});addEvent(Chart,"beforeRender",function(){var options=this.options;if(options.navigator.enabled||options.scrollbar.enabled){this.scroller=this.navigator=new Navigator(this)}});addEvent(Chart,"afterSetChartSize",function(){var legend=this.legend,navigator=this.navigator,scrollbarHeight,legendOptions,xAxis,yAxis;if(navigator){legendOptions=legend&&legend.options;xAxis=navigator.xAxis;yAxis=navigator.yAxis;scrollbarHeight=navigator.scrollbarHeight;if(this.inverted){navigator.left=navigator.opposite?this.chartWidth-scrollbarHeight-navigator.height:this.spacing[3]+scrollbarHeight;navigator.top=this.plotTop+scrollbarHeight}else{navigator.left=pick(xAxis.left,this.plotLeft+scrollbarHeight);navigator.top=navigator.navigatorOptions.top||this.chartHeight-navigator.height-scrollbarHeight-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(legendOptions&&legendOptions.verticalAlign==="bottom"&&legendOptions.layout!=="proximate"&&legendOptions.enabled&&!legendOptions.floating?legend.legendHeight+pick(legendOptions.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)}if(xAxis&&yAxis){if(this.inverted){xAxis.options.left=yAxis.options.left=navigator.left}else{xAxis.options.top=yAxis.options.top=navigator.top}xAxis.setAxisSize();yAxis.setAxisSize()}}});addEvent(Chart,"update",function(e){var navigatorOptions=e.options.navigator||{},scrollbarOptions=e.options.scrollbar||{};if(!this.navigator&&!this.scroller&&(navigatorOptions.enabled||scrollbarOptions.enabled)){merge(true,this.options.navigator,navigatorOptions);merge(true,this.options.scrollbar,scrollbarOptions);delete e.options.navigator;delete e.options.scrollbar}});addEvent(Chart,"afterUpdate",function(event){if(!this.navigator&&!this.scroller&&(this.options.navigator.enabled||this.options.scrollbar.enabled)){this.scroller=this.navigator=new Navigator(this);if(pick(event.redraw,true)){this.redraw(event.animation)}}});addEvent(Chart,"afterAddSeries",function(){if(this.navigator){this.navigator.setBaseSeries(null,false)}});addEvent(Series,"afterUpdate",function(){if(this.chart.navigator&&!this.options.isInternal){this.chart.navigator.setBaseSeries(null,false)}});Chart.prototype.callbacks.push(function(chart){var extremes,navigator=chart.navigator;if(navigator&&chart.xAxis[0]){extremes=chart.xAxis[0].getExtremes();navigator.render(extremes.min,extremes.max)}})}H.Navigator=Navigator;return H.Navigator});_registerModule(_modules,"masters/modules/gantt.src.js",[_modules["Core/Globals.js"],_modules["Core/Chart/GanttChart.js"],_modules["Core/Scrollbar.js"],],function(Highcharts,GanttChart,Scrollbar){var G=Highcharts;G.Scrollbar=Scrollbar;G.GanttChart=GanttChart;G.ganttChart=GanttChart.ganttChart;Scrollbar.compose(G.Axis)});_registerModule(_modules,"masters/highcharts-gantt.src.js",[_modules["masters/highcharts.src.js"]],function(Highcharts){Highcharts.product="Highcharts Gantt";return Highcharts});_registerModule(_modules,"Extensions/DraggablePoints.js",[_modules["Core/Animation/AnimationUtilities.js"],_modules["Core/Chart/Chart.js"],_modules["Core/Globals.js"],_modules["Core/Series/Point.js"],_modules["Core/Series/Series.js"],_modules["Core/Series/SeriesRegistry.js"],_modules["Core/Utilities.js"],],function(A,Chart,H,Point,Series,SeriesRegistry,U){var animObject=A.animObject;var seriesTypes=SeriesRegistry.seriesTypes;var addEvent=U.addEvent,clamp=U.clamp,isNumber=U.isNumber,merge=U.merge,objectEach=U.objectEach,pick=U.pick;function flipResizeSide(side){return{left:"right",right:"left",top:"bottom",bottom:"top",}[side]}var horizHandleFormatter=function(point){var shapeArgs=point.shapeArgs||point.graphic.getBBox(),top=shapeArgs.r||0,bottom=shapeArgs.height-top,centerY=shapeArgs.height/2;return[["M",0,top],["L",0,centerY-5],["A",1,1,0,0,0,0,centerY+5],["A",1,1,0,0,0,0,centerY-5],["M",0,centerY+5],["L",0,bottom],]};var lineDragDropProps=(Series.prototype.dragDropProps={x:{axis:"x",move:true,},y:{axis:"y",move:true,},});if(seriesTypes.flags){seriesTypes.flags.prototype.dragDropProps=lineDragDropProps}var columnDragDropProps=(seriesTypes.column.prototype.dragDropProps={x:{axis:"x",move:true,},y:{axis:"y",move:false,resize:true,beforeResize:function(guideBox,pointVals,point){var threshold=point.series.translatedThreshold,y=guideBox.attr("y"),height,diff;if(pointVals.y>=point.series.options.threshold||0){height=guideBox.attr("height");diff=threshold?threshold-(y+height):0;guideBox.attr({height:Math.max(0,Math.round(height+diff)),})}else{guideBox.attr({y:Math.round(y+(threshold?threshold-y:0)),})}},resizeSide:function(pointVals,point){var chart=point.series.chart,dragHandles=chart.dragHandles,side=pointVals.y>=(point.series.options.threshold||0)?"top":"bottom",flipSide=flipResizeSide(side);if(dragHandles[flipSide]){dragHandles[flipSide].destroy();delete dragHandles[flipSide]}return side},handlePositioner:function(point){var bBox=point.shapeArgs||(point.graphic&&point.graphic.getBBox())||{},reversed=point.series.yAxis.reversed,threshold=point.series.options.threshold||0,y=point.y||0,bottom=(!reversed&&y>=threshold)||(reversed&&y<threshold);return{x:bBox.x||0,y:bottom?bBox.y||0:(bBox.y||0)+(bBox.height||0),}},handleFormatter:function(point){var shapeArgs=point.shapeArgs||{},radius=shapeArgs.r||0,width=shapeArgs.width||0,centerX=width/2;return[["M",radius,0],["L",centerX-5,0],["A",1,1,0,0,0,centerX+5,0],["A",1,1,0,0,0,centerX-5,0],["M",centerX+5,0],["L",width-radius,0],]},},});if(seriesTypes.bullet){seriesTypes.bullet.prototype.dragDropProps={x:columnDragDropProps.x,y:columnDragDropProps.y,target:{optionName:"draggableTarget",axis:"y",move:true,resize:true,resizeSide:"top",handlePositioner:function(point){var bBox=point.targetGraphic.getBBox();return{x:point.barX,y:bBox.y+bBox.height/2,}},handleFormatter:columnDragDropProps.y.handleFormatter,},}}if(seriesTypes.columnrange){seriesTypes.columnrange.prototype.dragDropProps={x:{axis:"x",move:true,},low:{optionName:"draggableLow",axis:"y",move:true,resize:true,resizeSide:"bottom",handlePositioner:function(point){var bBox=point.shapeArgs||point.graphic.getBBox();return{x:bBox.x||0,y:(bBox.y||0)+(bBox.height||0),}},handleFormatter:columnDragDropProps.y.handleFormatter,propValidate:function(val,point){return val<=point.high},},high:{optionName:"draggableHigh",axis:"y",move:true,resize:true,resizeSide:"top",handlePositioner:function(point){var bBox=point.shapeArgs||point.graphic.getBBox();return{x:bBox.x||0,y:bBox.y||0,}},handleFormatter:columnDragDropProps.y.handleFormatter,propValidate:function(val,point){return val>=point.low},},}}if(seriesTypes.boxplot){seriesTypes.boxplot.prototype.dragDropProps={x:columnDragDropProps.x,low:{optionName:"draggableLow",axis:"y",move:true,resize:true,resizeSide:"bottom",handlePositioner:function(point){return{x:point.shapeArgs.x||0,y:point.lowPlot,}},handleFormatter:columnDragDropProps.y.handleFormatter,propValidate:function(val,point){return val<=point.q1},},q1:{optionName:"draggableQ1",axis:"y",move:true,resize:true,resizeSide:"bottom",handlePositioner:function(point){return{x:point.shapeArgs.x||0,y:point.q1Plot,}},handleFormatter:columnDragDropProps.y.handleFormatter,propValidate:function(val,point){return val<=point.median&&val>=point.low},},median:{axis:"y",move:true,},q3:{optionName:"draggableQ3",axis:"y",move:true,resize:true,resizeSide:"top",handlePositioner:function(point){return{x:point.shapeArgs.x||0,y:point.q3Plot,}},handleFormatter:columnDragDropProps.y.handleFormatter,propValidate:function(val,point){return val<=point.high&&val>=point.median},},high:{optionName:"draggableHigh",axis:"y",move:true,resize:true,resizeSide:"top",handlePositioner:function(point){return{x:point.shapeArgs.x||0,y:point.highPlot,}},handleFormatter:columnDragDropProps.y.handleFormatter,propValidate:function(val,point){return val>=point.q3},},}}if(seriesTypes.ohlc){seriesTypes.ohlc.prototype.dragDropProps={x:columnDragDropProps.x,low:{optionName:"draggableLow",axis:"y",move:true,resize:true,resizeSide:"bottom",handlePositioner:function(point){return{x:point.shapeArgs.x,y:point.plotLow,}},handleFormatter:columnDragDropProps.y.handleFormatter,propValidate:function(val,point){return val<=point.open&&val<=point.close},},high:{optionName:"draggableHigh",axis:"y",move:true,resize:true,resizeSide:"top",handlePositioner:function(point){return{x:point.shapeArgs.x,y:point.plotHigh,}},handleFormatter:columnDragDropProps.y.handleFormatter,propValidate:function(val,point){return val>=point.open&&val>=point.close},},open:{optionName:"draggableOpen",axis:"y",move:true,resize:true,resizeSide:function(point){return point.open>=point.close?"top":"bottom"},handlePositioner:function(point){return{x:point.shapeArgs.x,y:point.plotOpen,}},handleFormatter:columnDragDropProps.y.handleFormatter,propValidate:function(val,point){return val<=point.high&&val>=point.low},},close:{optionName:"draggableClose",axis:"y",move:true,resize:true,resizeSide:function(point){return point.open>=point.close?"bottom":"top"},handlePositioner:function(point){return{x:point.shapeArgs.x,y:point.plotClose,}},handleFormatter:columnDragDropProps.y.handleFormatter,propValidate:function(val,point){return val<=point.high&&val>=point.low},},}}if(seriesTypes.arearange){var columnrangeDragDropProps=seriesTypes.columnrange.prototype.dragDropProps,arearangeHandleFormatter=function(point){var radius=point.graphic?point.graphic.getBBox().width/2+1:4;return[["M",0-radius,0],["a",radius,radius,0,1,0,radius*2,0],["a",radius,radius,0,1,0,radius*-2,0],]};seriesTypes.arearange.prototype.dragDropProps={x:columnrangeDragDropProps.x,low:{optionName:"draggableLow",axis:"y",move:true,resize:true,resizeSide:"bottom",handlePositioner:function(point){var bBox=point.lowerGraphic&&point.lowerGraphic.getBBox();return bBox?{x:bBox.x+bBox.width/2,y:bBox.y+bBox.height/2,}:{x:-999,y:-999}},handleFormatter:arearangeHandleFormatter,propValidate:columnrangeDragDropProps.low.propValidate,},high:{optionName:"draggableHigh",axis:"y",move:true,resize:true,resizeSide:"top",handlePositioner:function(point){var bBox=point.upperGraphic&&point.upperGraphic.getBBox();return bBox?{x:bBox.x+bBox.width/2,y:bBox.y+bBox.height/2,}:{x:-999,y:-999}},handleFormatter:arearangeHandleFormatter,propValidate:columnrangeDragDropProps.high.propValidate,},}}if(seriesTypes.waterfall){seriesTypes.waterfall.prototype.dragDropProps={x:columnDragDropProps.x,y:merge(columnDragDropProps.y,{handleFormatter:function(point){return point.isSum||point.isIntermediateSum?null:columnDragDropProps.y.handleFormatter(point)},}),}}if(seriesTypes.xrange){var xrangeHandlePositioner_1=function(point,xProp){var series=point.series,xAxis=series.xAxis,yAxis=series.yAxis,inverted=series.chart.inverted,newX=xAxis.toPixels(point[xProp],true),newY=yAxis.toPixels(point.y,true),offsetY=series.columnMetrics?series.columnMetrics.offset:-point.shapeArgs.height/2;if(inverted){newX=xAxis.len-newX;newY=yAxis.len-newY}newY+=offsetY;return{x:Math.round(newX),y:Math.round(newY),}},xrangeDragDropProps=(seriesTypes.xrange.prototype.dragDropProps={y:{axis:"y",move:true,},x:{optionName:"draggableX1",axis:"x",move:true,resize:true,resizeSide:"left",handlePositioner:function(point){return xrangeHandlePositioner_1(point,"x")},handleFormatter:horizHandleFormatter,propValidate:function(val,point){return val<=point.x2},},x2:{optionName:"draggableX2",axis:"x",move:true,resize:true,resizeSide:"right",handlePositioner:function(point){return xrangeHandlePositioner_1(point,"x2")},handleFormatter:horizHandleFormatter,propValidate:function(val,point){return val>=point.x},},});if(seriesTypes.gantt){seriesTypes.gantt.prototype.dragDropProps={y:xrangeDragDropProps.y,start:merge(xrangeDragDropProps.x,{optionName:"draggableStart",validateIndividualDrag:function(point){return!point.milestone},}),end:merge(xrangeDragDropProps.x2,{optionName:"draggableEnd",validateIndividualDrag:function(point){return!point.milestone},}),}}}["gauge","pie","sunburst","wordcloud","sankey","histogram","pareto","vector","windbarb","treemap","bellcurve","sma","map","mapline",].forEach(function(type){if(seriesTypes[type]){seriesTypes[type].prototype.dragDropProps=null}});var defaultDragSensitivity=2;var defaultGuideBoxOptions={default:{className:"highcharts-drag-box-default",lineWidth:1,lineColor:"#888",color:"rgba(0, 0, 0, 0.1)",cursor:"move",zIndex:900,},};var defaultDragHandleOptions={className:"highcharts-drag-handle",color:"#fff",lineColor:"rgba(0, 0, 0, 0.6)",lineWidth:1,zIndex:901,};function isSeriesDraggable(series){var props=["draggableX","draggableY"],i;objectEach(series.dragDropProps,function(val){if(val.optionName){props.push(val.optionName)}});i=props.length;while(i--){if(series.options.dragDrop[props[i]]){return true}}}function isChartDraggable(chart){var i=chart.series?chart.series.length:0;if(chart.hasCartesianSeries&&!chart.polar){while(i--){if(chart.series[i].options.dragDrop&&isSeriesDraggable(chart.series[i])){return true}}}}function isPointMovable(point){var series=point.series,seriesDragDropOptions=series.options.dragDrop||{},pointDragDropOptions=point.options&&point.options.dragDrop,updateProps=series.dragDropProps,hasMovableX,hasMovableY;objectEach(updateProps,function(p){if(p.axis==="x"&&p.move){hasMovableX=true}else if(p.axis==="y"&&p.move){hasMovableY=true}});return(((seriesDragDropOptions.draggableX&&hasMovableX)||(seriesDragDropOptions.draggableY&&hasMovableY))&&!(pointDragDropOptions&&pointDragDropOptions.draggableX===false&&pointDragDropOptions.draggableY===false)&&series.yAxis&&series.xAxis)}function getNormalizedEvent(e,chart){return typeof e.chartX==="undefined"||typeof e.chartY==="undefined"?chart.pointer.normalize(e):e}function addEvents(el,types,fn,options){var removeFuncs=types.map(function(type){return addEvent(el,type,fn,options)});return function(){removeFuncs.forEach(function(fn){fn()})}}function hasDraggedPastSensitivity(e,chart,sensitivity){var orig=chart.dragDropData.origin,oldX=orig.chartX,oldY=orig.chartY,newX=e.chartX,newY=e.chartY,distance=Math.sqrt((newX-oldX)*(newX-oldX)+(newY-oldY)*(newY-oldY));return distance>sensitivity}function getPositionSnapshot(e,points,guideBox){var res={chartX:e.chartX,chartY:e.chartY,guideBox:guideBox&&{x:guideBox.attr("x"),y:guideBox.attr("y"),width:guideBox.attr("width"),height:guideBox.attr("height"),},points:{},};points.forEach(function(point){var pointProps={};objectEach(point.series.dragDropProps,function(val,key){var axis=point.series[val.axis+"Axis"];pointProps[key]=point[key];pointProps[key+"Offset"]=axis.toPixels(point[key])-(axis.horiz?e.chartX:e.chartY)});pointProps.point=point;res.points[point.id]=pointProps});return res}function getGroupedPoints(point){var series=point.series,points=[],groupKey=series.options.dragDrop.groupBy;if(series.isSeriesBoosting){series.options.data.forEach(function(pointOptions,i){points.push(new series.pointClass().init(series,pointOptions));points[points.length-1].index=i})}else{points=series.points}return point.options[groupKey]?points.filter(function(comparePoint){return comparePoint.options[groupKey]===point.options[groupKey]}):[point]}function resizeRect(rect,updateSide,update){var resizeAttrs;switch(updateSide){case"left":resizeAttrs={x:rect.attr("x")+update.x,width:Math.max(1,rect.attr("width")-update.x),};break;case"right":resizeAttrs={width:Math.max(1,rect.attr("width")+update.x),};break;case"top":resizeAttrs={y:rect.attr("y")+update.y,height:Math.max(1,rect.attr("height")-update.y),};break;case"bottom":resizeAttrs={height:Math.max(1,rect.attr("height")+update.y),};break;default:}rect.attr(resizeAttrs)}function initDragDrop(e,point){var groupedPoints=getGroupedPoints(point),series=point.series,chart=series.chart,guideBox;if(!pick(series.options.dragDrop&&series.options.dragDrop.liveRedraw,true)){chart.dragGuideBox=guideBox=series.getGuideBox(groupedPoints);chart.setGuideBoxState("default",series.options.dragDrop.guideBox).add(series.group)}chart.dragDropData={origin:getPositionSnapshot(e,groupedPoints,guideBox),point:point,groupedPoints:groupedPoints,isDragging:true,}}function getNewPoints(dragDropData,newPos){var point=dragDropData.point,series=point.series,options=merge(series.options.dragDrop,point.options.dragDrop),updateProps={},resizeProp=dragDropData.updateProp,hashmap={};objectEach(point.series.dragDropProps,function(val,key){if(resizeProp&&(resizeProp!==key||!val.resize||(val.optionName&&options[val.optionName]===false))){return}if(resizeProp||(val.move&&((val.axis==="x"&&options.draggableX)||(val.axis==="y"&&options.draggableY)))){updateProps[key]=val}});(resizeProp?[point]:dragDropData.groupedPoints).forEach(function(p){hashmap[p.id]={point:p,newValues:p.getDropValues(dragDropData.origin,newPos,updateProps),}});return hashmap}function updatePoints(chart,animation){var newPoints=chart.dragDropData.newPoints,animOptions=animObject(animation);chart.isDragDropAnimating=true;objectEach(newPoints,function(newPoint){newPoint.point.update(newPoint.newValues,false)});chart.redraw(animOptions);setTimeout(function(){delete chart.isDragDropAnimating;if(chart.hoverPoint&&!chart.dragHandles){chart.hoverPoint.showDragHandles()}},animOptions.duration)}function resizeGuideBox(point,dX,dY){var series=point.series,chart=series.chart,dragDropData=chart.dragDropData,resizeSide,newPoint,resizeProp=series.dragDropProps[dragDropData.updateProp];newPoint=dragDropData.newPoints[point.id].newValues;resizeSide=typeof resizeProp.resizeSide==="function"?resizeProp.resizeSide(newPoint,point):resizeProp.resizeSide;if(resizeProp.beforeResize){resizeProp.beforeResize(chart.dragGuideBox,newPoint,point)}resizeRect(chart.dragGuideBox,(resizeProp.axis==="x"&&series.xAxis.reversed)||(resizeProp.axis==="y"&&series.yAxis.reversed)?flipResizeSide(resizeSide):resizeSide,{x:resizeProp.axis==="x"?dX-(dragDropData.origin.prevdX||0):0,y:resizeProp.axis==="y"?dY-(dragDropData.origin.prevdY||0):0,})}function dragMove(e,point){var series=point.series,chart=series.chart,data=chart.dragDropData,options=merge(series.options.dragDrop,point.options.dragDrop),draggableX=options.draggableX,draggableY=options.draggableY,origin=data.origin,dX=e.chartX-origin.chartX,dY=e.chartY-origin.chartY,oldDx=dX,updateProp=data.updateProp;if(chart.inverted){dX=-dY;dY=-oldDx}if(pick(options.liveRedraw,true)){updatePoints(chart,false);point.showDragHandles()}else{if(updateProp){resizeGuideBox(point,dX,dY)}else{chart.dragGuideBox.translate(draggableX?dX:0,draggableY?dY:0)}}origin.prevdX=dX;origin.prevdY=dY}Chart.prototype.setGuideBoxState=function(state,options){var guideBox=this.dragGuideBox,guideBoxOptions=merge(defaultGuideBoxOptions,options),stateOptions=merge(guideBoxOptions["default"],guideBoxOptions[state]);return(guideBox.attr({className:stateOptions.className,stroke:stateOptions.lineColor,strokeWidth:stateOptions.lineWidth,fill:stateOptions.color,cursor:stateOptions.cursor,zIndex:stateOptions.zIndex,}).css({pointerEvents:"none"}))};Point.prototype.getDropValues=function(origin,newPos,updateProps){var point=this,series=point.series,options=merge(series.options.dragDrop,point.options.dragDrop),result={},updateSingleProp,pointOrigin=origin.points[point.id];for(var key in updateProps){if(Object.hasOwnProperty.call(updateProps,key)){if(typeof updateSingleProp!=="undefined"){updateSingleProp=false;break}updateSingleProp=true}}var limitToRange=function(val,direction){var defaultPrecision=series[direction.toLowerCase()+"Axis"].categories?1:0,precision=pick(options["dragPrecision"+direction],defaultPrecision),min=pick(options["dragMin"+direction],-Infinity),max=pick(options["dragMax"+direction],Infinity),res=val;if(precision){res=Math.round(res/precision)*precision}return clamp(res,min,max)};objectEach(updateProps,function(val,key){var oldVal=pointOrigin[key],axis=series[val.axis+"Axis"],newVal=limitToRange(axis.toValue((axis.horiz?newPos.chartX:newPos.chartY)+pointOrigin[key+"Offset"]),val.axis.toUpperCase());if(!(updateSingleProp&&val.propValidate&&!val.propValidate(newVal,point))&&typeof oldVal!=="undefined"){result[key]=newVal}});return result};Series.prototype.getGuideBox=function(points){var chart=this.chart,minX=Infinity,maxX=-Infinity,minY=Infinity,maxY=-Infinity,changed;points.forEach(function(point){var bBox=(point.graphic&&point.graphic.getBBox())||point.shapeArgs;if(bBox){var plotX2=void 0;var x2=point.x2;if(isNumber(x2)){plotX2=point.series.xAxis.translate(x2,false,false,false,true)}var skipBBox=!(bBox.width||bBox.height||bBox.x||bBox.y);changed=true;minX=Math.min(point.plotX||0,plotX2||0,skipBBox?Infinity:bBox.x||0,minX);maxX=Math.max(point.plotX||0,plotX2||0,(bBox.x||0)+(bBox.width||0),maxX);minY=Math.min(point.plotY||0,skipBBox?Infinity:bBox.y||0,minY);maxY=Math.max((bBox.y||0)+(bBox.height||0),maxY)}});return changed?chart.renderer.rect(minX,minY,maxX-minX,maxY-minY):chart.renderer.g()};function mouseOut(point){var chart=point.series&&point.series.chart,dragDropData=chart&&chart.dragDropData;if(chart&&chart.dragHandles&&!(dragDropData&&((dragDropData.isDragging&&dragDropData.draggedPastSensitivity)||dragDropData.isHoveringHandle===point.id))){chart.hideDragHandles()}}function onResizeHandleMouseOut(point){var chart=point.series.chart;if(chart.dragDropData&&point.id===chart.dragDropData.isHoveringHandle){delete chart.dragDropData.isHoveringHandle}if(!chart.hoverPoint){mouseOut(point)}}function onResizeHandleMouseDown(e,point,updateProp){var chart=point.series.chart;if(chart.zoomOrPanKeyPressed(e)){return}chart.mouseIsDown=false;initDragDrop(e,point);chart.dragDropData.updateProp=e.updateProp=updateProp;point.firePointEvent("dragStart",e);e.stopPropagation();e.preventDefault()}Point.prototype.showDragHandles=function(){var point=this,series=point.series,chart=series.chart,renderer=chart.renderer,options=merge(series.options.dragDrop,point.options.dragDrop);objectEach(series.dragDropProps,function(val,key){var handleOptions=merge(defaultDragHandleOptions,val.handleOptions,options.dragHandle),handleAttrs={class:handleOptions.className,"stroke-width":handleOptions.lineWidth,fill:handleOptions.color,stroke:handleOptions.lineColor,},pathFormatter=handleOptions.pathFormatter||val.handleFormatter,positioner=val.handlePositioner,pos,handle,path,validate=val.validateIndividualDrag?val.validateIndividualDrag(point):true;if(val.resize&&validate&&val.resizeSide&&pathFormatter&&(options["draggable"+val.axis.toUpperCase()]||options[val.optionName])&&options[val.optionName]!==false){if(!chart.dragHandles){chart.dragHandles={group:renderer.g("drag-drop-handles").add(series.markerGroup||series.group),}}chart.dragHandles.point=point.id;pos=positioner(point);handleAttrs.d=path=pathFormatter(point);if(!path||pos.x<0||pos.y<0){return}handleAttrs.cursor=handleOptions.cursor||(val.axis==="x")!==!!chart.inverted?"ew-resize":"ns-resize";handle=chart.dragHandles[val.optionName];if(!handle){handle=chart.dragHandles[val.optionName]=renderer.path().add(chart.dragHandles.group)}handle.translate(pos.x,pos.y).attr(handleAttrs);addEvents(handle.element,["touchstart","mousedown"],function(e){onResizeHandleMouseDown(getNormalizedEvent(e,chart),point,key)},{passive:false});addEvent(chart.dragHandles.group.element,"mouseover",function(){chart.dragDropData=chart.dragDropData||{};chart.dragDropData.isHoveringHandle=point.id});addEvents(chart.dragHandles.group.element,["touchend","mouseout"],function(){onResizeHandleMouseOut(point)})}})};Chart.prototype.hideDragHandles=function(){var chart=this;if(chart.dragHandles){objectEach(chart.dragHandles,function(val,key){if(key!=="group"&&val.destroy){val.destroy()}});if(chart.dragHandles.group&&chart.dragHandles.group.destroy){chart.dragHandles.group.destroy()}delete chart.dragHandles}};function countProps(obj){var count=0;for(var p in obj){if(Object.hasOwnProperty.call(obj,p)){count++}}return count}function getFirstProp(obj){for(var p in obj){if(Object.hasOwnProperty.call(obj,p)){return obj[p]}}}function mouseOver(point){var series=point.series,chart=series&&series.chart,dragDropData=chart&&chart.dragDropData,is3d=chart&&chart.is3d&&chart.is3d();if(chart&&!(dragDropData&&dragDropData.isDragging&&dragDropData.draggedPastSensitivity)&&!chart.isDragDropAnimating&&series.options.dragDrop&&!is3d){if(chart.dragHandles){chart.hideDragHandles()}point.showDragHandles()}}function mouseMove(e,chart){if(chart.zoomOrPanKeyPressed(e)){return}var dragDropData=chart.dragDropData,point,seriesDragDropOpts,newPoints,numNewPoints=0,newPoint;if(dragDropData&&dragDropData.isDragging&&dragDropData.point.series){point=dragDropData.point;seriesDragDropOpts=point.series.options.dragDrop;e.preventDefault();if(!dragDropData.draggedPastSensitivity){dragDropData.draggedPastSensitivity=hasDraggedPastSensitivity(e,chart,pick(point.options.dragDrop&&point.options.dragDrop.dragSensitivity,seriesDragDropOpts&&seriesDragDropOpts.dragSensitivity,defaultDragSensitivity))}if(dragDropData.draggedPastSensitivity){dragDropData.newPoints=getNewPoints(dragDropData,e);newPoints=dragDropData.newPoints;numNewPoints=countProps(newPoints);newPoint=numNewPoints===1?getFirstProp(newPoints):null;point.firePointEvent("drag",{origin:dragDropData.origin,newPoints:dragDropData.newPoints,newPoint:newPoint&&newPoint.newValues,newPointId:newPoint&&newPoint.point.id,numNewPoints:numNewPoints,chartX:e.chartX,chartY:e.chartY,},function(){dragMove(e,point)})}}}function mouseUp(e,chart){var dragDropData=chart.dragDropData;if(dragDropData&&dragDropData.isDragging&&dragDropData.draggedPastSensitivity&&dragDropData.point.series){var point=dragDropData.point,newPoints=dragDropData.newPoints,numNewPoints=countProps(newPoints),newPoint=numNewPoints===1?getFirstProp(newPoints):null;if(chart.dragHandles){chart.hideDragHandles()}e.preventDefault();chart.cancelClick=true;point.firePointEvent("drop",{origin:dragDropData.origin,chartX:e.chartX,chartY:e.chartY,newPoints:newPoints,numNewPoints:numNewPoints,newPoint:newPoint&&newPoint.newValues,newPointId:newPoint&&newPoint.point.id,},function(){updatePoints(chart)})}delete chart.dragDropData;if(chart.dragGuideBox){chart.dragGuideBox.destroy();delete chart.dragGuideBox}}function mouseDown(e,chart){var dragPoint=chart.hoverPoint,dragDropOptions=merge(dragPoint&&dragPoint.series.options.dragDrop,dragPoint&&dragPoint.options.dragDrop),draggableX=dragDropOptions.draggableX||false,draggableY=dragDropOptions.draggableY||false;chart.cancelClick=false;if(!(draggableX||draggableY)||chart.zoomOrPanKeyPressed(e)||chart.hasDraggedAnnotation){return}if(chart.dragDropData&&chart.dragDropData.isDragging){mouseUp(e,chart);return}if(dragPoint&&isPointMovable(dragPoint)){chart.mouseIsDown=false;initDragDrop(e,dragPoint);dragPoint.firePointEvent("dragStart",e)}}addEvent(Point,"mouseOver",function(){var point=this;setTimeout(function(){mouseOver(point)},12)});addEvent(Point,"mouseOut",function(){var point=this;setTimeout(function(){if(point.series){mouseOut(point)}},10)});addEvent(Point,"remove",function(){var chart=this.series.chart,dragHandles=chart.dragHandles;if(dragHandles&&dragHandles.point===this.id){chart.hideDragHandles()}});Chart.prototype.zoomOrPanKeyPressed=function(e){var chartOptions=this.userOptions.chart||{},panKey=chartOptions.panKey&&chartOptions.panKey+"Key",zoomKey=chartOptions.zoomKey&&chartOptions.zoomKey+"Key";return e[zoomKey]||e[panKey]};function addDragDropEvents(chart){var container=chart.container,doc=H.doc;if(isChartDraggable(chart)){addEvents(container,["mousedown","touchstart"],function(e){mouseDown(getNormalizedEvent(e,chart),chart)});addEvents(container,["mousemove","touchmove"],function(e){mouseMove(getNormalizedEvent(e,chart),chart)},{passive:false});addEvent(container,"mouseleave",function(e){mouseUp(getNormalizedEvent(e,chart),chart)});chart.unbindDragDropMouseUp=addEvents(doc,["mouseup","touchend"],function(e){mouseUp(getNormalizedEvent(e,chart),chart)},{passive:false});chart.hasAddedDragDropEvents=true;addEvent(chart,"destroy",function(){if(chart.unbindDragDropMouseUp){chart.unbindDragDropMouseUp()}})}}addEvent(Chart,"render",function(){if(!this.hasAddedDragDropEvents){addDragDropEvents(this)}});("")});_registerModule(_modules,"masters/modules/draggable-points.src.js",[],function(){});_modules["masters/highcharts-gantt.src.js"]._modules=_modules;return _modules["masters/highcharts-gantt.src.js"]});